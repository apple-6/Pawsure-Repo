
================================================================================
File: .idea\caches\deviceStreaming.xml
Size: 45.88 kB
================================================================================

<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="DeviceStreaming">
    <option name="deviceSelectionList">
      <list>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="Sony" />
          <option name="codename" value="A402SO" />
          <option name="id" value="A402SO" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Sony" />
          <option name="name" value="Xperia 10" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2520" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="27" />
          <option name="brand" value="DOCOMO" />
          <option name="codename" value="F01L" />
          <option name="id" value="F01L" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="FUJITSU" />
          <option name="name" value="F-01L" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1280" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="OnePlus" />
          <option name="codename" value="OP535DL1" />
          <option name="id" value="OP535DL1" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="OnePlus" />
          <option name="name" value="CPH2409" />
          <option name="screenDensity" value="401" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2412" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="OnePlus" />
          <option name="codename" value="OP5552L1" />
          <option name="id" value="OP5552L1" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="OnePlus" />
          <option name="name" value="CPH2415" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2412" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="OnePlus" />
          <option name="codename" value="OP5552L1" />
          <option name="id" value="OP5552L1" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="OnePlus" />
          <option name="name" value="CPH2415" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2412" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="OPPO" />
          <option name="codename" value="OP573DL1" />
          <option name="id" value="OP573DL1" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="OPPO" />
          <option name="name" value="CPH2557" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="28" />
          <option name="brand" value="DOCOMO" />
          <option name="codename" value="SH-01L" />
          <option name="id" value="SH-01L" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="SHARP" />
          <option name="name" value="AQUOS sense2 SH-01L" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2160" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="Lenovo" />
          <option name="codename" value="TB330FU" />
          <option name="formFactor" value="Tablet" />
          <option name="id" value="TB330FU" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Lenovo" />
          <option name="name" value="Tab M11" />
          <option name="screenDensity" value="240" />
          <option name="screenX" value="1200" />
          <option name="screenY" value="1920" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a14m" />
          <option name="id" value="a14m" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-A145R" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2408" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a15" />
          <option name="id" value="a15" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="A15" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a15x" />
          <option name="id" value="a15x" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="A15 5G" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a16x" />
          <option name="id" value="a16x" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="A16 5G" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a35x" />
          <option name="id" value="a35x" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="A35" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="samsung" />
          <option name="codename" value="a36xq" />
          <option name="id" value="a36xq" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-A366E" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="akita" />
          <option name="id" value="akita" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 8a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="akita" />
          <option name="id" value="akita" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 8a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="arcfox" />
          <option name="id" value="arcfox" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="razr plus 2024" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="1272" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="motorola" />
          <option name="codename" value="austin" />
          <option name="id" value="austin" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g 5G (2022)" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="samsung" />
          <option name="codename" value="b0q" />
          <option name="id" value="b0q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S22 Ultra" />
          <option name="screenDensity" value="600" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="3088" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="b6q" />
          <option name="id" value="b6q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Flip 6" />
          <option name="screenDensity" value="340" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2640" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="36" />
          <option name="brand" value="google" />
          <option name="codename" value="blazer" />
          <option name="id" value="blazer" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 10 Pro" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2410" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="32" />
          <option name="brand" value="google" />
          <option name="codename" value="bluejay" />
          <option name="id" value="bluejay" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 6a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="caiman" />
          <option name="id" value="caiman" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="960" />
          <option name="screenY" value="2142" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="caiman" />
          <option name="id" value="caiman" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="960" />
          <option name="screenY" value="2142" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="comet" />
          <option name="default" value="true" />
          <option name="id" value="comet" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro Fold" />
          <option name="screenDensity" value="390" />
          <option name="screenX" value="2076" />
          <option name="screenY" value="2152" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="comet" />
          <option name="default" value="true" />
          <option name="id" value="comet" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro Fold" />
          <option name="screenDensity" value="390" />
          <option name="screenX" value="2076" />
          <option name="screenY" value="2152" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="29" />
          <option name="brand" value="samsung" />
          <option name="codename" value="crownqlteue" />
          <option name="id" value="crownqlteue" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Note9" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="2220" />
          <option name="screenY" value="1080" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="dm2q" />
          <option name="id" value="dm2q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="S23 Plus" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="dm3q" />
          <option name="id" value="dm3q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S23 Ultra" />
          <option name="screenDensity" value="600" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="3088" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="dubai" />
          <option name="id" value="dubai" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="edge 30" />
          <option name="screenDensity" value="405" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="e1q" />
          <option name="default" value="true" />
          <option name="id" value="e1q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S24" />
          <option name="screenDensity" value="480" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="e3q" />
          <option name="id" value="e3q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S24 Ultra" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="3120" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="eos" />
          <option name="id" value="eos" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Eos" />
          <option name="screenDensity" value="320" />
          <option name="screenX" value="384" />
          <option name="screenY" value="384" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="felix" />
          <option name="id" value="felix" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Fold" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="2208" />
          <option name="screenY" value="1840" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="felix" />
          <option name="id" value="felix" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Fold" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="2208" />
          <option name="screenY" value="1840" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="felix_camera" />
          <option name="id" value="felix_camera" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Fold (Camera-enabled)" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="2208" />
          <option name="screenY" value="1840" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="fogona" />
          <option name="id" value="fogona" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g play - 2024" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="fogos" />
          <option name="id" value="fogos" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g34 5G" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="36" />
          <option name="brand" value="google" />
          <option name="codename" value="frankel" />
          <option name="id" value="frankel" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 10" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2424" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="g0q" />
          <option name="id" value="g0q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-S906U1" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gta9pwifi" />
          <option name="id" value="gta9pwifi" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-X210" />
          <option name="screenDensity" value="240" />
          <option name="screenX" value="1200" />
          <option name="screenY" value="1920" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts7lwifi" />
          <option name="id" value="gts7lwifi" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-T870" />
          <option name="screenDensity" value="340" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts7xllite" />
          <option name="id" value="gts7xllite" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-T738U" />
          <option name="screenDensity" value="340" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts8uwifi" />
          <option name="formFactor" value="Tablet" />
          <option name="id" value="gts8uwifi" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Tab S8 Ultra" />
          <option name="screenDensity" value="320" />
          <option name="screenX" value="1848" />
          <option name="screenY" value="2960" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts8wifi" />
          <option name="formFactor" value="Tablet" />
          <option name="id" value="gts8wifi" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Tab S8" />
          <option name="screenDensity" value="274" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts9fe" />
          <option name="id" value="gts9fe" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Tab S9 FE 5G" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="2304" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="gts9wifi" />
          <option name="id" value="gts9wifi" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-X710" />
          <option name="screenDensity" value="340" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="husky" />
          <option name="id" value="husky" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 8 Pro" />
          <option name="screenDensity" value="390" />
          <option name="screenX" value="1008" />
          <option name="screenY" value="2244" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="30" />
          <option name="brand" value="motorola" />
          <option name="codename" value="java" />
          <option name="id" value="java" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="G20" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="motorola" />
          <option name="codename" value="kansas" />
          <option name="id" value="kansas" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g - 2025" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1604" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="komodo" />
          <option name="id" value="komodo" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro XL" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="1008" />
          <option name="screenY" value="2244" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="komodo" />
          <option name="id" value="komodo" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9 Pro XL" />
          <option name="screenDensity" value="360" />
          <option name="screenX" value="1008" />
          <option name="screenY" value="2244" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="lion" />
          <option name="id" value="lion" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g04" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1612" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="lynx" />
          <option name="id" value="lynx" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 7a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="lyriq" />
          <option name="id" value="lyriq" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="edge 40" />
          <option name="screenDensity" value="400" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="motorola" />
          <option name="codename" value="manaus" />
          <option name="id" value="manaus" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="edge 40 neo" />
          <option name="screenDensity" value="400" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="motorola" />
          <option name="codename" value="maui" />
          <option name="id" value="maui" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Motorola" />
          <option name="name" value="moto g play - 2023" />
          <option name="screenDensity" value="280" />
          <option name="screenX" value="720" />
          <option name="screenY" value="1600" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="36" />
          <option name="brand" value="google" />
          <option name="codename" value="mustang" />
          <option name="id" value="mustang" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 10 Pro XL" />
          <option name="screenDensity" value="390" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2404" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="o1q" />
          <option name="id" value="o1q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S21" />
          <option name="screenDensity" value="421" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="31" />
          <option name="brand" value="google" />
          <option name="codename" value="oriole" />
          <option name="id" value="oriole" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 6" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="samsung" />
          <option name="codename" value="pa3q" />
          <option name="id" value="pa3q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S25 Ultra" />
          <option name="screenDensity" value="600" />
          <option name="screenX" value="1440" />
          <option name="screenY" value="3120" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="panther" />
          <option name="id" value="panther" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 7" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="q5q" />
          <option name="id" value="q5q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Z Fold5" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1812" />
          <option name="screenY" value="2176" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="q6q" />
          <option name="id" value="q6q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy Z Fold6" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1856" />
          <option name="screenY" value="2160" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="30" />
          <option name="brand" value="google" />
          <option name="codename" value="r11" />
          <option name="formFactor" value="Wear OS" />
          <option name="id" value="r11" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Watch" />
          <option name="screenDensity" value="320" />
          <option name="screenX" value="384" />
          <option name="screenY" value="384" />
          <option name="type" value="WEAR_OS" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="r11q" />
          <option name="id" value="r11q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-S711U" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="36" />
          <option name="brand" value="google" />
          <option name="codename" value="rango" />
          <option name="id" value="rango" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 10 Pro Fold" />
          <option name="screenDensity" value="390" />
          <option name="screenX" value="2076" />
          <option name="screenY" value="2152" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="30" />
          <option name="brand" value="google" />
          <option name="codename" value="redfin" />
          <option name="id" value="redfin" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 5" />
          <option name="screenDensity" value="440" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2340" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="shiba" />
          <option name="id" value="shiba" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 8" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="t2q" />
          <option name="id" value="t2q" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="Galaxy S21 Plus" />
          <option name="screenDensity" value="394" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2400" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="33" />
          <option name="brand" value="google" />
          <option name="codename" value="tangorpro" />
          <option name="formFactor" value="Tablet" />
          <option name="id" value="tangorpro" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel Tablet" />
          <option name="screenDensity" value="320" />
          <option name="screenX" value="1600" />
          <option name="screenY" value="2560" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="tegu" />
          <option name="id" value="tegu" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9a" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2424" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="google" />
          <option name="codename" value="tokay" />
          <option name="default" value="true" />
          <option name="id" value="tokay" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2424" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="35" />
          <option name="brand" value="google" />
          <option name="codename" value="tokay" />
          <option name="default" value="true" />
          <option name="id" value="tokay" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2424" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="36" />
          <option name="brand" value="google" />
          <option name="codename" value="tokay" />
          <option name="default" value="true" />
          <option name="id" value="tokay" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Google" />
          <option name="name" value="Pixel 9" />
          <option name="screenDensity" value="420" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2424" />
        </PersistentDeviceSelectionData>
        <PersistentDeviceSelectionData>
          <option name="api" value="34" />
          <option name="brand" value="samsung" />
          <option name="codename" value="xcover7" />
          <option name="id" value="xcover7" />
          <option name="labId" value="google" />
          <option name="manufacturer" value="Samsung" />
          <option name="name" value="SM-G556B" />
          <option name="screenDensity" value="450" />
          <option name="screenX" value="1080" />
          <option name="screenY" value="2408" />
        </PersistentDeviceSelectionData>
      </list>
    </option>
  </component>
</project>

================================================================================
File: .idea\misc.xml
Size: 276 B
================================================================================

<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ProjectRootManager" version="2" languageLevel="JDK_21" default="true" project-jdk-name="21" project-jdk-type="JavaSDK">
    <output url="file://$PROJECT_DIR$/out" />
  </component>
</project>

================================================================================
File: .idea\modules.xml
Size: 289 B
================================================================================

<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ProjectModuleManager">
    <modules>
      <module fileurl="file://$PROJECT_DIR$/.idea/pawsure-backend.iml" filepath="$PROJECT_DIR$/.idea/pawsure-backend.iml" />
    </modules>
  </component>
</project>

================================================================================
File: .idea\pawsure-backend.iml
Size: 344 B
================================================================================

<?xml version="1.0" encoding="UTF-8"?>
<module type="JAVA_MODULE" version="4">
  <component name="NewModuleRootManager" inherit-compiler-output="true">
    <exclude-output />
    <content url="file://$MODULE_DIR$" />
    <orderEntry type="inheritedJdk" />
    <orderEntry type="sourceFolder" forTests="false" />
  </component>
</module>

================================================================================
File: .idea\vcs.xml
Size: 172 B
================================================================================

<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="VcsDirectoryMappings">
    <mapping directory="" vcs="Git" />
  </component>
</project>

================================================================================
File: .idea\workspace.xml
Size: 2.1 kB
================================================================================

<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="NONE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="bc54dc65-22e8-4868-a2bd-12acb0695267" name="Changes" comment="" />
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="ClangdSettings">
    <option name="formatViaClangd" value="false" />
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="ProjectColorInfo"><![CDATA[{
  "associatedIndex": 4
}]]></component>
  <component name="ProjectId" id="34N6UNBefI8C6HIPw0jKe8e35ks" />
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent"><![CDATA[{
  "keyToString": {
    "ModuleVcsDetector.initialDetectionPerformed": "true",
    "RunOnceActivity.ShowReadmeOnStart": "true",
    "RunOnceActivity.cidr.known.project.marker": "true",
    "RunOnceActivity.git.unshallow": "true",
    "RunOnceActivity.readMode.enableVisualFormatting": "true",
    "cf.first.check.clang-format": "false",
    "cidr.known.project.marker": "true",
    "git-widget-placeholder": "main",
    "ignore.virus.scanning.warn.message": "true",
    "settings.editor.selected.configurable": "AndroidSdkUpdater"
  }
}]]></component>
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="bc54dc65-22e8-4868-a2bd-12acb0695267" name="Changes" comment="" />
      <created>1761041697392</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1761041697392</updated>
    </task>
    <servers />
  </component>
</project>

================================================================================
File: .prettierrc
Size: 56 B
================================================================================

{
  "singleQuote": true,
  "trailingComma": "all"
}


================================================================================
File: check_require.js
Size: 179 B
================================================================================

try {
  console.log('resolved:', require.resolve('@nestjs/platform-express'))
} catch (err) {
  console.error('err', err && err.stack ? err.stack : err)
  process.exit(1)
}


================================================================================
File: dist\activity-log\activity-log.entity.d.ts
Size: 245 B
================================================================================

import { Pet } from 'src/pet/pet.entity';
export declare class ActivityLog {
    id: number;
    activity_type: string;
    duration: number;
    distance: number;
    timestamp: Date;
    created_at: Date;
    updated_at: Date;
    pet: Pet;
}


================================================================================
File: dist\activity-log\activity-log.entity.js
Size: 2.48 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ActivityLog = void 0;
const pet_entity_1 = require("../pet/pet.entity");
const typeorm_1 = require("typeorm");
let ActivityLog = class ActivityLog {
    id;
    activity_type;
    duration;
    distance;
    timestamp;
    created_at;
    updated_at;
    pet;
};
exports.ActivityLog = ActivityLog;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], ActivityLog.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], ActivityLog.prototype, "activity_type", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'float', nullable: true }),
    __metadata("design:type", Number)
], ActivityLog.prototype, "duration", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'float', nullable: true }),
    __metadata("design:type", Number)
], ActivityLog.prototype, "distance", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'timestamp' }),
    __metadata("design:type", Date)
], ActivityLog.prototype, "timestamp", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], ActivityLog.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], ActivityLog.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => pet_entity_1.Pet, (pet) => pet.activityLogs),
    __metadata("design:type", pet_entity_1.Pet)
], ActivityLog.prototype, "pet", void 0);
exports.ActivityLog = ActivityLog = __decorate([
    (0, typeorm_1.Entity)('activity_logs')
], ActivityLog);
//# sourceMappingURL=activity-log.entity.js.map

================================================================================
File: dist\activity-log\activity-log.entity.js.map
Size: 943 B
================================================================================

{"version":3,"file":"activity-log.entity.js","sourceRoot":"","sources":["../../src/activity-log/activity-log.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,kDAAyC;AACzC,qCAEiB;AAGV,IAAM,WAAW,GAAjB,MAAM,WAAW;IAEtB,EAAE,CAAS;IAGX,aAAa,CAAS;IAGtB,QAAQ,CAAS;IAGjB,QAAQ,CAAS;IAGjB,SAAS,CAAO;IAGhB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAIjB,GAAG,CAAM;CACV,CAAA;AAzBY,kCAAW;AAEtB;IADC,IAAA,gCAAsB,GAAE;;uCACd;AAGX;IADC,IAAA,gBAAM,GAAE;;kDACa;AAGtB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACzB;AAGjB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACzB;AAGjB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;8BACnB,IAAI;8CAAC;AAGhB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;+CAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;+CAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,gBAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC;8BAC3C,gBAAG;wCAAC;sBAxBE,WAAW;IADvB,IAAA,gBAAM,EAAC,eAAe,CAAC;GACX,WAAW,CAyBvB"}

================================================================================
File: dist\activity-log\activity-log.module.d.ts
Size: 43 B
================================================================================

export declare class ActivityLogModule {
}


================================================================================
File: dist\activity-log\activity-log.module.js
Size: 1.39 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ActivityLogModule = void 0;
const common_1 = require("@nestjs/common");
const activity_log_service_1 = require("./activity-log.service");
const typeorm_1 = require("@nestjs/typeorm");
const activity_log_entity_1 = require("./activity-log.entity");
let ActivityLogModule = class ActivityLogModule {
};
exports.ActivityLogModule = ActivityLogModule;
exports.ActivityLogModule = ActivityLogModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([activity_log_entity_1.ActivityLog])],
        providers: [activity_log_service_1.ActivityLogService],
        exports: [activity_log_service_1.ActivityLogService]
    })
], ActivityLogModule);
//# sourceMappingURL=activity-log.module.js.map

================================================================================
File: dist\activity-log\activity-log.module.js.map
Size: 460 B
================================================================================

{"version":3,"file":"activity-log.module.js","sourceRoot":"","sources":["../../src/activity-log/activity-log.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,iEAA4D;AAC5D,6CAAgD;AAChD,+DAAoD;AAO7C,IAAM,iBAAiB,GAAvB,MAAM,iBAAiB;CAAG,CAAA;AAApB,8CAAiB;4BAAjB,iBAAiB;IAL7B,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,iCAAW,CAAC,CAAC,CAAC;QAClD,SAAS,EAAE,CAAC,yCAAkB,CAAC;QAC/B,OAAO,EAAE,CAAC,yCAAkB,CAAC;KAC9B,CAAC;GACW,iBAAiB,CAAG"}

================================================================================
File: dist\activity-log\activity-log.service.d.ts
Size: 44 B
================================================================================

export declare class ActivityLogService {
}


================================================================================
File: dist\activity-log\activity-log.service.js
Size: 1 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ActivityLogService = void 0;
const common_1 = require("@nestjs/common");
let ActivityLogService = class ActivityLogService {
};
exports.ActivityLogService = ActivityLogService;
exports.ActivityLogService = ActivityLogService = __decorate([
    (0, common_1.Injectable)()
], ActivityLogService);
//# sourceMappingURL=activity-log.service.js.map

================================================================================
File: dist\activity-log\activity-log.service.js.map
Size: 280 B
================================================================================

{"version":3,"file":"activity-log.service.js","sourceRoot":"","sources":["../../src/activity-log/activity-log.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;CAAG,CAAA;AAArB,gDAAkB;6BAAlB,kBAAkB;IAD9B,IAAA,mBAAU,GAAE;GACA,kBAAkB,CAAG"}

================================================================================
File: dist\ai\ai.controller.d.ts
Size: 401 B
================================================================================

import { AiService } from './ai.service';
export declare class AiController {
    private readonly aiService;
    constructor(aiService: AiService);
    analyzePhoto(file: Express.Multer.File): Promise<{
        analysis_id: string;
        results: {
            description: string | null | undefined;
            score: number | null | undefined;
        }[];
        suggestion: string;
    }>;
}


================================================================================
File: dist\ai\ai.controller.js
Size: 2.09 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AiController = void 0;
const common_1 = require("@nestjs/common");
const platform_express_1 = require("@nestjs/platform-express");
const ai_service_1 = require("./ai.service");
let AiController = class AiController {
    aiService;
    constructor(aiService) {
        this.aiService = aiService;
    }
    async analyzePhoto(file) {
        if (!file) {
        }
        console.log('File received, sending to AI service...');
        return this.aiService.analyzeImage(file.buffer);
    }
};
exports.AiController = AiController;
__decorate([
    (0, common_1.Post)('analyze-photo'),
    (0, common_1.UseInterceptors)((0, platform_express_1.FileInterceptor)('image')),
    __param(0, (0, common_1.UploadedFile)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", Promise)
], AiController.prototype, "analyzePhoto", null);
exports.AiController = AiController = __decorate([
    (0, common_1.Controller)('ai'),
    __metadata("design:paramtypes", [ai_service_1.AiService])
], AiController);
//# sourceMappingURL=ai.controller.js.map

================================================================================
File: dist\ai\ai.controller.js.map
Size: 690 B
================================================================================

{"version":3,"file":"ai.controller.js","sourceRoot":"","sources":["../../src/ai/ai.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAKwB;AACxB,+DAA2D;AAC3D,6CAAyC;AAIlC,IAAM,YAAY,GAAlB,MAAM,YAAY;IACM;IAA7B,YAA6B,SAAoB;QAApB,cAAS,GAAT,SAAS,CAAW;IAAG,CAAC;IAI/C,AAAN,KAAK,CAAC,YAAY,CAAiB,IAAyB;QAC1D,IAAI,CAAC,IAAI,EAAE,CAAC;QAEZ,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;QACvD,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;CACF,CAAA;AAZY,oCAAY;AAKjB;IAFL,IAAA,aAAI,EAAC,eAAe,CAAC;IACrB,IAAA,wBAAe,EAAC,IAAA,kCAAe,EAAC,OAAO,CAAC,CAAC;IACtB,WAAA,IAAA,qBAAY,GAAE,CAAA;;;;gDAMjC;uBAXU,YAAY;IADxB,IAAA,mBAAU,EAAC,IAAI,CAAC;qCAEyB,sBAAS;GADtC,YAAY,CAYxB"}

================================================================================
File: dist\ai\ai.module.d.ts
Size: 34 B
================================================================================

export declare class AiModule {
}


================================================================================
File: dist\ai\ai.module.js
Size: 1.11 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AiModule = void 0;
const common_1 = require("@nestjs/common");
const ai_service_1 = require("./ai.service");
const ai_controller_1 = require("./ai.controller");
let AiModule = class AiModule {
};
exports.AiModule = AiModule;
exports.AiModule = AiModule = __decorate([
    (0, common_1.Module)({
        controllers: [ai_controller_1.AiController],
        providers: [ai_service_1.AiService],
    })
], AiModule);
//# sourceMappingURL=ai.module.js.map

================================================================================
File: dist\ai\ai.module.js.map
Size: 335 B
================================================================================

{"version":3,"file":"ai.module.js","sourceRoot":"","sources":["../../src/ai/ai.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,6CAAyC;AACzC,mDAA+C;AAQxC,IAAM,QAAQ,GAAd,MAAM,QAAQ;CAAG,CAAA;AAAX,4BAAQ;mBAAR,QAAQ;IALpB,IAAA,eAAM,EAAC;QAEN,WAAW,EAAE,CAAC,4BAAY,CAAC;QAC3B,SAAS,EAAE,CAAC,sBAAS,CAAC;KACvB,CAAC;GACW,QAAQ,CAAG"}

================================================================================
File: dist\ai\ai.service.d.ts
Size: 327 B
================================================================================

export declare class AiService {
    private readonly client;
    constructor();
    analyzeImage(imageBuffer: Buffer): Promise<{
        analysis_id: string;
        results: {
            description: string | null | undefined;
            score: number | null | undefined;
        }[];
        suggestion: string;
    }>;
}


================================================================================
File: dist\ai\ai.service.js
Size: 2 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AiService = void 0;
const common_1 = require("@nestjs/common");
const vision_1 = require("@google-cloud/vision");
const path_1 = require("path");
let AiService = class AiService {
    client;
    constructor() {
        this.client = new vision_1.ImageAnnotatorClient({
            keyFilename: (0, path_1.join)(process.cwd(), 'google-credentials.json'),
        });
    }
    async analyzeImage(imageBuffer) {
        const [result] = await this.client.labelDetection(imageBuffer);
        const labels = result.labelAnnotations;
        console.log('Google Vision API results:');
        console.log(labels);
        const processedResults = (labels || []).map((label) => ({
            description: label.description,
            score: label.score,
        }));
        return {
            analysis_id: `ai_${new Date().getTime()}`,
            results: processedResults,
            suggestion: 'Analysis complete. Further logic needed.',
        };
    }
};
exports.AiService = AiService;
exports.AiService = AiService = __decorate([
    (0, common_1.Injectable)(),
    __metadata("design:paramtypes", [])
], AiService);
//# sourceMappingURL=ai.service.js.map

================================================================================
File: dist\ai\ai.service.js.map
Size: 976 B
================================================================================

{"version":3,"file":"ai.service.js","sourceRoot":"","sources":["../../src/ai/ai.service.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,2CAA4C;AAC5C,iDAA4D;AAC5D,+BAA4B;AAGrB,IAAM,SAAS,GAAf,MAAM,SAAS;IACH,MAAM,CAAuB;IAG9C;QAEE,IAAI,CAAC,MAAM,GAAG,IAAI,6BAAoB,CAAC;YACrC,WAAW,EAAE,IAAA,WAAI,EAAC,OAAO,CAAC,GAAG,EAAE,EAAE,yBAAyB,CAAC;SAC5D,CAAC,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,YAAY,CAAC,WAAmB;QACpC,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QAC/D,MAAM,MAAM,GAAG,MAAM,CAAC,gBAAgB,CAAC;QAEvC,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC1C,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAEpB,MAAM,gBAAgB,GAAG,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACtD,WAAW,EAAE,KAAK,CAAC,WAAW;YAC9B,KAAK,EAAE,KAAK,CAAC,KAAK;SACnB,CAAC,CAAC,CAAC;QAEJ,OAAO;YACL,WAAW,EAAE,MAAM,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,EAAE;YACzC,OAAO,EAAE,gBAAgB;YACzB,UAAU,EAAE,0CAA0C;SACvD,CAAC;IACJ,CAAC;CACF,CAAA;AA9BY,8BAAS;oBAAT,SAAS;IADrB,IAAA,mBAAU,GAAE;;GACA,SAAS,CA8BrB"}

================================================================================
File: dist\app.controller.d.ts
Size: 181 B
================================================================================

import { AppService } from './app.service';
export declare class AppController {
    private readonly appService;
    constructor(appService: AppService);
    getHello(): string;
}


================================================================================
File: dist\app.controller.js
Size: 1.61 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppController = void 0;
const common_1 = require("@nestjs/common");
const app_service_1 = require("./app.service");
let AppController = class AppController {
    appService;
    constructor(appService) {
        this.appService = appService;
    }
    getHello() {
        return this.appService.getHello();
    }
};
exports.AppController = AppController;
__decorate([
    (0, common_1.Get)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", String)
], AppController.prototype, "getHello", null);
exports.AppController = AppController = __decorate([
    (0, common_1.Controller)(),
    __metadata("design:paramtypes", [app_service_1.AppService])
], AppController);
//# sourceMappingURL=app.controller.js.map

================================================================================
File: dist\app.controller.js.map
Size: 433 B
================================================================================

{"version":3,"file":"app.controller.js","sourceRoot":"","sources":["../src/app.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;AAEA,2CAAiD;AACjD,+CAA2C;AAGpC,IAAM,aAAa,GAAnB,MAAM,aAAa;IACK;IAA7B,YAA6B,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAAC;IAGvD,QAAQ;QACN,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;IACpC,CAAC;CACF,CAAA;AAPY,sCAAa;AAIxB;IADC,IAAA,YAAG,GAAE;;;;6CAGL;wBANU,aAAa;IADzB,IAAA,mBAAU,GAAE;qCAE8B,wBAAU;GADxC,aAAa,CAOzB"}

================================================================================
File: dist\app.module.d.ts
Size: 35 B
================================================================================

export declare class AppModule {
}


================================================================================
File: dist\app.module.js
Size: 3.45 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppModule = void 0;
const common_1 = require("@nestjs/common");
const app_controller_1 = require("./app.controller");
const app_service_1 = require("./app.service");
const config_1 = require("@nestjs/config");
const typeorm_1 = require("@nestjs/typeorm");
const ai_module_1 = require("./ai/ai.module");
const user_module_1 = require("./user/user.module");
const pet_module_1 = require("./pet/pet.module");
const sitter_module_1 = require("./sitter/sitter.module");
const booking_module_1 = require("./booking/booking.module");
const payment_module_1 = require("./payment/payment.module");
const activity_log_module_1 = require("./activity-log/activity-log.module");
const health_record_module_1 = require("./health-record/health-record.module");
const review_module_1 = require("./review/review.module");
const notification_module_1 = require("./notification/notification.module");
const posts_module_1 = require("./posts/posts.module");
const comments_module_1 = require("./comments/comments.module");
const likes_module_1 = require("./likes/likes.module");
const role_module_1 = require("./role/role.module");
const auth_module_1 = require("./auth/auth.module");
let AppModule = class AppModule {
};
exports.AppModule = AppModule;
exports.AppModule = AppModule = __decorate([
    (0, common_1.Module)({
        imports: [
            config_1.ConfigModule.forRoot({
                isGlobal: true,
                envFilePath: '.env',
            }),
            typeorm_1.TypeOrmModule.forRootAsync({
                imports: [config_1.ConfigModule],
                inject: [config_1.ConfigService],
                useFactory: (configService) => ({
                    type: 'postgres',
                    url: configService.get('DATABASE_URL'),
                    autoLoadEntities: true,
                    synchronize: false,
                    ssl: {
                        rejectUnauthorized: false
                    }
                }),
            }),
            ai_module_1.AiModule,
            user_module_1.UserModule,
            pet_module_1.PetModule,
            sitter_module_1.SitterModule,
            booking_module_1.BookingModule,
            payment_module_1.PaymentModule,
            activity_log_module_1.ActivityLogModule,
            health_record_module_1.HealthRecordModule,
            review_module_1.ReviewModule,
            notification_module_1.NotificationModule,
            posts_module_1.PostsModule,
            comments_module_1.CommentsModule,
            likes_module_1.LikesModule,
            role_module_1.RoleModule,
            auth_module_1.AuthModule,
        ],
        controllers: [app_controller_1.AppController],
        providers: [app_service_1.AppService],
    })
], AppModule);
//# sourceMappingURL=app.module.js.map

================================================================================
File: dist\app.module.js.map
Size: 1.15 kB
================================================================================

{"version":3,"file":"app.module.js","sourceRoot":"","sources":["../src/app.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,qDAAiD;AACjD,+CAA2C;AAC3C,2CAA6D;AAC7D,6CAAgD;AAChD,8CAA0C;AAC1C,oDAAgD;AAChD,iDAA6C;AAC7C,0DAAsD;AACtD,6DAAyD;AACzD,6DAAyD;AACzD,4EAAuE;AACvE,+EAA0E;AAC1E,0DAAsD;AACtD,4EAAwE;AACxE,uDAAmD;AACnD,gEAA4D;AAC5D,uDAAmD;AACnD,oDAAgD;AAChD,oDAAgD;AA0CzC,IAAM,SAAS,GAAf,MAAM,SAAS;CAAG,CAAA;AAAZ,8BAAS;oBAAT,SAAS;IAxCrB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE;YACP,qBAAY,CAAC,OAAO,CAAC;gBACnB,QAAQ,EAAE,IAAI;gBACd,WAAW,EAAE,MAAM;aACpB,CAAC;YAEF,uBAAa,CAAC,YAAY,CAAC;gBACzB,OAAO,EAAE,CAAC,qBAAY,CAAC;gBACvB,MAAM,EAAE,CAAC,sBAAa,CAAC;gBACvB,UAAU,EAAE,CAAC,aAA4B,EAAE,EAAE,CAAC,CAAC;oBAC7C,IAAI,EAAE,UAAU;oBAChB,GAAG,EAAE,aAAa,CAAC,GAAG,CAAS,cAAc,CAAC;oBAC9C,gBAAgB,EAAE,IAAI;oBACtB,WAAW,EAAE,KAAK;oBAClB,GAAG,EAAE;wBACH,kBAAkB,EAAE,KAAK;qBAC1B;iBACF,CAAC;aACH,CAAC;YACJ,oBAAQ;YAEN,wBAAU;YACV,sBAAS;YACT,4BAAY;YACZ,8BAAa;YACb,8BAAa;YACb,uCAAiB;YACjB,yCAAkB;YAClB,4BAAY;YACZ,wCAAkB;YAClB,0BAAW;YACX,gCAAc;YACd,0BAAW;YACb,wBAAU;YACV,wBAAU;SACT;QACD,WAAW,EAAE,CAAC,8BAAa,CAAC;QAC5B,SAAS,EAAE,CAAC,wBAAU,CAAC;KACxB,CAAC;GACW,SAAS,CAAG"}

================================================================================
File: dist\app.service.d.ts
Size: 60 B
================================================================================

export declare class AppService {
    getHello(): string;
}


================================================================================
File: dist\app.service.js
Size: 981 B
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppService = void 0;
const common_1 = require("@nestjs/common");
let AppService = class AppService {
    getHello() {
        return 'Hello World!';
    }
};
exports.AppService = AppService;
exports.AppService = AppService = __decorate([
    (0, common_1.Injectable)()
], AppService);
//# sourceMappingURL=app.service.js.map

================================================================================
File: dist\app.service.js.map
Size: 278 B
================================================================================

{"version":3,"file":"app.service.js","sourceRoot":"","sources":["../src/app.service.ts"],"names":[],"mappings":";;;;;;;;;AAEA,2CAA4C;AAGrC,IAAM,UAAU,GAAhB,MAAM,UAAU;IACrB,QAAQ;QACN,OAAO,cAAc,CAAC;IACxB,CAAC;CACF,CAAA;AAJY,gCAAU;qBAAV,UAAU;IADtB,IAAA,mBAAU,GAAE;GACA,UAAU,CAItB"}

================================================================================
File: dist\auth\auth.controller.d.ts
Size: 1.13 kB
================================================================================

import { AuthService } from './auth.service';
import { RegisterUserDto } from './dto/register-user.dto';
import { LoginUserDto } from './dto/login-user.dto';
export declare class AuthController {
    private readonly authService;
    constructor(authService: AuthService);
    register(registerUserDto: RegisterUserDto): Promise<{
        id: number;
        name: string;
        email: string;
        phone_number: string;
        role: string;
        profile_picture: string;
        created_at: Date;
        updated_at: Date;
        pets: import("../pet/pet.entity").Pet[];
        sitterProfile: import("../sitter/sitter.entity").Sitter;
        bookings: import("../booking/booking.entity").Booking[];
        reviews: import("../review/review.entity").Review[];
        notifications: import("../notification/notification.entity").Notification[];
        posts: import("../posts/posts.entity").Post[];
        comments: import("../comments/comments.entity").Comment[];
        likes: import("../likes/likes.entity").Like[];
    }>;
    login(loginUserDto: LoginUserDto): Promise<{
        access_token: string;
    }>;
}


================================================================================
File: dist\auth\auth.controller.js
Size: 2.44 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AuthController = void 0;
const common_1 = require("@nestjs/common");
const auth_service_1 = require("./auth.service");
const register_user_dto_1 = require("./dto/register-user.dto");
const login_user_dto_1 = require("./dto/login-user.dto");
let AuthController = class AuthController {
    authService;
    constructor(authService) {
        this.authService = authService;
    }
    register(registerUserDto) {
        return this.authService.register(registerUserDto);
    }
    login(loginUserDto) {
        return this.authService.login(loginUserDto);
    }
};
exports.AuthController = AuthController;
__decorate([
    (0, common_1.Post)('register'),
    __param(0, (0, common_1.Body)(common_1.ValidationPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [register_user_dto_1.RegisterUserDto]),
    __metadata("design:returntype", void 0)
], AuthController.prototype, "register", null);
__decorate([
    (0, common_1.Post)('login'),
    __param(0, (0, common_1.Body)(common_1.ValidationPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [login_user_dto_1.LoginUserDto]),
    __metadata("design:returntype", void 0)
], AuthController.prototype, "login", null);
exports.AuthController = AuthController = __decorate([
    (0, common_1.Controller)('auth'),
    __metadata("design:paramtypes", [auth_service_1.AuthService])
], AuthController);
//# sourceMappingURL=auth.controller.js.map

================================================================================
File: dist\auth\auth.controller.js.map
Size: 756 B
================================================================================

{"version":3,"file":"auth.controller.js","sourceRoot":"","sources":["../../src/auth/auth.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA,2CAAwE;AACxE,iDAA6C;AAC7C,+DAA0D;AAC1D,yDAAoD;AAG7C,IAAM,cAAc,GAApB,MAAM,cAAc;IACI;IAA7B,YAA6B,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAGzD,QAAQ,CAAuB,eAAgC;QAG7D,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;IACpD,CAAC;IAGD,KAAK,CAAuB,YAA0B;QACpD,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;IAC9C,CAAC;CACF,CAAA;AAdY,wCAAc;AAIzB;IADC,IAAA,aAAI,EAAC,UAAU,CAAC;IACP,WAAA,IAAA,aAAI,EAAC,uBAAc,CAAC,CAAA;;qCAAkB,mCAAe;;8CAI9D;AAGD;IADC,IAAA,aAAI,EAAC,OAAO,CAAC;IACP,WAAA,IAAA,aAAI,EAAC,uBAAc,CAAC,CAAA;;qCAAe,6BAAY;;2CAErD;yBAbU,cAAc;IAD1B,IAAA,mBAAU,EAAC,MAAM,CAAC;qCAEyB,0BAAW;GAD1C,cAAc,CAc1B"}

================================================================================
File: dist\auth\auth.module.d.ts
Size: 36 B
================================================================================

export declare class AuthModule {
}


================================================================================
File: dist\auth\auth.module.js
Size: 2.02 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AuthModule = void 0;
const common_1 = require("@nestjs/common");
const jwt_1 = require("@nestjs/jwt");
const passport_1 = require("@nestjs/passport");
const config_1 = require("@nestjs/config");
const auth_service_1 = require("./auth.service");
const auth_controller_1 = require("./auth.controller");
const jwt_strategy_1 = require("./jwt.strategy");
const user_module_1 = require("../user/user.module");
let AuthModule = class AuthModule {
};
exports.AuthModule = AuthModule;
exports.AuthModule = AuthModule = __decorate([
    (0, common_1.Module)({
        imports: [
            user_module_1.UserModule,
            passport_1.PassportModule,
            jwt_1.JwtModule.registerAsync({
                imports: [config_1.ConfigModule],
                inject: [config_1.ConfigService],
                useFactory: (configService) => ({
                    secret: configService.get('JWT_SECRET') || 'fallback-secret-key-12345',
                    signOptions: {
                        expiresIn: (configService.get('JWT_EXPIRATION') || '1d'),
                    },
                }),
            }),
        ],
        controllers: [auth_controller_1.AuthController],
        providers: [auth_service_1.AuthService, jwt_strategy_1.JwtStrategy],
        exports: [auth_service_1.AuthService],
    })
], AuthModule);
//# sourceMappingURL=auth.module.js.map

================================================================================
File: dist\auth\auth.module.js.map
Size: 806 B
================================================================================

{"version":3,"file":"auth.module.js","sourceRoot":"","sources":["../../src/auth/auth.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,qCAAwC;AACxC,+CAAkD;AAClD,2CAA6D;AAC7D,iDAA6C;AAC7C,uDAAmD;AACnD,iDAA6C;AAC7C,qDAAiD;AAwB1C,IAAM,UAAU,GAAhB,MAAM,UAAU;CAAG,CAAA;AAAb,gCAAU;qBAAV,UAAU;IArBtB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc;YAEd,eAAS,CAAC,aAAa,CAAC;gBACtB,OAAO,EAAE,CAAC,qBAAY,CAAC;gBACvB,MAAM,EAAE,CAAC,sBAAa,CAAC;gBACvB,UAAU,EAAE,CAAC,aAA4B,EAAE,EAAE,CAAC,CAAC;oBAC7C,MAAM,EAAE,aAAa,CAAC,GAAG,CAAS,YAAY,CAAC,IAAI,2BAA2B;oBAC9E,WAAW,EAAE;wBAEX,SAAS,EAAE,CAAC,aAAa,CAAC,GAAG,CAAS,gBAAgB,CAAC,IAAI,IAAI,CAAgC;qBAChG;iBACF,CAAC;aACH,CAAC;SACH;QACD,WAAW,EAAE,CAAC,gCAAc,CAAC;QAC7B,SAAS,EAAE,CAAC,0BAAW,EAAE,0BAAW,CAAC;QACrC,OAAO,EAAE,CAAC,0BAAW,CAAC;KACvB,CAAC;GACW,UAAU,CAAG"}

================================================================================
File: dist\auth\auth.service.d.ts
Size: 1.24 kB
================================================================================

import { UserService } from 'src/user/user.service';
import { RegisterUserDto } from './dto/register-user.dto';
import { LoginUserDto } from './dto/login-user.dto';
import { JwtService } from '@nestjs/jwt';
export declare class AuthService {
    private readonly userService;
    private readonly jwtService;
    constructor(userService: UserService, jwtService: JwtService);
    register(registerUserDto: RegisterUserDto): Promise<{
        id: number;
        name: string;
        email: string;
        phone_number: string;
        role: string;
        profile_picture: string;
        created_at: Date;
        updated_at: Date;
        pets: import("../pet/pet.entity").Pet[];
        sitterProfile: import("../sitter/sitter.entity").Sitter;
        bookings: import("../booking/booking.entity").Booking[];
        reviews: import("../review/review.entity").Review[];
        notifications: import("../notification/notification.entity").Notification[];
        posts: import("../posts/posts.entity").Post[];
        comments: import("../comments/comments.entity").Comment[];
        likes: import("../likes/likes.entity").Like[];
    }>;
    login(loginUserDto: LoginUserDto): Promise<{
        access_token: string;
    }>;
}


================================================================================
File: dist\auth\auth.service.js
Size: 4.6 kB
================================================================================

"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AuthService = void 0;
const common_1 = require("@nestjs/common");
const user_service_1 = require("../user/user.service");
const jwt_1 = require("@nestjs/jwt");
const bcrypt = __importStar(require("bcrypt"));
let AuthService = class AuthService {
    userService;
    jwtService;
    constructor(userService, jwtService) {
        this.userService = userService;
        this.jwtService = jwtService;
    }
    async register(registerUserDto) {
        const { email, phone_number, password, name, role } = registerUserDto;
        if (email) {
            const existingUser = await this.userService.findByEmail(email);
            if (existingUser) {
                throw new common_1.ConflictException('Email already in use');
            }
        }
        if (phone_number) {
            const existingUser = await this.userService.findByPhone(phone_number);
            if (existingUser) {
                throw new common_1.ConflictException('Phone number already in use');
            }
        }
        const saltRounds = 10;
        const hashedPassword = await bcrypt.hash(password, saltRounds);
        const newUser = await this.userService.create({
            name: name,
            email: email,
            phone_number: phone_number,
            passwordHash: hashedPassword,
            role: role || 'owner',
        });
        const { passwordHash, ...result } = newUser;
        return result;
    }
    async login(loginUserDto) {
        const user = await this.userService.findOneByIdentifier(loginUserDto.identifier);
        if (!user) {
            throw new common_1.UnauthorizedException('Invalid credentials');
        }
        const isPasswordMatching = await bcrypt.compare(loginUserDto.password, user.passwordHash);
        if (!isPasswordMatching) {
            throw new common_1.UnauthorizedException('Invalid credentials');
        }
        const payload = {
            sub: user.id,
            email: user.email,
            phone_number: user.phone_number,
            role: user.role,
        };
        return {
            access_token: this.jwtService.sign(payload),
        };
    }
};
exports.AuthService = AuthService;
exports.AuthService = AuthService = __decorate([
    (0, common_1.Injectable)(),
    __metadata("design:paramtypes", [user_service_1.UserService,
        jwt_1.JwtService])
], AuthService);
//# sourceMappingURL=auth.service.js.map

================================================================================
File: dist\auth\auth.service.js.map
Size: 1.94 kB
================================================================================

{"version":3,"file":"auth.service.js","sourceRoot":"","sources":["../../src/auth/auth.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,2CAIwB;AACxB,uDAAoD;AAGpD,qCAAyC;AACzC,+CAAiC;AAG1B,IAAM,WAAW,GAAjB,MAAM,WAAW;IAEH;IACA;IAFnB,YACmB,WAAwB,EACxB,UAAsB;QADtB,gBAAW,GAAX,WAAW,CAAa;QACxB,eAAU,GAAV,UAAU,CAAY;IACtC,CAAC;IAGJ,KAAK,CAAC,QAAQ,CAAC,eAAgC;QAC7C,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,eAAe,CAAC;QAItE,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC/D,IAAI,YAAY,EAAE,CAAC;gBACjB,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;YACtD,CAAC;QACH,CAAC;QAID,IAAI,YAAY,EAAE,CAAC;YACjB,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACtE,IAAI,YAAY,EAAE,CAAC;gBACjB,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,CAAC,CAAC;YAC7D,CAAC;QACH,CAAC;QAED,MAAM,UAAU,GAAG,EAAE,CAAC;QACtB,MAAM,cAAc,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;QAK/D,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YAC5C,IAAI,EAAE,IAAI;YACV,KAAK,EAAE,KAAK;YACZ,YAAY,EAAE,YAAY;YAC1B,YAAY,EAAE,cAAc;YAC5B,IAAI,EAAE,IAAI,IAAI,OAAO;SACtB,CAAC,CAAC;QAGH,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM,EAAE,GAAG,OAAO,CAAC;QAC5C,OAAO,MAAM,CAAC;IAChB,CAAC;IAGD,KAAK,CAAC,KAAK,CAAC,YAA0B;QAGpC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,CACrD,YAAY,CAAC,UAAU,CACxB,CAAC;QAEF,IAAI,CAAC,IAAI,EAAE,CAAC;YAEV,MAAM,IAAI,8BAAqB,CAAC,qBAAqB,CAAC,CAAC;QACzD,CAAC;QAED,MAAM,kBAAkB,GAAG,MAAM,MAAM,CAAC,OAAO,CAC7C,YAAY,CAAC,QAAQ,EACrB,IAAI,CAAC,YAAY,CAClB,CAAC;QAEF,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAExB,MAAM,IAAI,8BAAqB,CAAC,qBAAqB,CAAC,CAAC;QACzD,CAAC;QAGD,MAAM,OAAO,GAAG;YACd,GAAG,EAAE,IAAI,CAAC,EAAE;YACZ,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,IAAI,EAAE,IAAI,CAAC,IAAI;SAChB,CAAC;QAEF,OAAO;YACL,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC;SAC5C,CAAC;IACJ,CAAC;CACF,CAAA;AAlFY,kCAAW;sBAAX,WAAW;IADvB,IAAA,mBAAU,GAAE;qCAGqB,0BAAW;QACZ,gBAAU;GAH9B,WAAW,CAkFvB"}

================================================================================
File: dist\auth\decorators\get-user.decorator.d.ts
Size: 81 B
================================================================================

export declare const GetUser: (...dataOrPipes: unknown[]) => ParameterDecorator;


================================================================================
File: dist\auth\decorators\get-user.decorator.js
Size: 346 B
================================================================================

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GetUser = void 0;
const common_1 = require("@nestjs/common");
exports.GetUser = (0, common_1.createParamDecorator)((_data, ctx) => {
    const request = ctx.switchToHttp().getRequest();
    return request.user;
});
//# sourceMappingURL=get-user.decorator.js.map

================================================================================
File: dist\auth\decorators\get-user.decorator.js.map
Size: 346 B
================================================================================

{"version":3,"file":"get-user.decorator.js","sourceRoot":"","sources":["../../../src/auth/decorators/get-user.decorator.ts"],"names":[],"mappings":";;;AAEA,2CAAwE;AAG3D,QAAA,OAAO,GAAG,IAAA,6BAAoB,EACzC,CAAC,KAAc,EAAE,GAAQ,EAAQ,EAAE;IACjC,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,EAAE,CAAC,UAAU,EAAE,CAAC;IAChD,OAAO,OAAO,CAAC,IAAI,CAAC;AACtB,CAAC,CACF,CAAC"}

================================================================================
File: dist\auth\dto\login-user.dto.d.ts
Size: 84 B
================================================================================

export declare class LoginUserDto {
    identifier: string;
    password: string;
}


================================================================================
File: dist\auth\dto\login-user.dto.js
Size: 1.4 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.LoginUserDto = void 0;
const class_validator_1 = require("class-validator");
class LoginUserDto {
    identifier;
    password;
}
exports.LoginUserDto = LoginUserDto;
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsNotEmpty)(),
    __metadata("design:type", String)
], LoginUserDto.prototype, "identifier", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsNotEmpty)(),
    __metadata("design:type", String)
], LoginUserDto.prototype, "password", void 0);
//# sourceMappingURL=login-user.dto.js.map

================================================================================
File: dist\auth\dto\login-user.dto.js.map
Size: 332 B
================================================================================

{"version":3,"file":"login-user.dto.js","sourceRoot":"","sources":["../../../src/auth/dto/login-user.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,qDAAuD;AAEvD,MAAa,YAAY;IAGvB,UAAU,CAAS;IAInB,QAAQ,CAAS;CAClB;AARD,oCAQC;AALC;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;gDACM;AAInB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;8CACI"}

================================================================================
File: dist\auth\dto\register-user.dto.d.ts
Size: 147 B
================================================================================

export declare class RegisterUserDto {
    name: string;
    email?: string;
    phone_number?: string;
    password: string;
    role?: string;
}


================================================================================
File: dist\auth\dto\register-user.dto.js
Size: 2.4 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.RegisterUserDto = void 0;
const class_validator_1 = require("class-validator");
class RegisterUserDto {
    name;
    email;
    phone_number;
    password;
    role;
}
exports.RegisterUserDto = RegisterUserDto;
__decorate([
    (0, class_validator_1.IsNotEmpty)(),
    (0, class_validator_1.IsString)(),
    __metadata("design:type", String)
], RegisterUserDto.prototype, "name", void 0);
__decorate([
    (0, class_validator_1.IsEmail)(),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => !o.phone_number),
    (0, class_validator_1.IsNotEmpty)({ message: 'Email or phone number must be provided.' }),
    __metadata("design:type", String)
], RegisterUserDto.prototype, "email", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => !o.email),
    (0, class_validator_1.IsNotEmpty)({ message: 'Email or phone number must be provided.' }),
    __metadata("design:type", String)
], RegisterUserDto.prototype, "phone_number", void 0);
__decorate([
    (0, class_validator_1.IsNotEmpty)(),
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.MinLength)(8, { message: 'Password must be at least 8 characters long' }),
    __metadata("design:type", String)
], RegisterUserDto.prototype, "password", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], RegisterUserDto.prototype, "role", void 0);
//# sourceMappingURL=register-user.dto.js.map

================================================================================
File: dist\auth\dto\register-user.dto.js.map
Size: 865 B
================================================================================

{"version":3,"file":"register-user.dto.js","sourceRoot":"","sources":["../../../src/auth/dto/register-user.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAEA,qDAOyB;AAEzB,MAAa,eAAe;IAG1B,IAAI,CAAS;IAOb,KAAK,CAAU;IAOf,YAAY,CAAU;IAMtB,QAAQ,CAAS;IAKjB,IAAI,CAAU;CACf;AA7BD,0CA6BC;AA1BC;IAFC,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;;6CACE;AAOb;IAJC,IAAA,yBAAO,GAAE;IACT,IAAA,4BAAU,GAAE;IACZ,IAAA,4BAAU,EAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;IAClC,IAAA,4BAAU,EAAC,EAAE,OAAO,EAAE,yCAAyC,EAAE,CAAC;;8CACpD;AAOf;IAJC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;IACZ,IAAA,4BAAU,EAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;IAC3B,IAAA,4BAAU,EAAC,EAAE,OAAO,EAAE,yCAAyC,EAAE,CAAC;;qDAC7C;AAMtB;IAHC,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,GAAE;IACV,IAAA,2BAAS,EAAC,CAAC,EAAE,EAAE,OAAO,EAAE,6CAA6C,EAAE,CAAC;;iDACxD;AAKjB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;6CACC"}

================================================================================
File: dist\auth\guards\jwt-auth.guard.d.ts
Size: 410 B
================================================================================

import { ExecutionContext } from '@nestjs/common';
declare const JwtAuthGuard_base: import("@nestjs/passport").Type<import("@nestjs/passport").IAuthGuard>;
export declare class JwtAuthGuard extends JwtAuthGuard_base {
    canActivate(context: ExecutionContext): boolean | Promise<boolean> | import("rxjs").Observable<boolean>;
    handleRequest(err: any, user: any, info: any, context: any): any;
}
export {};


================================================================================
File: dist\auth\guards\jwt-auth.guard.js
Size: 1.53 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.JwtAuthGuard = void 0;
const common_1 = require("@nestjs/common");
const passport_1 = require("@nestjs/passport");
let JwtAuthGuard = class JwtAuthGuard extends (0, passport_1.AuthGuard)('jwt') {
    canActivate(context) {
        return super.canActivate(context);
    }
    handleRequest(err, user, info, context) {
        if (err || !user) {
            console.error('JWT Authentication Failed');
            console.error('Error:', err);
            console.error('Info:', info);
            console.error('User:', user);
            throw err || new common_1.UnauthorizedException(info?.message || 'Invalid or missing authentication token');
        }
        return user;
    }
};
exports.JwtAuthGuard = JwtAuthGuard;
exports.JwtAuthGuard = JwtAuthGuard = __decorate([
    (0, common_1.Injectable)()
], JwtAuthGuard);
//# sourceMappingURL=jwt-auth.guard.js.map

================================================================================
File: dist\auth\guards\jwt-auth.guard.js.map
Size: 789 B
================================================================================

{"version":3,"file":"jwt-auth.guard.js","sourceRoot":"","sources":["../../../src/auth/guards/jwt-auth.guard.ts"],"names":[],"mappings":";;;;;;;;;AACA,2CAIwB;AACxB,+CAA6C;AAGtC,IAAM,YAAY,GAAlB,MAAM,YAAa,SAAQ,IAAA,oBAAS,EAAC,KAAK,CAAC;IAChD,WAAW,CAAC,OAAyB;QACnC,OAAO,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IAED,aAAa,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO;QAEpC,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;YACjB,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;YAC3C,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YAC7B,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAC7B,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAE7B,MAAM,GAAG,IAAI,IAAI,8BAAqB,CACpC,IAAI,EAAE,OAAO,IAAI,yCAAyC,CAC3D,CAAC;QACJ,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CACF,CAAA;AAnBY,oCAAY;uBAAZ,YAAY;IADxB,IAAA,mBAAU,GAAE;GACA,YAAY,CAmBxB"}

================================================================================
File: dist\auth\jwt.strategy.d.ts
Size: 545 B
================================================================================

import { Strategy } from 'passport-jwt';
import { ConfigService } from '@nestjs/config';
import { UserService } from 'src/user/user.service';
declare const JwtStrategy_base: new (...args: any[]) => Strategy;
export declare class JwtStrategy extends JwtStrategy_base {
    private readonly configService;
    private readonly userService;
    constructor(configService: ConfigService, userService: UserService);
    validate(payload: {
        sub: number;
        email: string;
    }): Promise<import("../user/user.entity").User>;
}
export {};


================================================================================
File: dist\auth\jwt.strategy.js
Size: 2.28 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.JwtStrategy = void 0;
const common_1 = require("@nestjs/common");
const passport_1 = require("@nestjs/passport");
const passport_jwt_1 = require("passport-jwt");
const config_1 = require("@nestjs/config");
const user_service_1 = require("../user/user.service");
let JwtStrategy = class JwtStrategy extends (0, passport_1.PassportStrategy)(passport_jwt_1.Strategy) {
    configService;
    userService;
    constructor(configService, userService) {
        super({
            jwtFromRequest: passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken(),
            ignoreExpiration: false,
            secretOrKey: configService.get('JWT_SECRET') || 'fallback-secret-key-12345',
        });
        this.configService = configService;
        this.userService = userService;
        console.log('JWT Secret in strategy:', configService.get('JWT_SECRET'));
    }
    async validate(payload) {
        console.log('JWT Payload:', payload);
        const user = await this.userService.findById(payload.sub);
        console.log('User found:', user ? 'Yes' : 'No');
        if (!user) {
            throw new common_1.UnauthorizedException();
        }
        return user;
    }
};
exports.JwtStrategy = JwtStrategy;
exports.JwtStrategy = JwtStrategy = __decorate([
    (0, common_1.Injectable)(),
    __metadata("design:paramtypes", [config_1.ConfigService,
        user_service_1.UserService])
], JwtStrategy);
//# sourceMappingURL=jwt.strategy.js.map

================================================================================
File: dist\auth\jwt.strategy.js.map
Size: 1.05 kB
================================================================================

{"version":3,"file":"jwt.strategy.js","sourceRoot":"","sources":["../../src/auth/jwt.strategy.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,2CAAmE;AACnE,+CAAoD;AACpD,+CAAoD;AACpD,2CAA+C;AAC/C,uDAAoD;AAG7C,IAAM,WAAW,GAAjB,MAAM,WAAY,SAAQ,IAAA,2BAAgB,EAAC,uBAAQ,CAAC;IAEtC;IACA;IAFnB,YACmB,aAA4B,EAC5B,WAAwB;QAEzC,KAAK,CAAC;YACJ,cAAc,EAAE,yBAAU,CAAC,2BAA2B,EAAE;YACxD,gBAAgB,EAAE,KAAK;YACvB,WAAW,EAAE,aAAa,CAAC,GAAG,CAAS,YAAY,CAAC,IAAI,2BAA2B;SACpF,CAAC,CAAC;QAPc,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QAOzC,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,aAAa,CAAC,GAAG,CAAS,YAAY,CAAC,CAAC,CAAC;IAClF,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,OAAuC;QACpD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;QACrC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC1D,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,8BAAqB,EAAE,CAAC;QACpC,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CACF,CAAA;AAtBY,kCAAW;sBAAX,WAAW;IADvB,IAAA,mBAAU,GAAE;qCAGuB,sBAAa;QACf,0BAAW;GAHhC,WAAW,CAsBvB"}

================================================================================
File: dist\booking\booking.entity.d.ts
Size: 524 B
================================================================================

import { Payment } from 'src/payment/payment.entity';
import { Pet } from 'src/pet/pet.entity';
import { Review } from 'src/review/review.entity';
import { Sitter } from 'src/sitter/sitter.entity';
import { User } from 'src/user/user.entity';
export declare class Booking {
    id: number;
    start_date: string;
    end_date: string;
    status: string;
    total_amount: number;
    created_at: Date;
    updated_at: Date;
    owner: User;
    sitter: Sitter;
    pet: Pet;
    payment: Payment;
    reviews: Review[];
}


================================================================================
File: dist\booking\booking.entity.js
Size: 3.41 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Booking = void 0;
const payment_entity_1 = require("../payment/payment.entity");
const pet_entity_1 = require("../pet/pet.entity");
const review_entity_1 = require("../review/review.entity");
const sitter_entity_1 = require("../sitter/sitter.entity");
const user_entity_1 = require("../user/user.entity");
const typeorm_1 = require("typeorm");
let Booking = class Booking {
    id;
    start_date;
    end_date;
    status;
    total_amount;
    created_at;
    updated_at;
    owner;
    sitter;
    pet;
    payment;
    reviews;
};
exports.Booking = Booking;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Booking.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'date' }),
    __metadata("design:type", String)
], Booking.prototype, "start_date", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'date' }),
    __metadata("design:type", String)
], Booking.prototype, "end_date", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], Booking.prototype, "status", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'float' }),
    __metadata("design:type", Number)
], Booking.prototype, "total_amount", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Booking.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Booking.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.bookings),
    __metadata("design:type", user_entity_1.User)
], Booking.prototype, "owner", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => sitter_entity_1.Sitter, (sitter) => sitter.bookings),
    __metadata("design:type", sitter_entity_1.Sitter)
], Booking.prototype, "sitter", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => pet_entity_1.Pet, (pet) => pet.bookings),
    __metadata("design:type", pet_entity_1.Pet)
], Booking.prototype, "pet", void 0);
__decorate([
    (0, typeorm_1.OneToOne)(() => payment_entity_1.Payment, (payment) => payment.booking),
    __metadata("design:type", payment_entity_1.Payment)
], Booking.prototype, "payment", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => review_entity_1.Review, (review) => review.booking),
    __metadata("design:type", Array)
], Booking.prototype, "reviews", void 0);
exports.Booking = Booking = __decorate([
    (0, typeorm_1.Entity)('bookings')
], Booking);
//# sourceMappingURL=booking.entity.js.map

================================================================================
File: dist\booking\booking.entity.js.map
Size: 1.44 kB
================================================================================

{"version":3,"file":"booking.entity.js","sourceRoot":"","sources":["../../src/booking/booking.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,8DAAqD;AACrD,kDAAyC;AACzC,2DAAkD;AAClD,2DAAkD;AAClD,qDAA4C;AAC5C,qCAEiB;AAGV,IAAM,OAAO,GAAb,MAAM,OAAO;IAElB,EAAE,CAAS;IAGX,UAAU,CAAS;IAGnB,QAAQ,CAAS;IAGjB,MAAM,CAAS;IAGf,YAAY,CAAS;IAGrB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAIjB,KAAK,CAAO;IAGZ,MAAM,CAAS;IAGf,GAAG,CAAM;IAGT,OAAO,CAAU;IAGjB,OAAO,CAAW;CACnB,CAAA;AArCY,0BAAO;AAElB;IADC,IAAA,gCAAsB,GAAE;;mCACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;2CACN;AAGnB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;yCACR;AAGjB;IADC,IAAA,gBAAM,GAAE;;uCACM;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;6CACL;AAGrB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;2CAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;2CAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC;8BACxC,kBAAI;sCAAC;AAGZ;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,sBAAM,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC;8BAC7C,sBAAM;uCAAC;AAGf;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,gBAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC;8BACvC,gBAAG;oCAAC;AAGT;IADC,IAAA,kBAAQ,EAAC,GAAG,EAAE,CAAC,wBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC;8BAC7C,wBAAO;wCAAC;AAGjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,sBAAM,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC;;wCAClC;kBApCP,OAAO;IADnB,IAAA,gBAAM,EAAC,UAAU,CAAC;GACN,OAAO,CAqCnB"}

================================================================================
File: dist\booking\booking.module.d.ts
Size: 39 B
================================================================================

export declare class BookingModule {
}


================================================================================
File: dist\booking\booking.module.js
Size: 1.3 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.BookingModule = void 0;
const common_1 = require("@nestjs/common");
const booking_service_1 = require("./booking.service");
const typeorm_1 = require("@nestjs/typeorm");
const booking_entity_1 = require("./booking.entity");
let BookingModule = class BookingModule {
};
exports.BookingModule = BookingModule;
exports.BookingModule = BookingModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([booking_entity_1.Booking])],
        providers: [booking_service_1.BookingService],
        exports: [booking_service_1.BookingService]
    })
], BookingModule);
//# sourceMappingURL=booking.module.js.map

================================================================================
File: dist\booking\booking.module.js.map
Size: 433 B
================================================================================

{"version":3,"file":"booking.module.js","sourceRoot":"","sources":["../../src/booking/booking.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,uDAAmD;AACnD,6CAAgD;AAChD,qDAA2C;AAOpC,IAAM,aAAa,GAAnB,MAAM,aAAa;CAAG,CAAA;AAAhB,sCAAa;wBAAb,aAAa;IALzB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,wBAAO,CAAC,CAAC,CAAC;QAC9C,SAAS,EAAE,CAAC,gCAAc,CAAC;QAC3B,OAAO,EAAE,CAAC,gCAAc,CAAC;KAC1B,CAAC;GACW,aAAa,CAAG"}

================================================================================
File: dist\booking\booking.service.d.ts
Size: 40 B
================================================================================

export declare class BookingService {
}


================================================================================
File: dist\booking\booking.service.js
Size: 963 B
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.BookingService = void 0;
const common_1 = require("@nestjs/common");
let BookingService = class BookingService {
};
exports.BookingService = BookingService;
exports.BookingService = BookingService = __decorate([
    (0, common_1.Injectable)()
], BookingService);
//# sourceMappingURL=booking.service.js.map

================================================================================
File: dist\booking\booking.service.js.map
Size: 255 B
================================================================================

{"version":3,"file":"booking.service.js","sourceRoot":"","sources":["../../src/booking/booking.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,cAAc,GAApB,MAAM,cAAc;CAAG,CAAA;AAAjB,wCAAc;yBAAd,cAAc;IAD1B,IAAA,mBAAU,GAAE;GACA,cAAc,CAAG"}

================================================================================
File: dist\comments\comments.entity.d.ts
Size: 238 B
================================================================================

import { User } from 'src/user/user.entity';
import { Post } from 'src/posts/posts.entity';
export declare class Comment {
    id: number;
    content: string;
    created_at: Date;
    updated_at: Date;
    post: Post;
    user: User;
}


================================================================================
File: dist\comments\comments.entity.js
Size: 2.17 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Comment = void 0;
const user_entity_1 = require("../user/user.entity");
const posts_entity_1 = require("../posts/posts.entity");
const typeorm_1 = require("typeorm");
let Comment = class Comment {
    id;
    content;
    created_at;
    updated_at;
    post;
    user;
};
exports.Comment = Comment;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Comment.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text' }),
    __metadata("design:type", String)
], Comment.prototype, "content", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Comment.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Comment.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => posts_entity_1.Post, (post) => post.comments),
    __metadata("design:type", posts_entity_1.Post)
], Comment.prototype, "post", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.comments),
    __metadata("design:type", user_entity_1.User)
], Comment.prototype, "user", void 0);
exports.Comment = Comment = __decorate([
    (0, typeorm_1.Entity)('comments')
], Comment);
//# sourceMappingURL=comments.entity.js.map

================================================================================
File: dist\comments\comments.entity.js.map
Size: 811 B
================================================================================

{"version":3,"file":"comments.entity.js","sourceRoot":"","sources":["../../src/comments/comments.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,qDAA4C;AAC5C,wDAA8C;AAC9C,qCAEiB;AAGV,IAAM,OAAO,GAAb,MAAM,OAAO;IAElB,EAAE,CAAS;IAGX,OAAO,CAAS;IAGhB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAIjB,IAAI,CAAO;IAGX,IAAI,CAAO;CACZ,CAAA;AAnBY,0BAAO;AAElB;IADC,IAAA,gCAAsB,GAAE;;mCACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;wCACT;AAGhB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;2CAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;2CAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,mBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC;8BACzC,mBAAI;qCAAC;AAGX;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC;8BACzC,kBAAI;qCAAC;kBAlBA,OAAO;IADnB,IAAA,gBAAM,EAAC,UAAU,CAAC;GACN,OAAO,CAmBnB"}

================================================================================
File: dist\comments\comments.module.d.ts
Size: 40 B
================================================================================

export declare class CommentsModule {
}


================================================================================
File: dist\comments\comments.module.js
Size: 1.32 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommentsModule = void 0;
const common_1 = require("@nestjs/common");
const comments_service_1 = require("./comments.service");
const typeorm_1 = require("@nestjs/typeorm");
const comments_entity_1 = require("./comments.entity");
let CommentsModule = class CommentsModule {
};
exports.CommentsModule = CommentsModule;
exports.CommentsModule = CommentsModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([comments_entity_1.Comment])],
        providers: [comments_service_1.CommentsService],
        exports: [comments_service_1.CommentsService]
    })
], CommentsModule);
//# sourceMappingURL=comments.module.js.map

================================================================================
File: dist\comments\comments.module.js.map
Size: 436 B
================================================================================

{"version":3,"file":"comments.module.js","sourceRoot":"","sources":["../../src/comments/comments.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,yDAAqD;AACrD,6CAAgD;AAChD,uDAA4C;AAOrC,IAAM,cAAc,GAApB,MAAM,cAAc;CAAG,CAAA;AAAjB,wCAAc;yBAAd,cAAc;IAL1B,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,yBAAO,CAAC,CAAC,CAAC;QAC9C,SAAS,EAAE,CAAC,kCAAe,CAAC;QAC5B,OAAO,EAAE,CAAC,kCAAe,CAAC;KAC3B,CAAC;GACW,cAAc,CAAG"}

================================================================================
File: dist\comments\comments.service.d.ts
Size: 41 B
================================================================================

export declare class CommentsService {
}


================================================================================
File: dist\comments\comments.service.js
Size: 972 B
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommentsService = void 0;
const common_1 = require("@nestjs/common");
let CommentsService = class CommentsService {
};
exports.CommentsService = CommentsService;
exports.CommentsService = CommentsService = __decorate([
    (0, common_1.Injectable)()
], CommentsService);
//# sourceMappingURL=comments.service.js.map

================================================================================
File: dist\comments\comments.service.js.map
Size: 258 B
================================================================================

{"version":3,"file":"comments.service.js","sourceRoot":"","sources":["../../src/comments/comments.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,eAAe,GAArB,MAAM,eAAe;CAAG,CAAA;AAAlB,0CAAe;0BAAf,eAAe;IAD3B,IAAA,mBAAU,GAAE;GACA,eAAe,CAAG"}

================================================================================
File: dist\data-source.d.ts
Size: 133 B
================================================================================

import 'dotenv/config';
import { DataSource } from 'typeorm';
declare const AppDataSource: DataSource;
export default AppDataSource;


================================================================================
File: dist\data-source.js
Size: 1.66 kB
================================================================================

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("dotenv/config");
const typeorm_1 = require("typeorm");
const user_entity_1 = require("./user/user.entity");
const pet_entity_1 = require("./pet/pet.entity");
const booking_entity_1 = require("./booking/booking.entity");
const notification_entity_1 = require("./notification/notification.entity");
const review_entity_1 = require("./review/review.entity");
const sitter_entity_1 = require("./sitter/sitter.entity");
const posts_entity_1 = require("./posts/posts.entity");
const comments_entity_1 = require("./comments/comments.entity");
const likes_entity_1 = require("./likes/likes.entity");
const activity_log_entity_1 = require("./activity-log/activity-log.entity");
const health_record_entity_1 = require("./health-record/health-record.entity");
const payment_entity_1 = require("./payment/payment.entity");
const AppDataSource = new typeorm_1.DataSource({
    type: 'postgres',
    url: process.env.DATABASE_URL,
    ssl: {
        rejectUnauthorized: false,
    },
    synchronize: false,
    logging: true,
    entities: [
        user_entity_1.User,
        pet_entity_1.Pet,
        booking_entity_1.Booking,
        notification_entity_1.Notification,
        review_entity_1.Review,
        sitter_entity_1.Sitter,
        posts_entity_1.Post,
        comments_entity_1.Comment,
        likes_entity_1.Like,
        activity_log_entity_1.ActivityLog,
        health_record_entity_1.HealthRecord,
        payment_entity_1.Payment,
    ],
    migrations: [__dirname + '/migrations/*.ts'],
});
exports.default = AppDataSource;
//# sourceMappingURL=data-source.js.map

================================================================================
File: dist\data-source.js.map
Size: 711 B
================================================================================

{"version":3,"file":"data-source.js","sourceRoot":"","sources":["../src/data-source.ts"],"names":[],"mappings":";;AAEA,yBAAuB;AACvB,qCAAqC;AAGrC,oDAA0C;AAC1C,iDAAuC;AACvC,6DAAmD;AACnD,4EAAkE;AAClE,0DAAgD;AAChD,0DAAgD;AAChD,uDAA4C;AAC5C,gEAAqD;AACrD,uDAA4C;AAC5C,4EAAiE;AACjE,+EAAoE;AACpE,6DAAmD;AAGnD,MAAM,aAAa,GAAG,IAAI,oBAAU,CAAC;IACnC,IAAI,EAAE,UAAU;IAIhB,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,YAAY;IAI7B,GAAG,EAAE;QACH,kBAAkB,EAAE,KAAK;KAC1B;IAGD,WAAW,EAAE,KAAK;IAClB,OAAO,EAAE,IAAI;IAEb,QAAQ,EAAE;QACR,kBAAI;QACJ,gBAAG;QACH,wBAAO;QACP,kCAAY;QACZ,sBAAM;QACN,sBAAM;QACN,mBAAI;QACJ,yBAAO;QACP,mBAAI;QACJ,iCAAW;QACX,mCAAY;QACZ,wBAAO;KACR;IAED,UAAU,EAAE,CAAC,SAAS,GAAG,kBAAkB,CAAC;CAC7C,CAAC,CAAC;AAEH,kBAAe,aAAa,CAAC"}

================================================================================
File: dist\health-record\dto\create-health-record.dto.d.ts
Size: 357 B
================================================================================

export declare enum HealthRecordType {
    VACCINATION = "Vaccination",
    VET_VISIT = "Vet Visit",
    MEDICATION = "Medication",
    ALLERGY = "Allergy",
    NOTE = "Note"
}
export declare class CreateHealthRecordDto {
    record_type: HealthRecordType;
    record_date: string;
    description?: string;
    clinic?: string;
    nextDueDate?: string;
}


================================================================================
File: dist\health-record\dto\create-health-record.dto.js
Size: 2.5 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CreateHealthRecordDto = exports.HealthRecordType = void 0;
const class_validator_1 = require("class-validator");
var HealthRecordType;
(function (HealthRecordType) {
    HealthRecordType["VACCINATION"] = "Vaccination";
    HealthRecordType["VET_VISIT"] = "Vet Visit";
    HealthRecordType["MEDICATION"] = "Medication";
    HealthRecordType["ALLERGY"] = "Allergy";
    HealthRecordType["NOTE"] = "Note";
})(HealthRecordType || (exports.HealthRecordType = HealthRecordType = {}));
class CreateHealthRecordDto {
    record_type;
    record_date;
    description;
    clinic;
    nextDueDate;
}
exports.CreateHealthRecordDto = CreateHealthRecordDto;
__decorate([
    (0, class_validator_1.IsNotEmpty)(),
    (0, class_validator_1.IsEnum)(HealthRecordType),
    __metadata("design:type", String)
], CreateHealthRecordDto.prototype, "record_type", void 0);
__decorate([
    (0, class_validator_1.IsNotEmpty)(),
    (0, class_validator_1.IsDateString)(),
    __metadata("design:type", String)
], CreateHealthRecordDto.prototype, "record_date", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateHealthRecordDto.prototype, "description", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateHealthRecordDto.prototype, "clinic", void 0);
__decorate([
    (0, class_validator_1.IsDateString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateHealthRecordDto.prototype, "nextDueDate", void 0);
//# sourceMappingURL=create-health-record.dto.js.map

================================================================================
File: dist\health-record\dto\create-health-record.dto.js.map
Size: 756 B
================================================================================

{"version":3,"file":"create-health-record.dto.js","sourceRoot":"","sources":["../../../src/health-record/dto/create-health-record.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qDAAyF;AAEzF,IAAY,gBAMX;AAND,WAAY,gBAAgB;IAC1B,+CAA2B,CAAA;IAC3B,2CAAuB,CAAA;IACvB,6CAAyB,CAAA;IACzB,uCAAmB,CAAA;IACnB,iCAAa,CAAA;AACf,CAAC,EANW,gBAAgB,gCAAhB,gBAAgB,QAM3B;AAED,MAAa,qBAAqB;IAGhC,WAAW,CAAmB;IAI9B,WAAW,CAAS;IAIpB,WAAW,CAAU;IAIrB,MAAM,CAAU;IAIhB,WAAW,CAAU;CACtB;AApBD,sDAoBC;AAjBC;IAFC,IAAA,4BAAU,GAAE;IACZ,IAAA,wBAAM,EAAC,gBAAgB,CAAC;;0DACK;AAI9B;IAFC,IAAA,4BAAU,GAAE;IACZ,IAAA,8BAAY,GAAE;;0DACK;AAIpB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;0DACQ;AAIrB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;qDACG;AAIhB;IAFC,IAAA,8BAAY,GAAE;IACd,IAAA,4BAAU,GAAE;;0DACQ"}

================================================================================
File: dist\health-record\health-record.controller.d.ts
Size: 505 B
================================================================================

import { HealthRecordService } from './health-record.service';
import { CreateHealthRecordDto } from './dto/create-health-record.dto';
export declare class HealthRecordController {
    private readonly healthRecordService;
    constructor(healthRecordService: HealthRecordService);
    create(petId: number, createHealthRecordDto: CreateHealthRecordDto): Promise<import("./health-record.entity").HealthRecord>;
    findAllForPet(petId: number): Promise<import("./health-record.entity").HealthRecord[]>;
}


================================================================================
File: dist\health-record\health-record.controller.js
Size: 2.76 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.HealthRecordController = void 0;
const common_1 = require("@nestjs/common");
const health_record_service_1 = require("./health-record.service");
const create_health_record_dto_1 = require("./dto/create-health-record.dto");
let HealthRecordController = class HealthRecordController {
    healthRecordService;
    constructor(healthRecordService) {
        this.healthRecordService = healthRecordService;
    }
    create(petId, createHealthRecordDto) {
        return this.healthRecordService.create(petId, createHealthRecordDto);
    }
    findAllForPet(petId) {
        return this.healthRecordService.findAllForPet(petId);
    }
};
exports.HealthRecordController = HealthRecordController;
__decorate([
    (0, common_1.Post)('/pets/:petId/health-records'),
    (0, common_1.UsePipes)(new common_1.ValidationPipe({ transform: true })),
    __param(0, (0, common_1.Param)('petId', common_1.ParseIntPipe)),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Number, create_health_record_dto_1.CreateHealthRecordDto]),
    __metadata("design:returntype", void 0)
], HealthRecordController.prototype, "create", null);
__decorate([
    (0, common_1.Get)('/pets/:petId/health-records'),
    __param(0, (0, common_1.Param)('petId', common_1.ParseIntPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Number]),
    __metadata("design:returntype", void 0)
], HealthRecordController.prototype, "findAllForPet", null);
exports.HealthRecordController = HealthRecordController = __decorate([
    (0, common_1.Controller)(),
    __metadata("design:paramtypes", [health_record_service_1.HealthRecordService])
], HealthRecordController);
//# sourceMappingURL=health-record.controller.js.map

================================================================================
File: dist\health-record\health-record.controller.js.map
Size: 925 B
================================================================================

{"version":3,"file":"health-record.controller.js","sourceRoot":"","sources":["../../src/health-record/health-record.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAA4G;AAC5G,mEAA8D;AAC9D,6EAAuE;AAGhE,IAAM,sBAAsB,GAA5B,MAAM,sBAAsB;IACJ;IAA7B,YAA6B,mBAAwC;QAAxC,wBAAmB,GAAnB,mBAAmB,CAAqB;IAAG,CAAC;IAIzE,MAAM,CAC0B,KAAa,EACnC,qBAA4C;QAEpD,OAAO,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,KAAK,EAAE,qBAAqB,CAAC,CAAC;IACvE,CAAC;IAGD,aAAa,CAA+B,KAAa;QACvD,OAAO,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IACvD,CAAC;CACF,CAAA;AAhBY,wDAAsB;AAKjC;IAFC,IAAA,aAAI,EAAC,6BAA6B,CAAC;IACnC,IAAA,iBAAQ,EAAC,IAAI,uBAAc,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;IAE/C,WAAA,IAAA,cAAK,EAAC,OAAO,EAAE,qBAAY,CAAC,CAAA;IAC5B,WAAA,IAAA,aAAI,GAAE,CAAA;;6CAAwB,gDAAqB;;oDAGrD;AAGD;IADC,IAAA,YAAG,EAAC,6BAA6B,CAAC;IACpB,WAAA,IAAA,cAAK,EAAC,OAAO,EAAE,qBAAY,CAAC,CAAA;;;;2DAE1C;iCAfU,sBAAsB;IADlC,IAAA,mBAAU,GAAE;qCAEuC,2CAAmB;GAD1D,sBAAsB,CAgBlC"}

================================================================================
File: dist\health-record\health-record.entity.d.ts
Size: 274 B
================================================================================

import { Pet } from 'src/pet/pet.entity';
export declare class HealthRecord {
    id: number;
    record_type: string;
    record_date: string;
    description: string;
    clinic: string;
    nextDueDate: string;
    created_at: Date;
    updated_at: Date;
    pet: Pet;
}


================================================================================
File: dist\health-record\health-record.entity.js
Size: 2.65 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.HealthRecord = void 0;
const pet_entity_1 = require("../pet/pet.entity");
const typeorm_1 = require("typeorm");
let HealthRecord = class HealthRecord {
    id;
    record_type;
    record_date;
    description;
    clinic;
    nextDueDate;
    created_at;
    updated_at;
    pet;
};
exports.HealthRecord = HealthRecord;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], HealthRecord.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], HealthRecord.prototype, "record_type", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'date' }),
    __metadata("design:type", String)
], HealthRecord.prototype, "record_date", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text' }),
    __metadata("design:type", String)
], HealthRecord.prototype, "description", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], HealthRecord.prototype, "clinic", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'date', nullable: true }),
    __metadata("design:type", String)
], HealthRecord.prototype, "nextDueDate", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], HealthRecord.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], HealthRecord.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => pet_entity_1.Pet, (pet) => pet.healthRecords),
    __metadata("design:type", pet_entity_1.Pet)
], HealthRecord.prototype, "pet", void 0);
exports.HealthRecord = HealthRecord = __decorate([
    (0, typeorm_1.Entity)('health_records')
], HealthRecord);
//# sourceMappingURL=health-record.entity.js.map

================================================================================
File: dist\health-record\health-record.entity.js.map
Size: 994 B
================================================================================

{"version":3,"file":"health-record.entity.js","sourceRoot":"","sources":["../../src/health-record/health-record.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,kDAAyC;AACzC,qCAEiB;AAGV,IAAM,YAAY,GAAlB,MAAM,YAAY;IAEvB,EAAE,CAAS;IAGX,WAAW,CAAS;IAGpB,WAAW,CAAS;IAGpB,WAAW,CAAS;IAGpB,MAAM,CAAS;IAGf,WAAW,CAAS;IAGpB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAIjB,GAAG,CAAM;CACV,CAAA;AA5BY,oCAAY;AAEvB;IADC,IAAA,gCAAsB,GAAE;;wCACd;AAGX;IADC,IAAA,gBAAM,GAAE;;iDACW;AAGpB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;iDACL;AAGpB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;iDACL;AAGpB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACZ;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;iDACrB;AAGpB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;gDAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;gDAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,gBAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC;8BAC5C,gBAAG;yCAAC;uBA3BE,YAAY;IADxB,IAAA,gBAAM,EAAC,gBAAgB,CAAC;GACZ,YAAY,CA4BxB"}

================================================================================
File: dist\health-record\health-record.module.d.ts
Size: 44 B
================================================================================

export declare class HealthRecordModule {
}


================================================================================
File: dist\health-record\health-record.module.js
Size: 1.62 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.HealthRecordModule = void 0;
const common_1 = require("@nestjs/common");
const health_record_service_1 = require("./health-record.service");
const typeorm_1 = require("@nestjs/typeorm");
const health_record_entity_1 = require("./health-record.entity");
const health_record_controller_1 = require("./health-record.controller");
const pet_entity_1 = require("../pet/pet.entity");
let HealthRecordModule = class HealthRecordModule {
};
exports.HealthRecordModule = HealthRecordModule;
exports.HealthRecordModule = HealthRecordModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([health_record_entity_1.HealthRecord, pet_entity_1.Pet])],
        controllers: [health_record_controller_1.HealthRecordController],
        providers: [health_record_service_1.HealthRecordService],
        exports: [health_record_service_1.HealthRecordService]
    })
], HealthRecordModule);
//# sourceMappingURL=health-record.module.js.map

================================================================================
File: dist\health-record\health-record.module.js.map
Size: 533 B
================================================================================

{"version":3,"file":"health-record.module.js","sourceRoot":"","sources":["../../src/health-record/health-record.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,mEAA8D;AAC9D,6CAAgD;AAChD,iEAAsD;AACtD,yEAAoE;AACpE,kDAAyC;AAQlC,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;CAAG,CAAA;AAArB,gDAAkB;6BAAlB,kBAAkB;IAN9B,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,mCAAY,EAAE,gBAAG,CAAC,CAAC,CAAC;QACxD,WAAW,EAAE,CAAC,iDAAsB,CAAC;QACrC,SAAS,EAAE,CAAC,2CAAmB,CAAC;QAChC,OAAO,EAAE,CAAC,2CAAmB,CAAC;KAC/B,CAAC;GACW,kBAAkB,CAAG"}

================================================================================
File: dist\health-record\health-record.service.d.ts
Size: 569 B
================================================================================

import { Repository } from 'typeorm';
import { HealthRecord } from './health-record.entity';
import { CreateHealthRecordDto } from './dto/create-health-record.dto';
import { Pet } from 'src/pet/pet.entity';
export declare class HealthRecordService {
    private readonly healthRecordRepository;
    private readonly petRepository;
    constructor(healthRecordRepository: Repository<HealthRecord>, petRepository: Repository<Pet>);
    create(petId: number, dto: CreateHealthRecordDto): Promise<HealthRecord>;
    findAllForPet(petId: number): Promise<HealthRecord[]>;
}


================================================================================
File: dist\health-record\health-record.service.js
Size: 3.31 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.HealthRecordService = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const typeorm_2 = require("typeorm");
const health_record_entity_1 = require("./health-record.entity");
const pet_entity_1 = require("../pet/pet.entity");
let HealthRecordService = class HealthRecordService {
    healthRecordRepository;
    petRepository;
    constructor(healthRecordRepository, petRepository) {
        this.healthRecordRepository = healthRecordRepository;
        this.petRepository = petRepository;
    }
    async create(petId, dto) {
        const pet = await this.petRepository.findOne({ where: { id: petId } });
        if (!pet) {
            throw new common_1.NotFoundException(`Pet with ID ${petId} not found`);
        }
        const record = this.healthRecordRepository.create({
            record_type: dto.record_type,
            record_date: new Date(dto.record_date).toISOString().slice(0, 10),
            description: dto.description ?? '',
            pet,
            clinic: dto.clinic,
            nextDueDate: dto.nextDueDate,
        });
        const savedRecord = await this.healthRecordRepository.save(record);
        const reloadedRecord = await this.healthRecordRepository.findOne({
            where: { id: savedRecord.id },
        });
        if (!reloadedRecord) {
            throw new common_1.NotFoundException('Failed to reload saved health record');
        }
        return reloadedRecord;
    }
    async findAllForPet(petId) {
        const pet = await this.petRepository.findOne({ where: { id: petId } });
        if (!pet) {
            throw new common_1.NotFoundException(`Pet with ID ${petId} not found`);
        }
        return this.healthRecordRepository.find({
            where: { pet: { id: petId } },
            order: { record_date: 'DESC' },
        });
    }
};
exports.HealthRecordService = HealthRecordService;
exports.HealthRecordService = HealthRecordService = __decorate([
    (0, common_1.Injectable)(),
    __param(0, (0, typeorm_1.InjectRepository)(health_record_entity_1.HealthRecord)),
    __param(1, (0, typeorm_1.InjectRepository)(pet_entity_1.Pet)),
    __metadata("design:paramtypes", [typeorm_2.Repository,
        typeorm_2.Repository])
], HealthRecordService);
//# sourceMappingURL=health-record.service.js.map

================================================================================
File: dist\health-record\health-record.service.js.map
Size: 1.85 kB
================================================================================

{"version":3,"file":"health-record.service.js","sourceRoot":"","sources":["../../src/health-record/health-record.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAA+D;AAC/D,6CAAmD;AACnD,qCAAqC;AACrC,iEAAsD;AAEtD,kDAAyC;AAGlC,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IAGX;IAEA;IAJnB,YAEmB,sBAAgD,EAEhD,aAA8B;QAF9B,2BAAsB,GAAtB,sBAAsB,CAA0B;QAEhD,kBAAa,GAAb,aAAa,CAAiB;IAC9C,CAAC;IAEJ,KAAK,CAAC,MAAM,CAAC,KAAa,EAAE,GAA0B;QACpD,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;QACvE,IAAI,CAAC,GAAG,EAAE,CAAC;YACT,MAAM,IAAI,0BAAiB,CAAC,eAAe,KAAK,YAAY,CAAC,CAAC;QAChE,CAAC;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC;YAChD,WAAW,EAAE,GAAG,CAAC,WAAW;YAC5B,WAAW,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;YACjE,WAAW,EAAE,GAAG,CAAC,WAAW,IAAI,EAAE;YAClC,GAAG;YACH,MAAM,EAAE,GAAG,CAAC,MAAM;YAClB,WAAW,EAAE,GAAG,CAAC,WAAW;SAC7B,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEnE,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC;YAC/D,KAAK,EAAE,EAAE,EAAE,EAAE,WAAW,CAAC,EAAE,EAAE;SAC9B,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,EAAE,CAAC;YACpB,MAAM,IAAI,0BAAiB,CAAC,sCAAsC,CAAC,CAAC;QACtE,CAAC;QACD,OAAO,cAAc,CAAC;IACxB,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,KAAa;QAC/B,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;QACvE,IAAI,CAAC,GAAG,EAAE,CAAC;YACT,MAAM,IAAI,0BAAiB,CAAC,eAAe,KAAK,YAAY,CAAC,CAAC;QAChE,CAAC;QACD,OAAO,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC;YACtC,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE;YAC7B,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE;SAE/B,CAAC,CAAC;IACL,CAAC;CACF,CAAA;AA7CY,kDAAmB;8BAAnB,mBAAmB;IAD/B,IAAA,mBAAU,GAAE;IAGR,WAAA,IAAA,0BAAgB,EAAC,mCAAY,CAAC,CAAA;IAE9B,WAAA,IAAA,0BAAgB,EAAC,gBAAG,CAAC,CAAA;qCADmB,oBAAU;QAEnB,oBAAU;GALjC,mBAAmB,CA6C/B"}

================================================================================
File: dist\likes\likes.entity.d.ts
Size: 192 B
================================================================================

import { User } from 'src/user/user.entity';
import { Post } from 'src/posts/posts.entity';
export declare class Like {
    id: number;
    created_at: Date;
    post: Post;
    user: User;
}


================================================================================
File: dist\likes\likes.entity.js
Size: 1.83 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Like = void 0;
const user_entity_1 = require("../user/user.entity");
const posts_entity_1 = require("../posts/posts.entity");
const typeorm_1 = require("typeorm");
let Like = class Like {
    id;
    created_at;
    post;
    user;
};
exports.Like = Like;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Like.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Like.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => posts_entity_1.Post, (post) => post.likes),
    __metadata("design:type", posts_entity_1.Post)
], Like.prototype, "post", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.likes),
    __metadata("design:type", user_entity_1.User)
], Like.prototype, "user", void 0);
exports.Like = Like = __decorate([
    (0, typeorm_1.Entity)('likes')
], Like);
//# sourceMappingURL=likes.entity.js.map

================================================================================
File: dist\likes\likes.entity.js.map
Size: 655 B
================================================================================

{"version":3,"file":"likes.entity.js","sourceRoot":"","sources":["../../src/likes/likes.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,qDAA4C;AAC5C,wDAA8C;AAC9C,qCAEiB;AAGV,IAAM,IAAI,GAAV,MAAM,IAAI;IAEf,EAAE,CAAS;IAGX,UAAU,CAAO;IAIjB,IAAI,CAAO;IAGX,IAAI,CAAO;CACZ,CAAA;AAbY,oBAAI;AAEf;IADC,IAAA,gCAAsB,GAAE;;gCACd;AAGX;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;wCAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,mBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;8BACtC,mBAAI;kCAAC;AAGX;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;8BACtC,kBAAI;kCAAC;eAZA,IAAI;IADhB,IAAA,gBAAM,EAAC,OAAO,CAAC;GACH,IAAI,CAahB"}

================================================================================
File: dist\likes\likes.module.d.ts
Size: 37 B
================================================================================

export declare class LikesModule {
}


================================================================================
File: dist\likes\likes.module.js
Size: 1.26 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.LikesModule = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const likes_entity_1 = require("./likes.entity");
const likes_service_1 = require("./likes.service");
let LikesModule = class LikesModule {
};
exports.LikesModule = LikesModule;
exports.LikesModule = LikesModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([likes_entity_1.Like])],
        providers: [likes_service_1.LikesService],
        exports: [likes_service_1.LikesService]
    })
], LikesModule);
//# sourceMappingURL=likes.module.js.map

================================================================================
File: dist\likes\likes.module.js.map
Size: 426 B
================================================================================

{"version":3,"file":"likes.module.js","sourceRoot":"","sources":["../../src/likes/likes.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,6CAAgD;AAChD,iDAAsC;AACtC,mDAA+C;AAOxC,IAAM,WAAW,GAAjB,MAAM,WAAW;CAAG,CAAA;AAAd,kCAAW;sBAAX,WAAW;IALvB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,mBAAI,CAAC,CAAC,CAAC;QAC3C,SAAS,EAAE,CAAC,4BAAY,CAAC;QACzB,OAAO,EAAE,CAAC,4BAAY,CAAC;KACxB,CAAC;GACW,WAAW,CAAG"}

================================================================================
File: dist\likes\likes.service.d.ts
Size: 38 B
================================================================================

export declare class LikesService {
}


================================================================================
File: dist\likes\likes.service.js
Size: 945 B
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.LikesService = void 0;
const common_1 = require("@nestjs/common");
let LikesService = class LikesService {
};
exports.LikesService = LikesService;
exports.LikesService = LikesService = __decorate([
    (0, common_1.Injectable)()
], LikesService);
//# sourceMappingURL=likes.service.js.map

================================================================================
File: dist\likes\likes.service.js.map
Size: 248 B
================================================================================

{"version":3,"file":"likes.service.js","sourceRoot":"","sources":["../../src/likes/likes.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,YAAY,GAAlB,MAAM,YAAY;CAAG,CAAA;AAAf,oCAAY;uBAAZ,YAAY;IADxB,IAAA,mBAAU,GAAE;GACA,YAAY,CAAG"}

================================================================================
File: dist\main.d.ts
Size: 11 B
================================================================================

export {};


================================================================================
File: dist\main.js
Size: 439 B
================================================================================

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@nestjs/core");
const app_module_1 = require("./app.module");
async function bootstrap() {
    const app = await core_1.NestFactory.create(app_module_1.AppModule);
    app.enableCors({ origin: true, credentials: true });
    await app.listen(process.env.PORT ?? 3000);
    app.enableCors();
}
bootstrap();
//# sourceMappingURL=main.js.map

================================================================================
File: dist\main.js.map
Size: 429 B
================================================================================

{"version":3,"file":"main.js","sourceRoot":"","sources":["../src/main.ts"],"names":[],"mappings":";;AAAA,uCAA2C;AAC3C,6CAAyC;AAEzC,KAAK,UAAU,SAAS;IACtB,MAAM,GAAG,GAAG,MAAM,kBAAW,CAAC,MAAM,CAAC,sBAAS,CAAC,CAAC;IAChD,GAAG,CAAC,UAAU,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;IACpD,MAAM,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;IAI3C,GAAG,CAAC,UAAU,EAAE,CAAC;AAEnB,CAAC;AACD,SAAS,EAAE,CAAC"}

================================================================================
File: dist\migrations\1762340187239-AddPhoneNumberToUser.d.ts
Size: 266 B
================================================================================

import { MigrationInterface, QueryRunner } from "typeorm";
export declare class AddPhoneNumberToUser1762340187239 implements MigrationInterface {
    name: string;
    up(queryRunner: QueryRunner): Promise<void>;
    down(queryRunner: QueryRunner): Promise<void>;
}


================================================================================
File: dist\migrations\1762340187239-AddPhoneNumberToUser.js
Size: 1.02 kB
================================================================================

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AddPhoneNumberToUser1762340187239 = void 0;
class AddPhoneNumberToUser1762340187239 {
    name = 'AddPhoneNumberToUser1762340187239';
    async up(queryRunner) {
        await queryRunner.query(`ALTER TABLE "users" ADD "phone_number" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "UQ_17d1817f241f10a3dbafb169fd2" UNIQUE ("phone_number")`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "email" DROP NOT NULL`);
    }
    async down(queryRunner) {
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "UQ_17d1817f241f10a3dbafb169fd2"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "phone_number"`);
    }
}
exports.AddPhoneNumberToUser1762340187239 = AddPhoneNumberToUser1762340187239;
//# sourceMappingURL=1762340187239-AddPhoneNumberToUser.js.map

================================================================================
File: dist\migrations\1762340187239-AddPhoneNumberToUser.js.map
Size: 610 B
================================================================================

{"version":3,"file":"1762340187239-AddPhoneNumberToUser.js","sourceRoot":"","sources":["../../src/migrations/1762340187239-AddPhoneNumberToUser.ts"],"names":[],"mappings":";;;AAEA,MAAa,iCAAiC;IAC1C,IAAI,GAAG,mCAAmC,CAAA;IAEnC,KAAK,CAAC,EAAE,CAAC,WAAwB;QACpC,MAAM,WAAW,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;QACpF,MAAM,WAAW,CAAC,KAAK,CAAC,6FAA6F,CAAC,CAAC;QACvH,MAAM,WAAW,CAAC,KAAK,CAAC,wDAAwD,CAAC,CAAC;IACtF,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,WAAwB;QACtC,MAAM,WAAW,CAAC,KAAK,CAAC,uDAAuD,CAAC,CAAC;QACjF,MAAM,WAAW,CAAC,KAAK,CAAC,sEAAsE,CAAC,CAAC;QAChG,MAAM,WAAW,CAAC,KAAK,CAAC,gDAAgD,CAAC,CAAC;IAC9E,CAAC;CAEJ;AAfD,8EAeC"}

================================================================================
File: dist\migrations\1762340661137-RemovePhoneFromSitters.d.ts
Size: 268 B
================================================================================

import { MigrationInterface, QueryRunner } from "typeorm";
export declare class RemovePhoneFromSitters1762340661137 implements MigrationInterface {
    name: string;
    up(queryRunner: QueryRunner): Promise<void>;
    down(queryRunner: QueryRunner): Promise<void>;
}


================================================================================
File: dist\migrations\1762340661137-RemovePhoneFromSitters.js
Size: 622 B
================================================================================

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RemovePhoneFromSitters1762340661137 = void 0;
class RemovePhoneFromSitters1762340661137 {
    name = 'RemovePhoneFromSitters1762340661137';
    async up(queryRunner) {
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "phoneNumber"`);
    }
    async down(queryRunner) {
        await queryRunner.query(`ALTER TABLE "sitters" ADD "phoneNumber" character varying`);
    }
}
exports.RemovePhoneFromSitters1762340661137 = RemovePhoneFromSitters1762340661137;
//# sourceMappingURL=1762340661137-RemovePhoneFromSitters.js.map

================================================================================
File: dist\migrations\1762340661137-RemovePhoneFromSitters.js.map
Size: 422 B
================================================================================

{"version":3,"file":"1762340661137-RemovePhoneFromSitters.js","sourceRoot":"","sources":["../../src/migrations/1762340661137-RemovePhoneFromSitters.ts"],"names":[],"mappings":";;;AAEA,MAAa,mCAAmC;IAC5C,IAAI,GAAG,qCAAqC,CAAA;IAErC,KAAK,CAAC,EAAE,CAAC,WAAwB;QACpC,MAAM,WAAW,CAAC,KAAK,CAAC,iDAAiD,CAAC,CAAC;IAC/E,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,WAAwB;QACtC,MAAM,WAAW,CAAC,KAAK,CAAC,2DAA2D,CAAC,CAAC;IACzF,CAAC;CAEJ;AAXD,kFAWC"}

================================================================================
File: dist\migrations\1763437588399-$npm_config_name.d.ts
Size: 260 B
================================================================================

import { MigrationInterface, QueryRunner } from "typeorm";
export declare class $npmConfigName1763437588399 implements MigrationInterface {
    name: string;
    up(queryRunner: QueryRunner): Promise<void>;
    down(queryRunner: QueryRunner): Promise<void>;
}


================================================================================
File: dist\migrations\1763437588399-$npm_config_name.js
Size: 4.04 kB
================================================================================

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.$npmConfigName1763437588399 = void 0;
class $npmConfigName1763437588399 {
    name = ' $npmConfigName1763437588399';
    async up(queryRunner) {
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "phoneNumber"`);
        await queryRunner.query(`ALTER TABLE "sitters" ADD "deleted_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "users" ADD "phone_number" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "UQ_17d1817f241f10a3dbafb169fd2" UNIQUE ("phone_number")`);
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "available_dates"`);
        await queryRunner.query(`ALTER TABLE "sitters" ADD "available_dates" text`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasGarden" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasGarden" SET DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasOtherPets" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasOtherPets" SET DEFAULT false`);
        await queryRunner.query(`ALTER TYPE "public"."sitters_status_enum" RENAME TO "sitters_status_enum_old"`);
        await queryRunner.query(`CREATE TYPE "public"."sitters_status_enum" AS ENUM('pending', 'approved', 'rejected')`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" TYPE "public"."sitters_status_enum" USING "status"::"text"::"public"."sitters_status_enum"`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" SET DEFAULT 'pending'`);
        await queryRunner.query(`DROP TYPE "public"."sitters_status_enum_old"`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "email" DROP NOT NULL`);
    }
    async down(queryRunner) {
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."sitters_status_enum_old" AS ENUM('pending', 'verified', 'rejected')`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" TYPE "public"."sitters_status_enum_old" USING "status"::"text"::"public"."sitters_status_enum_old"`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" SET DEFAULT 'pending'`);
        await queryRunner.query(`DROP TYPE "public"."sitters_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."sitters_status_enum_old" RENAME TO "sitters_status_enum"`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasOtherPets" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasOtherPets" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasGarden" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasGarden" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "available_dates"`);
        await queryRunner.query(`ALTER TABLE "sitters" ADD "available_dates" date array`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "UQ_17d1817f241f10a3dbafb169fd2"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "phone_number"`);
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "sitters" ADD "phoneNumber" character varying`);
    }
}
exports.$npmConfigName1763437588399 = $npmConfigName1763437588399;
//# sourceMappingURL=1763437588399-$npm_config_name.js.map

================================================================================
File: dist\migrations\1763437588399-$npm_config_name.js.map
Size: 2.04 kB
================================================================================

{"version":3,"file":"1763437588399-$npm_config_name.js","sourceRoot":"","sources":["../../src/migrations/1763437588399-$npm_config_name.ts"],"names":[],"mappings":";;;AAEA,MAAc,2BAA2B;IACrC,IAAI,GAAG,8BAA8B,CAAA;IAE9B,KAAK,CAAC,EAAE,CAAC,WAAwB;QACpC,MAAM,WAAW,CAAC,KAAK,CAAC,iDAAiD,CAAC,CAAC;QAC3E,MAAM,WAAW,CAAC,KAAK,CAAC,kDAAkD,CAAC,CAAC;QAC5E,MAAM,WAAW,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;QACpF,MAAM,WAAW,CAAC,KAAK,CAAC,6FAA6F,CAAC,CAAC;QACvH,MAAM,WAAW,CAAC,KAAK,CAAC,qDAAqD,CAAC,CAAC;QAC/E,MAAM,WAAW,CAAC,KAAK,CAAC,kDAAkD,CAAC,CAAC;QAC5E,MAAM,WAAW,CAAC,KAAK,CAAC,6DAA6D,CAAC,CAAC;QACvF,MAAM,WAAW,CAAC,KAAK,CAAC,kEAAkE,CAAC,CAAC;QAC5F,MAAM,WAAW,CAAC,KAAK,CAAC,gEAAgE,CAAC,CAAC;QAC1F,MAAM,WAAW,CAAC,KAAK,CAAC,qEAAqE,CAAC,CAAC;QAC/F,MAAM,WAAW,CAAC,KAAK,CAAC,+EAA+E,CAAC,CAAC;QACzG,MAAM,WAAW,CAAC,KAAK,CAAC,uFAAuF,CAAC,CAAC;QACjH,MAAM,WAAW,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;QACpF,MAAM,WAAW,CAAC,KAAK,CAAC,wIAAwI,CAAC,CAAC;QAClK,MAAM,WAAW,CAAC,KAAK,CAAC,mEAAmE,CAAC,CAAC;QAC7F,MAAM,WAAW,CAAC,KAAK,CAAC,8CAA8C,CAAC,CAAC;QACxE,MAAM,WAAW,CAAC,KAAK,CAAC,2DAA2D,CAAC,CAAC;QACrF,MAAM,WAAW,CAAC,KAAK,CAAC,wDAAwD,CAAC,CAAC;IACtF,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,WAAwB;QACtC,MAAM,WAAW,CAAC,KAAK,CAAC,uDAAuD,CAAC,CAAC;QACjF,MAAM,WAAW,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;QACpF,MAAM,WAAW,CAAC,KAAK,CAAC,2FAA2F,CAAC,CAAC;QACrH,MAAM,WAAW,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;QACpF,MAAM,WAAW,CAAC,KAAK,CAAC,gJAAgJ,CAAC,CAAC;QAC1K,MAAM,WAAW,CAAC,KAAK,CAAC,mEAAmE,CAAC,CAAC;QAC7F,MAAM,WAAW,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;QACpE,MAAM,WAAW,CAAC,KAAK,CAAC,+EAA+E,CAAC,CAAC;QACzG,MAAM,WAAW,CAAC,KAAK,CAAC,gEAAgE,CAAC,CAAC;QAC1F,MAAM,WAAW,CAAC,KAAK,CAAC,iEAAiE,CAAC,CAAC;QAC3F,MAAM,WAAW,CAAC,KAAK,CAAC,6DAA6D,CAAC,CAAC;QACvF,MAAM,WAAW,CAAC,KAAK,CAAC,8DAA8D,CAAC,CAAC;QACxF,MAAM,WAAW,CAAC,KAAK,CAAC,qDAAqD,CAAC,CAAC;QAC/E,MAAM,WAAW,CAAC,KAAK,CAAC,wDAAwD,CAAC,CAAC;QAClF,MAAM,WAAW,CAAC,KAAK,CAAC,sEAAsE,CAAC,CAAC;QAChG,MAAM,WAAW,CAAC,KAAK,CAAC,gDAAgD,CAAC,CAAC;QAC1E,MAAM,WAAW,CAAC,KAAK,CAAC,gDAAgD,CAAC,CAAC;QAC1E,MAAM,WAAW,CAAC,KAAK,CAAC,2DAA2D,CAAC,CAAC;IACzF,CAAC;CAEJ;AA7CD,kEA6CC"}

================================================================================
File: dist\notification\notification.entity.d.ts
Size: 218 B
================================================================================

import { User } from 'src/user/user.entity';
export declare class Notification {
    id: number;
    message: string;
    type: string;
    status: string;
    created_at: Date;
    updated_at: Date;
    user: User;
}


================================================================================
File: dist\notification\notification.entity.js
Size: 2.29 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Notification = void 0;
const user_entity_1 = require("../user/user.entity");
const typeorm_1 = require("typeorm");
let Notification = class Notification {
    id;
    message;
    type;
    status;
    created_at;
    updated_at;
    user;
};
exports.Notification = Notification;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Notification.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text' }),
    __metadata("design:type", String)
], Notification.prototype, "message", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], Notification.prototype, "type", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: 'unread' }),
    __metadata("design:type", String)
], Notification.prototype, "status", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Notification.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Notification.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.notifications),
    __metadata("design:type", user_entity_1.User)
], Notification.prototype, "user", void 0);
exports.Notification = Notification = __decorate([
    (0, typeorm_1.Entity)('notifications')
], Notification);
//# sourceMappingURL=notification.entity.js.map

================================================================================
File: dist\notification\notification.entity.js.map
Size: 806 B
================================================================================

{"version":3,"file":"notification.entity.js","sourceRoot":"","sources":["../../src/notification/notification.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,qDAA4C;AAC5C,qCAEiB;AAGV,IAAM,YAAY,GAAlB,MAAM,YAAY;IAEvB,EAAE,CAAS;IAGX,OAAO,CAAS;IAGhB,IAAI,CAAS;IAGb,MAAM,CAAS;IAGf,UAAU,CAAO;IAGjB,UAAU,CAAO;IAIjB,IAAI,CAAO;CACZ,CAAA;AAtBY,oCAAY;AAEvB;IADC,IAAA,gCAAsB,GAAE;;wCACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;6CACT;AAGhB;IADC,IAAA,gBAAM,GAAE;;0CACI;AAGb;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC;;4CACf;AAGf;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;gDAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;gDAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC;8BAC9C,kBAAI;0CAAC;uBArBA,YAAY;IADxB,IAAA,gBAAM,EAAC,eAAe,CAAC;GACX,YAAY,CAsBxB"}

================================================================================
File: dist\notification\notification.module.d.ts
Size: 44 B
================================================================================

export declare class NotificationModule {
}


================================================================================
File: dist\notification\notification.module.js
Size: 1.4 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.NotificationModule = void 0;
const common_1 = require("@nestjs/common");
const notification_service_1 = require("./notification.service");
const typeorm_1 = require("@nestjs/typeorm");
const notification_entity_1 = require("./notification.entity");
let NotificationModule = class NotificationModule {
};
exports.NotificationModule = NotificationModule;
exports.NotificationModule = NotificationModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([notification_entity_1.Notification])],
        providers: [notification_service_1.NotificationService],
        exports: [notification_service_1.NotificationService]
    })
], NotificationModule);
//# sourceMappingURL=notification.module.js.map

================================================================================
File: dist\notification\notification.module.js.map
Size: 460 B
================================================================================

{"version":3,"file":"notification.module.js","sourceRoot":"","sources":["../../src/notification/notification.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,iEAA6D;AAC7D,6CAAgD;AAChD,+DAAqD;AAO9C,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;CAAG,CAAA;AAArB,gDAAkB;6BAAlB,kBAAkB;IAL9B,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,kCAAY,CAAC,CAAC,CAAC;QACnD,SAAS,EAAE,CAAC,0CAAmB,CAAC;QAChC,OAAO,EAAE,CAAC,0CAAmB,CAAC;KAC/B,CAAC;GACW,kBAAkB,CAAG"}

================================================================================
File: dist\notification\notification.service.d.ts
Size: 45 B
================================================================================

export declare class NotificationService {
}


================================================================================
File: dist\notification\notification.service.js
Size: 1.01 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.NotificationService = void 0;
const common_1 = require("@nestjs/common");
let NotificationService = class NotificationService {
};
exports.NotificationService = NotificationService;
exports.NotificationService = NotificationService = __decorate([
    (0, common_1.Injectable)()
], NotificationService);
//# sourceMappingURL=notification.service.js.map

================================================================================
File: dist\notification\notification.service.js.map
Size: 280 B
================================================================================

{"version":3,"file":"notification.service.js","sourceRoot":"","sources":["../../src/notification/notification.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;CAAG,CAAA;AAAtB,kDAAmB;8BAAnB,mBAAmB;IAD/B,IAAA,mBAAU,GAAE;GACA,mBAAmB,CAAG"}

================================================================================
File: dist\payment\payment.entity.d.ts
Size: 263 B
================================================================================

import { Booking } from 'src/booking/booking.entity';
export declare class Payment {
    id: number;
    amount: number;
    payment_date: string;
    status: string;
    payment_method: string;
    created_at: Date;
    updated_at: Date;
    booking: Booking;
}


================================================================================
File: dist\payment\payment.entity.js
Size: 2.43 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Payment = void 0;
const booking_entity_1 = require("../booking/booking.entity");
const typeorm_1 = require("typeorm");
let Payment = class Payment {
    id;
    amount;
    payment_date;
    status;
    payment_method;
    created_at;
    updated_at;
    booking;
};
exports.Payment = Payment;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Payment.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'float' }),
    __metadata("design:type", Number)
], Payment.prototype, "amount", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'date' }),
    __metadata("design:type", String)
], Payment.prototype, "payment_date", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], Payment.prototype, "status", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], Payment.prototype, "payment_method", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Payment.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Payment.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.OneToOne)(() => booking_entity_1.Booking, (booking) => booking.payment),
    (0, typeorm_1.JoinColumn)(),
    __metadata("design:type", booking_entity_1.Booking)
], Payment.prototype, "booking", void 0);
exports.Payment = Payment = __decorate([
    (0, typeorm_1.Entity)('payments')
], Payment);
//# sourceMappingURL=payment.entity.js.map

================================================================================
File: dist\payment\payment.entity.js.map
Size: 862 B
================================================================================

{"version":3,"file":"payment.entity.js","sourceRoot":"","sources":["../../src/payment/payment.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,8DAAqD;AACrD,qCAEiB;AAGV,IAAM,OAAO,GAAb,MAAM,OAAO;IAElB,EAAE,CAAS;IAGX,MAAM,CAAS;IAGf,YAAY,CAAS;IAGrB,MAAM,CAAS;IAGf,cAAc,CAAS;IAGvB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAKjB,OAAO,CAAU;CAClB,CAAA;AA1BY,0BAAO;AAElB;IADC,IAAA,gCAAsB,GAAE;;mCACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;uCACX;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;6CACJ;AAGrB;IADC,IAAA,gBAAM,GAAE;;uCACM;AAGf;IADC,IAAA,gBAAM,GAAE;;+CACc;AAGvB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;2CAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;2CAAC;AAKjB;IAFC,IAAA,kBAAQ,EAAC,GAAG,EAAE,CAAC,wBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC;IACrD,IAAA,oBAAU,GAAE;8BACJ,wBAAO;wCAAC;kBAzBN,OAAO;IADnB,IAAA,gBAAM,EAAC,UAAU,CAAC;GACN,OAAO,CA0BnB"}

================================================================================
File: dist\payment\payment.module.d.ts
Size: 39 B
================================================================================

export declare class PaymentModule {
}


================================================================================
File: dist\payment\payment.module.js
Size: 1.3 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PaymentModule = void 0;
const common_1 = require("@nestjs/common");
const payment_service_1 = require("./payment.service");
const typeorm_1 = require("@nestjs/typeorm");
const payment_entity_1 = require("./payment.entity");
let PaymentModule = class PaymentModule {
};
exports.PaymentModule = PaymentModule;
exports.PaymentModule = PaymentModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([payment_entity_1.Payment])],
        providers: [payment_service_1.PaymentService],
        exports: [payment_service_1.PaymentService]
    })
], PaymentModule);
//# sourceMappingURL=payment.module.js.map

================================================================================
File: dist\payment\payment.module.js.map
Size: 433 B
================================================================================

{"version":3,"file":"payment.module.js","sourceRoot":"","sources":["../../src/payment/payment.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,uDAAmD;AACnD,6CAAgD;AAChD,qDAA2C;AAOpC,IAAM,aAAa,GAAnB,MAAM,aAAa;CAAG,CAAA;AAAhB,sCAAa;wBAAb,aAAa;IALzB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,wBAAO,CAAC,CAAC,CAAC;QAC9C,SAAS,EAAE,CAAC,gCAAc,CAAC;QAC3B,OAAO,EAAE,CAAC,gCAAc,CAAC;KAC1B,CAAC;GACW,aAAa,CAAG"}

================================================================================
File: dist\payment\payment.service.d.ts
Size: 40 B
================================================================================

export declare class PaymentService {
}


================================================================================
File: dist\payment\payment.service.js
Size: 963 B
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PaymentService = void 0;
const common_1 = require("@nestjs/common");
let PaymentService = class PaymentService {
};
exports.PaymentService = PaymentService;
exports.PaymentService = PaymentService = __decorate([
    (0, common_1.Injectable)()
], PaymentService);
//# sourceMappingURL=payment.service.js.map

================================================================================
File: dist\payment\payment.service.js.map
Size: 255 B
================================================================================

{"version":3,"file":"payment.service.js","sourceRoot":"","sources":["../../src/payment/payment.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,cAAc,GAApB,MAAM,cAAc;CAAG,CAAA;AAAjB,wCAAc;yBAAd,cAAc;IAD1B,IAAA,mBAAU,GAAE;GACA,cAAc,CAAG"}

================================================================================
File: dist\pet\dto\create-pet.dto.d.ts
Size: 293 B
================================================================================

export declare class CreatePetDto {
    name: string;
    species?: string;
    breed: string;
    dob?: string;
    weight?: number;
    allergies?: string;
    vaccination_dates?: string[];
    last_vet_visit?: string;
    mood_rating?: number;
    photoUrl?: string;
    ownerId: number;
}


================================================================================
File: dist\pet\dto\create-pet.dto.js
Size: 3.25 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CreatePetDto = void 0;
const class_validator_1 = require("class-validator");
class CreatePetDto {
    name;
    species;
    breed;
    dob;
    weight;
    allergies;
    vaccination_dates;
    last_vet_visit;
    mood_rating;
    photoUrl;
    ownerId;
}
exports.CreatePetDto = CreatePetDto;
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsNotEmpty)(),
    __metadata("design:type", String)
], CreatePetDto.prototype, "name", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreatePetDto.prototype, "species", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsNotEmpty)(),
    __metadata("design:type", String)
], CreatePetDto.prototype, "breed", void 0);
__decorate([
    (0, class_validator_1.IsDateString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreatePetDto.prototype, "dob", void 0);
__decorate([
    (0, class_validator_1.IsNumber)(),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.Min)(0),
    __metadata("design:type", Number)
], CreatePetDto.prototype, "weight", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreatePetDto.prototype, "allergies", void 0);
__decorate([
    (0, class_validator_1.IsArray)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Array)
], CreatePetDto.prototype, "vaccination_dates", void 0);
__decorate([
    (0, class_validator_1.IsDateString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreatePetDto.prototype, "last_vet_visit", void 0);
__decorate([
    (0, class_validator_1.IsNumber)(),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.Min)(0),
    (0, class_validator_1.Max)(10),
    __metadata("design:type", Number)
], CreatePetDto.prototype, "mood_rating", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreatePetDto.prototype, "photoUrl", void 0);
__decorate([
    (0, class_validator_1.IsNumber)(),
    (0, class_validator_1.IsNotEmpty)(),
    __metadata("design:type", Number)
], CreatePetDto.prototype, "ownerId", void 0);
//# sourceMappingURL=create-pet.dto.js.map

================================================================================
File: dist\pet\dto\create-pet.dto.js.map
Size: 1.06 kB
================================================================================

{"version":3,"file":"create-pet.dto.js","sourceRoot":"","sources":["../../../src/pet/dto/create-pet.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qDASyB;AAEzB,MAAa,YAAY;IAGvB,IAAI,CAAS;IAIb,OAAO,CAAU;IAIjB,KAAK,CAAS;IAId,GAAG,CAAU;IAKb,MAAM,CAAU;IAIhB,SAAS,CAAU;IAInB,iBAAiB,CAAY;IAI7B,cAAc,CAAU;IAMxB,WAAW,CAAU;IAIrB,QAAQ,CAAU;IAIlB,OAAO,CAAS;CACjB;AA/CD,oCA+CC;AA5CC;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;0CACA;AAIb;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;6CACI;AAIjB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;2CACC;AAId;IAFC,IAAA,8BAAY,GAAE;IACd,IAAA,4BAAU,GAAE;;yCACA;AAKb;IAHC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;IACZ,IAAA,qBAAG,EAAC,CAAC,CAAC;;4CACS;AAIhB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;+CACM;AAInB;IAFC,IAAA,yBAAO,GAAE;IACT,IAAA,4BAAU,GAAE;;uDACgB;AAI7B;IAFC,IAAA,8BAAY,GAAE;IACd,IAAA,4BAAU,GAAE;;oDACW;AAMxB;IAJC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;IACZ,IAAA,qBAAG,EAAC,CAAC,CAAC;IACN,IAAA,qBAAG,EAAC,EAAE,CAAC;;iDACa;AAIrB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;8CACK;AAIlB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;6CACG"}

================================================================================
File: dist\pet\dto\update-pet.dto.d.ts
Size: 223 B
================================================================================

import { CreatePetDto } from './create-pet.dto';
declare const UpdatePetDto_base: import("@nestjs/mapped-types").MappedType<Partial<CreatePetDto>>;
export declare class UpdatePetDto extends UpdatePetDto_base {
}
export {};


================================================================================
File: dist\pet\dto\update-pet.dto.js
Size: 391 B
================================================================================

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UpdatePetDto = void 0;
const mapped_types_1 = require("@nestjs/mapped-types");
const create_pet_dto_1 = require("./create-pet.dto");
class UpdatePetDto extends (0, mapped_types_1.PartialType)(create_pet_dto_1.CreatePetDto) {
}
exports.UpdatePetDto = UpdatePetDto;
//# sourceMappingURL=update-pet.dto.js.map

================================================================================
File: dist\pet\dto\update-pet.dto.js.map
Size: 227 B
================================================================================

{"version":3,"file":"update-pet.dto.js","sourceRoot":"","sources":["../../../src/pet/dto/update-pet.dto.ts"],"names":[],"mappings":";;;AAAA,uDAAmD;AACnD,qDAAgD;AAEhD,MAAa,YAAa,SAAQ,IAAA,0BAAW,EAAC,6BAAY,CAAC;CAAG;AAA9D,oCAA8D"}

================================================================================
File: dist\pet\pet.controller.d.ts
Size: 474 B
================================================================================

import { PetService } from './pet.service';
import { CreatePetDto } from './dto/create-pet.dto';
export declare class PetController {
    private readonly petService;
    constructor(petService: PetService);
    createPet(createPetDto: CreatePetDto, file: any, req: any): Promise<import("./pet.entity").Pet>;
    getPetsByOwnerParam(ownerId: string): Promise<import("./pet.entity").Pet[]>;
    getPetsByOwnerQuery(ownerId?: string): Promise<import("./pet.entity").Pet[]>;
}


================================================================================
File: dist\pet\pet.controller.js
Size: 3.23 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PetController = void 0;
const common_1 = require("@nestjs/common");
const platform_express_1 = require("@nestjs/platform-express");
const pet_service_1 = require("./pet.service");
const create_pet_dto_1 = require("./dto/create-pet.dto");
let PetController = class PetController {
    petService;
    constructor(petService) {
        this.petService = petService;
    }
    async createPet(createPetDto, file, req) {
        const ownerId = req.user?.id || 1;
        createPetDto.ownerId = ownerId;
        if (file) {
            createPetDto.photoUrl = `https://your-supabase-url/storage/photos/${file.filename}`;
        }
        return this.petService.create(createPetDto);
    }
    async getPetsByOwnerParam(ownerId) {
        return this.petService.findByOwner(Number(ownerId));
    }
    async getPetsByOwnerQuery(ownerId) {
        if (!ownerId)
            return [];
        return this.petService.findByOwner(Number(ownerId));
    }
};
exports.PetController = PetController;
__decorate([
    (0, common_1.Post)(),
    (0, common_1.UseInterceptors)((0, platform_express_1.FileInterceptor)('photo')),
    __param(0, (0, common_1.Body)()),
    __param(1, (0, common_1.UploadedFile)()),
    __param(2, (0, common_1.Request)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [create_pet_dto_1.CreatePetDto, Object, Object]),
    __metadata("design:returntype", Promise)
], PetController.prototype, "createPet", null);
__decorate([
    (0, common_1.Get)('owner/:ownerId'),
    __param(0, (0, common_1.Param)('ownerId')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], PetController.prototype, "getPetsByOwnerParam", null);
__decorate([
    (0, common_1.Get)(),
    __param(0, (0, common_1.Query)('ownerId')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], PetController.prototype, "getPetsByOwnerQuery", null);
exports.PetController = PetController = __decorate([
    (0, common_1.Controller)('pets'),
    __metadata("design:paramtypes", [pet_service_1.PetService])
], PetController);
//# sourceMappingURL=pet.controller.js.map

================================================================================
File: dist\pet\pet.controller.js.map
Size: 1.33 kB
================================================================================

{"version":3,"file":"pet.controller.js","sourceRoot":"","sources":["../../src/pet/pet.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA,2CAWwB;AACxB,+DAA2D;AAC3D,+CAA2C;AAC3C,yDAAoD;AAI7C,IAAM,aAAa,GAAnB,MAAM,aAAa;IACK;IAA7B,YAA6B,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAG,CAAC;IAKjD,AAAN,KAAK,CAAC,SAAS,CACL,YAA0B,EAClB,IAAS,EACd,GAAG;QAId,MAAM,OAAO,GAAG,GAAG,CAAC,IAAI,EAAE,EAAE,IAAI,CAAC,CAAC;QAClC,YAAY,CAAC,OAAO,GAAG,OAAO,CAAC;QAI/B,IAAI,IAAI,EAAE,CAAC;YAIT,YAAY,CAAC,QAAQ,GAAG,4CAA4C,IAAI,CAAC,QAAQ,EAAE,CAAC;QACtF,CAAC;QAGD,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;IAC9C,CAAC;IAGK,AAAN,KAAK,CAAC,mBAAmB,CAAmB,OAAe;QACzD,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;IACtD,CAAC;IAGK,AAAN,KAAK,CAAC,mBAAmB,CAAmB,OAAgB;QAC1D,IAAI,CAAC,OAAO;YAAE,OAAO,EAAE,CAAC;QACxB,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;IACtD,CAAC;CACF,CAAA;AAvCY,sCAAa;AAMlB;IAHL,IAAA,aAAI,GAAE;IAEN,IAAA,wBAAe,EAAC,IAAA,kCAAe,EAAC,OAAO,CAAC,CAAC;IAEvC,WAAA,IAAA,aAAI,GAAE,CAAA;IACN,WAAA,IAAA,qBAAY,GAAE,CAAA;IACd,WAAA,IAAA,gBAAO,GAAE,CAAA;;qCAFY,6BAAY;;8CAoBnC;AAGK;IADL,IAAA,YAAG,EAAC,gBAAgB,CAAC;IACK,WAAA,IAAA,cAAK,EAAC,SAAS,CAAC,CAAA;;;;wDAE1C;AAGK;IADL,IAAA,YAAG,GAAE;IACqB,WAAA,IAAA,cAAK,EAAC,SAAS,CAAC,CAAA;;;;wDAG1C;wBAtCU,aAAa;IADzB,IAAA,mBAAU,EAAC,MAAM,CAAC;qCAEwB,wBAAU;GADxC,aAAa,CAuCzB"}

================================================================================
File: dist\pet\pet.entity.d.ts
Size: 696 B
================================================================================

import { User } from '../user/user.entity';
import { ActivityLog } from '../activity-log/activity-log.entity';
import { HealthRecord } from '../health-record/health-record.entity';
import { Booking } from '../booking/booking.entity';
export declare class Pet {
    id: number;
    name: string;
    species: string;
    breed: string;
    dob: Date;
    weight: number;
    allergies: string;
    vaccination_dates: string[];
    last_vet_visit: Date;
    mood_rating: number;
    streak: number;
    photoUrl: string;
    ownerId: number;
    owner: User;
    activityLogs: ActivityLog[];
    healthRecords: HealthRecord[];
    bookings: Booking[];
    created_at: Date;
    updated_at: Date;
}


================================================================================
File: dist\pet\pet.entity.js
Size: 4.5 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Pet = void 0;
const typeorm_1 = require("typeorm");
const user_entity_1 = require("../user/user.entity");
const activity_log_entity_1 = require("../activity-log/activity-log.entity");
const health_record_entity_1 = require("../health-record/health-record.entity");
const booking_entity_1 = require("../booking/booking.entity");
let Pet = class Pet {
    id;
    name;
    species;
    breed;
    dob;
    weight;
    allergies;
    vaccination_dates;
    last_vet_visit;
    mood_rating;
    streak;
    photoUrl;
    ownerId;
    owner;
    activityLogs;
    healthRecords;
    bookings;
    created_at;
    updated_at;
};
exports.Pet = Pet;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Pet.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], Pet.prototype, "name", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], Pet.prototype, "species", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], Pet.prototype, "breed", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'date', nullable: true }),
    __metadata("design:type", Date)
], Pet.prototype, "dob", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'double precision', nullable: true }),
    __metadata("design:type", Number)
], Pet.prototype, "weight", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text', nullable: true }),
    __metadata("design:type", String)
], Pet.prototype, "allergies", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'simple-array', nullable: true }),
    __metadata("design:type", Array)
], Pet.prototype, "vaccination_dates", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'date', nullable: true }),
    __metadata("design:type", Date)
], Pet.prototype, "last_vet_visit", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'double precision', nullable: true }),
    __metadata("design:type", Number)
], Pet.prototype, "mood_rating", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'int', default: 0 }),
    __metadata("design:type", Number)
], Pet.prototype, "streak", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], Pet.prototype, "photoUrl", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", Number)
], Pet.prototype, "ownerId", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.pets),
    (0, typeorm_1.JoinColumn)({ name: 'ownerId' }),
    __metadata("design:type", user_entity_1.User)
], Pet.prototype, "owner", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => activity_log_entity_1.ActivityLog, (activityLog) => activityLog.pet),
    __metadata("design:type", Array)
], Pet.prototype, "activityLogs", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => health_record_entity_1.HealthRecord, (healthRecord) => healthRecord.pet),
    __metadata("design:type", Array)
], Pet.prototype, "healthRecords", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => booking_entity_1.Booking, (booking) => booking.pet),
    __metadata("design:type", Array)
], Pet.prototype, "bookings", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Pet.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Pet.prototype, "updated_at", void 0);
exports.Pet = Pet = __decorate([
    (0, typeorm_1.Entity)('pets')
], Pet);
//# sourceMappingURL=pet.entity.js.map

================================================================================
File: dist\pet\pet.entity.js.map
Size: 2.06 kB
================================================================================

{"version":3,"file":"pet.entity.js","sourceRoot":"","sources":["../../src/pet/pet.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qCASiB;AACjB,qDAA2C;AAC3C,6EAAkE;AAClE,gFAAqE;AACrE,8DAAoD;AAG7C,IAAM,GAAG,GAAT,MAAM,GAAG;IAEd,EAAE,CAAS;IAGX,IAAI,CAAS;IAGb,OAAO,CAAS;IAGhB,KAAK,CAAS;IAGd,GAAG,CAAO;IAGV,MAAM,CAAS;IAGf,SAAS,CAAS;IAGlB,iBAAiB,CAAW;IAG5B,cAAc,CAAO;IAGrB,WAAW,CAAS;IAGpB,MAAM,CAAS;IAGf,QAAQ,CAAS;IAGjB,OAAO,CAAS;IAIhB,KAAK,CAAO;IAGZ,YAAY,CAAgB;IAG5B,aAAa,CAAiB;IAG9B,QAAQ,CAAY;IAGpB,UAAU,CAAO;IAGjB,UAAU,CAAO;CAClB,CAAA;AA1DY,kBAAG;AAEd;IADC,IAAA,gCAAsB,GAAE;;+BACd;AAGX;IADC,IAAA,gBAAM,GAAE;;iCACI;AAGb;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACX;AAGhB;IADC,IAAA,gBAAM,GAAE;;kCACK;AAGd;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;8BACpC,IAAI;gCAAC;AAGV;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;mCACtC;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACvB;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;8CACrB;AAG5B;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;8BACzB,IAAI;2CAAC;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACjC;AAGpB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;mCACrB;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qCACV;AAGjB;IADC,IAAA,gBAAM,GAAE;;oCACO;AAIhB;IAFC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;IAC1C,IAAA,oBAAU,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;8BACzB,kBAAI;kCAAC;AAGZ;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,iCAAW,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC;;yCACnC;AAG5B;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,mCAAY,EAAE,CAAC,YAAY,EAAE,EAAE,CAAC,YAAY,CAAC,GAAG,CAAC;;0CACpC;AAG9B;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,wBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC;;qCAC/B;AAGpB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;uCAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;uCAAC;cAzDN,GAAG;IADf,IAAA,gBAAM,EAAC,MAAM,CAAC;GACF,GAAG,CA0Df"}

================================================================================
File: dist\pet\pet.module.d.ts
Size: 35 B
================================================================================

export declare class PetModule {
}


================================================================================
File: dist\pet\pet.module.js
Size: 1.34 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PetModule = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const pet_service_1 = require("./pet.service");
const pet_controller_1 = require("./pet.controller");
const pet_entity_1 = require("./pet.entity");
let PetModule = class PetModule {
};
exports.PetModule = PetModule;
exports.PetModule = PetModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([pet_entity_1.Pet])],
        controllers: [pet_controller_1.PetController],
        providers: [pet_service_1.PetService],
        exports: [pet_service_1.PetService],
    })
], PetModule);
//# sourceMappingURL=pet.module.js.map

================================================================================
File: dist\pet\pet.module.js.map
Size: 464 B
================================================================================

{"version":3,"file":"pet.module.js","sourceRoot":"","sources":["../../src/pet/pet.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,6CAAgD;AAChD,+CAA2C;AAC3C,qDAAiD;AACjD,6CAAmC;AAQ5B,IAAM,SAAS,GAAf,MAAM,SAAS;CAAG,CAAA;AAAZ,8BAAS;oBAAT,SAAS;IANrB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,gBAAG,CAAC,CAAC,CAAC;QAC1C,WAAW,EAAE,CAAC,8BAAa,CAAC;QAC5B,SAAS,EAAE,CAAC,wBAAU,CAAC;QACvB,OAAO,EAAE,CAAC,wBAAU,CAAC;KACtB,CAAC;GACW,SAAS,CAAG"}

================================================================================
File: dist\pet\pet.service.d.ts
Size: 747 B
================================================================================

import { Repository } from 'typeorm';
import { Pet } from './pet.entity';
import { CreatePetDto } from './dto/create-pet.dto';
import { UpdatePetDto } from './dto/update-pet.dto';
export declare class PetService {
    private petRepository;
    constructor(petRepository: Repository<Pet>);
    create(createPetDto: CreatePetDto): Promise<Pet>;
    findAll(ownerId?: number): Promise<Pet[]>;
    findOne(id: number): Promise<Pet>;
    findByOwner(ownerId: number): Promise<Pet[]>;
    update(id: number, updatePetDto: UpdatePetDto, userId: number): Promise<Pet>;
    remove(id: number, userId: number): Promise<void>;
    updateStreak(id: number, streak: number): Promise<Pet>;
    updateMoodRating(id: number, moodRating: number): Promise<Pet>;
}


================================================================================
File: dist\pet\pet.service.js
Size: 3.63 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PetService = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const typeorm_2 = require("typeorm");
const pet_entity_1 = require("./pet.entity");
let PetService = class PetService {
    petRepository;
    constructor(petRepository) {
        this.petRepository = petRepository;
    }
    async create(createPetDto) {
        const pet = this.petRepository.create(createPetDto);
        return await this.petRepository.save(pet);
    }
    async findAll(ownerId) {
        if (ownerId) {
            return await this.petRepository.find({
                where: { ownerId },
                relations: ['owner'],
                order: { created_at: 'DESC' },
            });
        }
        return await this.petRepository.find({
            relations: ['owner'],
            order: { created_at: 'DESC' },
        });
    }
    async findOne(id) {
        const pet = await this.petRepository.findOne({
            where: { id },
            relations: ['owner', 'activityLogs', 'healthRecords'],
        });
        if (!pet) {
            throw new common_1.NotFoundException(`Pet with ID ${id} not found`);
        }
        return pet;
    }
    async findByOwner(ownerId) {
        return await this.petRepository.find({
            where: { ownerId },
            relations: ['owner'],
            order: { created_at: 'DESC' },
        });
    }
    async update(id, updatePetDto, userId) {
        const pet = await this.findOne(id);
        if (pet.ownerId !== userId) {
            throw new common_1.ForbiddenException('You can only update your own pets');
        }
        Object.assign(pet, updatePetDto);
        return await this.petRepository.save(pet);
    }
    async remove(id, userId) {
        const pet = await this.findOne(id);
        if (pet.ownerId !== userId) {
            throw new common_1.ForbiddenException('You can only delete your own pets');
        }
        await this.petRepository.remove(pet);
    }
    async updateStreak(id, streak) {
        const pet = await this.findOne(id);
        pet.streak = streak;
        return await this.petRepository.save(pet);
    }
    async updateMoodRating(id, moodRating) {
        const pet = await this.findOne(id);
        pet.mood_rating = moodRating;
        return await this.petRepository.save(pet);
    }
};
exports.PetService = PetService;
exports.PetService = PetService = __decorate([
    (0, common_1.Injectable)(),
    __param(0, (0, typeorm_1.InjectRepository)(pet_entity_1.Pet)),
    __metadata("design:paramtypes", [typeorm_2.Repository])
], PetService);
//# sourceMappingURL=pet.service.js.map

================================================================================
File: dist\pet\pet.service.js.map
Size: 2.49 kB
================================================================================

{"version":3,"file":"pet.service.js","sourceRoot":"","sources":["../../src/pet/pet.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAIwB;AACxB,6CAAmD;AACnD,qCAAqC;AACrC,6CAAmC;AAK5B,IAAM,UAAU,GAAhB,MAAM,UAAU;IAGX;IAFV,YAEU,aAA8B;QAA9B,kBAAa,GAAb,aAAa,CAAiB;IACrC,CAAC;IAEJ,KAAK,CAAC,MAAM,CAAC,YAA0B;QACrC,MAAM,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACpD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,OAAgB;QAC5B,IAAI,OAAO,EAAE,CAAC;YACZ,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;gBACnC,KAAK,EAAE,EAAE,OAAO,EAAE;gBAClB,SAAS,EAAE,CAAC,OAAO,CAAC;gBACpB,KAAK,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE;aAC9B,CAAC,CAAC;QACL,CAAC;QACD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;YACnC,SAAS,EAAE,CAAC,OAAO,CAAC;YACpB,KAAK,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE;SAC9B,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,EAAU;QACtB,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;YAC3C,KAAK,EAAE,EAAE,EAAE,EAAE;YACb,SAAS,EAAE,CAAC,OAAO,EAAE,cAAc,EAAE,eAAe,CAAC;SACtD,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,EAAE,CAAC;YACT,MAAM,IAAI,0BAAiB,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;QAC7D,CAAC;QAED,OAAO,GAAG,CAAC;IACb,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,OAAe;QAC/B,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;YACnC,KAAK,EAAE,EAAE,OAAO,EAAE;YAClB,SAAS,EAAE,CAAC,OAAO,CAAC;YACpB,KAAK,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE;SAC9B,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,MAAM,CACV,EAAU,EACV,YAA0B,EAC1B,MAAc;QAEd,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAGnC,IAAI,GAAG,CAAC,OAAO,KAAK,MAAM,EAAE,CAAC;YAC3B,MAAM,IAAI,2BAAkB,CAAC,mCAAmC,CAAC,CAAC;QACpE,CAAC;QAED,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;QACjC,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU,EAAE,MAAc;QACrC,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAGnC,IAAI,GAAG,CAAC,OAAO,KAAK,MAAM,EAAE,CAAC;YAC3B,MAAM,IAAI,2BAAkB,CAAC,mCAAmC,CAAC,CAAC;QACpE,CAAC;QAED,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAU,EAAE,MAAc;QAC3C,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACnC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC;QACpB,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,EAAU,EAAE,UAAkB;QACnD,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACnC,GAAG,CAAC,WAAW,GAAG,UAAU,CAAC;QAC7B,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;CACF,CAAA;AApFY,gCAAU;qBAAV,UAAU;IADtB,IAAA,mBAAU,GAAE;IAGR,WAAA,IAAA,0BAAgB,EAAC,gBAAG,CAAC,CAAA;qCACC,oBAAU;GAHxB,UAAU,CAoFtB"}

================================================================================
File: dist\posts\posts.entity.d.ts
Size: 367 B
================================================================================

import { User } from 'src/user/user.entity';
import { Comment } from 'src/comments/comments.entity';
import { Like } from 'src/likes/likes.entity';
export declare class Post {
    id: number;
    content: string;
    image_url: string;
    likes_count: number;
    created_at: Date;
    updated_at: Date;
    user: User;
    comments: Comment[];
    likes: Like[];
}


================================================================================
File: dist\posts\posts.entity.js
Size: 2.68 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Post = void 0;
const user_entity_1 = require("../user/user.entity");
const comments_entity_1 = require("../comments/comments.entity");
const likes_entity_1 = require("../likes/likes.entity");
const typeorm_1 = require("typeorm");
let Post = class Post {
    id;
    content;
    image_url;
    likes_count;
    created_at;
    updated_at;
    user;
    comments;
    likes;
};
exports.Post = Post;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Post.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text' }),
    __metadata("design:type", String)
], Post.prototype, "content", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], Post.prototype, "image_url", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: 0 }),
    __metadata("design:type", Number)
], Post.prototype, "likes_count", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Post.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Post.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.posts),
    __metadata("design:type", user_entity_1.User)
], Post.prototype, "user", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => comments_entity_1.Comment, (comment) => comment.post),
    __metadata("design:type", Array)
], Post.prototype, "comments", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => likes_entity_1.Like, (like) => like.post),
    __metadata("design:type", Array)
], Post.prototype, "likes", void 0);
exports.Post = Post = __decorate([
    (0, typeorm_1.Entity)('posts')
], Post);
//# sourceMappingURL=posts.entity.js.map

================================================================================
File: dist\posts\posts.entity.js.map
Size: 1.08 kB
================================================================================

{"version":3,"file":"posts.entity.js","sourceRoot":"","sources":["../../src/posts/posts.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,qDAA4C;AAC5C,iEAAuD;AACvD,wDAA8C;AAC9C,qCAEiB;AAGV,IAAM,IAAI,GAAV,MAAM,IAAI;IAEf,EAAE,CAAS;IAGX,OAAO,CAAS;IAGhB,SAAS,CAAS;IAGlB,WAAW,CAAS;IAGpB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAIjB,IAAI,CAAO;IAGX,QAAQ,CAAY;IAGpB,KAAK,CAAS;CACf,CAAA;AA5BY,oBAAI;AAEf;IADC,IAAA,gCAAsB,GAAE;;gCACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;qCACT;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACT;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;yCACH;AAGpB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;wCAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;wCAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;8BACtC,kBAAI;kCAAC;AAGX;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,yBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;;sCAChC;AAGpB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,mBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;;mCAC7B;eA3BH,IAAI;IADhB,IAAA,gBAAM,EAAC,OAAO,CAAC;GACH,IAAI,CA4BhB"}

================================================================================
File: dist\posts\posts.module.d.ts
Size: 37 B
================================================================================

export declare class PostsModule {
}


================================================================================
File: dist\posts\posts.module.js
Size: 1.26 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PostsModule = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const posts_entity_1 = require("./posts.entity");
const posts_service_1 = require("./posts.service");
let PostsModule = class PostsModule {
};
exports.PostsModule = PostsModule;
exports.PostsModule = PostsModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([posts_entity_1.Post])],
        providers: [posts_service_1.PostsService],
        exports: [posts_service_1.PostsService]
    })
], PostsModule);
//# sourceMappingURL=posts.module.js.map

================================================================================
File: dist\posts\posts.module.js.map
Size: 426 B
================================================================================

{"version":3,"file":"posts.module.js","sourceRoot":"","sources":["../../src/posts/posts.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,6CAAgD;AAChD,iDAAsC;AACtC,mDAA+C;AAUxC,IAAM,WAAW,GAAjB,MAAM,WAAW;CAAG,CAAA;AAAd,kCAAW;sBAAX,WAAW;IALvB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,mBAAI,CAAC,CAAC,CAAC;QAC3C,SAAS,EAAE,CAAC,4BAAY,CAAC;QACzB,OAAO,EAAE,CAAC,4BAAY,CAAC;KACxB,CAAC;GACW,WAAW,CAAG"}

================================================================================
File: dist\posts\posts.service.d.ts
Size: 38 B
================================================================================

export declare class PostsService {
}


================================================================================
File: dist\posts\posts.service.js
Size: 945 B
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PostsService = void 0;
const common_1 = require("@nestjs/common");
let PostsService = class PostsService {
};
exports.PostsService = PostsService;
exports.PostsService = PostsService = __decorate([
    (0, common_1.Injectable)()
], PostsService);
//# sourceMappingURL=posts.service.js.map

================================================================================
File: dist\posts\posts.service.js.map
Size: 248 B
================================================================================

{"version":3,"file":"posts.service.js","sourceRoot":"","sources":["../../src/posts/posts.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,YAAY,GAAlB,MAAM,YAAY;CAAG,CAAA;AAAf,oCAAY;uBAAZ,YAAY;IADxB,IAAA,mBAAU,GAAE;GACA,YAAY,CAAG"}

================================================================================
File: dist\review\review.entity.d.ts
Size: 342 B
================================================================================

import { Booking } from 'src/booking/booking.entity';
import { Sitter } from 'src/sitter/sitter.entity';
import { User } from 'src/user/user.entity';
export declare class Review {
    id: number;
    rating: number;
    comment: string;
    created_at: Date;
    updated_at: Date;
    booking: Booking;
    sitter: Sitter;
    owner: User;
}


================================================================================
File: dist\review\review.entity.js
Size: 2.62 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Review = void 0;
const booking_entity_1 = require("../booking/booking.entity");
const sitter_entity_1 = require("../sitter/sitter.entity");
const user_entity_1 = require("../user/user.entity");
const typeorm_1 = require("typeorm");
let Review = class Review {
    id;
    rating;
    comment;
    created_at;
    updated_at;
    booking;
    sitter;
    owner;
};
exports.Review = Review;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Review.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'float' }),
    __metadata("design:type", Number)
], Review.prototype, "rating", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text', nullable: true }),
    __metadata("design:type", String)
], Review.prototype, "comment", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Review.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Review.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => booking_entity_1.Booking, (booking) => booking.reviews),
    __metadata("design:type", booking_entity_1.Booking)
], Review.prototype, "booking", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => sitter_entity_1.Sitter, (sitter) => sitter.reviews),
    __metadata("design:type", sitter_entity_1.Sitter)
], Review.prototype, "sitter", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.reviews),
    __metadata("design:type", user_entity_1.User)
], Review.prototype, "owner", void 0);
exports.Review = Review = __decorate([
    (0, typeorm_1.Entity)('reviews')
], Review);
//# sourceMappingURL=review.entity.js.map

================================================================================
File: dist\review\review.entity.js.map
Size: 1.05 kB
================================================================================

{"version":3,"file":"review.entity.js","sourceRoot":"","sources":["../../src/review/review.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,8DAAqD;AACrD,2DAAkD;AAClD,qDAA4C;AAC5C,qCAEiB;AAGV,IAAM,MAAM,GAAZ,MAAM,MAAM;IAEjB,EAAE,CAAS;IAGX,MAAM,CAAS;IAGf,OAAO,CAAS;IAGhB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAIjB,OAAO,CAAU;IAGjB,MAAM,CAAS;IAGf,KAAK,CAAO;CACb,CAAA;AAzBY,wBAAM;AAEjB;IADC,IAAA,gCAAsB,GAAE;;kCACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;sCACX;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACzB;AAGhB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;0CAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;0CAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,wBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC;8BAC9C,wBAAO;uCAAC;AAGjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,sBAAM,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC;8BAC5C,sBAAM;sCAAC;AAGf;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC;8BACvC,kBAAI;qCAAC;iBAxBD,MAAM;IADlB,IAAA,gBAAM,EAAC,SAAS,CAAC;GACL,MAAM,CAyBlB"}

================================================================================
File: dist\review\review.module.d.ts
Size: 38 B
================================================================================

export declare class ReviewModule {
}


================================================================================
File: dist\review\review.module.js
Size: 1.28 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ReviewModule = void 0;
const common_1 = require("@nestjs/common");
const review_service_1 = require("./review.service");
const typeorm_1 = require("@nestjs/typeorm");
const review_entity_1 = require("./review.entity");
let ReviewModule = class ReviewModule {
};
exports.ReviewModule = ReviewModule;
exports.ReviewModule = ReviewModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([review_entity_1.Review])],
        providers: [review_service_1.ReviewService],
        exports: [review_service_1.ReviewService]
    })
], ReviewModule);
//# sourceMappingURL=review.module.js.map

================================================================================
File: dist\review\review.module.js.map
Size: 429 B
================================================================================

{"version":3,"file":"review.module.js","sourceRoot":"","sources":["../../src/review/review.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,qDAAiD;AACjD,6CAAgD;AAChD,mDAAyC;AAOlC,IAAM,YAAY,GAAlB,MAAM,YAAY;CAAG,CAAA;AAAf,oCAAY;uBAAZ,YAAY;IALxB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,sBAAM,CAAC,CAAC,CAAC;QAC7C,SAAS,EAAE,CAAC,8BAAa,CAAC;QAC1B,OAAO,EAAE,CAAC,8BAAa,CAAC;KACzB,CAAC;GACW,YAAY,CAAG"}

================================================================================
File: dist\review\review.service.d.ts
Size: 39 B
================================================================================

export declare class ReviewService {
}


================================================================================
File: dist\review\review.service.js
Size: 954 B
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ReviewService = void 0;
const common_1 = require("@nestjs/common");
let ReviewService = class ReviewService {
};
exports.ReviewService = ReviewService;
exports.ReviewService = ReviewService = __decorate([
    (0, common_1.Injectable)()
], ReviewService);
//# sourceMappingURL=review.service.js.map

================================================================================
File: dist\review\review.service.js.map
Size: 252 B
================================================================================

{"version":3,"file":"review.service.js","sourceRoot":"","sources":["../../src/review/review.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAA4C;AAGrC,IAAM,aAAa,GAAnB,MAAM,aAAa;CAAG,CAAA;AAAhB,sCAAa;wBAAb,aAAa;IADzB,IAAA,mBAAU,GAAE;GACA,aAAa,CAAG"}

================================================================================
File: dist\role\role.controller.d.ts
Size: 371 B
================================================================================

import { RoleService } from './role.service';
import { Role } from './role.entity';
export declare class RoleController {
    private readonly roleService;
    constructor(roleService: RoleService);
    createRole(role: string): Promise<{
        message: string;
        data: Role;
    }>;
    getAll(): Promise<{
        total: number;
        data: Role[];
    }>;
}


================================================================================
File: dist\role\role.controller.js
Size: 2.4 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.RoleController = void 0;
const common_1 = require("@nestjs/common");
const role_service_1 = require("./role.service");
let RoleController = class RoleController {
    roleService;
    constructor(roleService) {
        this.roleService = roleService;
    }
    async createRole(role) {
        if (!role) {
            throw new common_1.BadRequestException('Role is required');
        }
        const saved = await this.roleService.saveRole(role);
        return { message: `Role '${role}' saved successfully`, data: saved };
    }
    async getAll() {
        const roles = await this.roleService.getAllRoles();
        return { total: roles.length, data: roles };
    }
};
exports.RoleController = RoleController;
__decorate([
    (0, common_1.Post)(),
    __param(0, (0, common_1.Body)('role')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], RoleController.prototype, "createRole", null);
__decorate([
    (0, common_1.Get)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], RoleController.prototype, "getAll", null);
exports.RoleController = RoleController = __decorate([
    (0, common_1.Controller)('role'),
    __metadata("design:paramtypes", [role_service_1.RoleService])
], RoleController);
//# sourceMappingURL=role.controller.js.map

================================================================================
File: dist\role\role.controller.js.map
Size: 911 B
================================================================================

{"version":3,"file":"role.controller.js","sourceRoot":"","sources":["../../src/role/role.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAAkF;AAClF,iDAA6C;AAItC,IAAM,cAAc,GAApB,MAAM,cAAc;IACI;IAA7B,YAA6B,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAGnD,AAAN,KAAK,CAAC,UAAU,CAAe,IAAY;QACzC,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,4BAAmB,CAAC,kBAAkB,CAAC,CAAC;QACpD,CAAC;QAED,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACpD,OAAO,EAAE,OAAO,EAAE,SAAS,IAAI,sBAAsB,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IACvE,CAAC;IAGK,AAAN,KAAK,CAAC,MAAM;QACV,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;QACnD,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IAC9C,CAAC;CACF,CAAA;AAlBY,wCAAc;AAInB;IADL,IAAA,aAAI,GAAE;IACW,WAAA,IAAA,aAAI,EAAC,MAAM,CAAC,CAAA;;;;gDAO7B;AAGK;IADL,IAAA,YAAG,GAAE;;;;4CAIL;yBAjBU,cAAc;IAD1B,IAAA,mBAAU,EAAC,MAAM,CAAC;qCAEyB,0BAAW;GAD1C,cAAc,CAkB1B"}

================================================================================
File: dist\role\role.entity.d.ts
Size: 64 B
================================================================================

export declare class Role {
    id: number;
    name: string;
}


================================================================================
File: dist\role\role.entity.js
Size: 1.31 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Role = void 0;
const typeorm_1 = require("typeorm");
let Role = class Role {
    id;
    name;
};
exports.Role = Role;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Role.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], Role.prototype, "name", void 0);
exports.Role = Role = __decorate([
    (0, typeorm_1.Entity)()
], Role);
//# sourceMappingURL=role.entity.js.map

================================================================================
File: dist\role\role.entity.js.map
Size: 342 B
================================================================================

{"version":3,"file":"role.entity.js","sourceRoot":"","sources":["../../src/role/role.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qCAAiE;AAG1D,IAAM,IAAI,GAAV,MAAM,IAAI;IAEf,EAAE,CAAS;IAGX,IAAI,CAAS;CACd,CAAA;AANY,oBAAI;AAEf;IADC,IAAA,gCAAsB,GAAE;;gCACd;AAGX;IADC,IAAA,gBAAM,GAAE;;kCACI;eALF,IAAI;IADhB,IAAA,gBAAM,GAAE;GACI,IAAI,CAMhB"}

================================================================================
File: dist\role\role.module.d.ts
Size: 36 B
================================================================================

export declare class RoleModule {
}


================================================================================
File: dist\role\role.module.js
Size: 1.36 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.RoleModule = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const role_entity_1 = require("./role.entity");
const role_service_1 = require("./role.service");
const role_controller_1 = require("./role.controller");
let RoleModule = class RoleModule {
};
exports.RoleModule = RoleModule;
exports.RoleModule = RoleModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([role_entity_1.Role])],
        controllers: [role_controller_1.RoleController],
        providers: [role_service_1.RoleService],
        exports: [role_service_1.RoleService],
    })
], RoleModule);
//# sourceMappingURL=role.module.js.map

================================================================================
File: dist\role\role.module.js.map
Size: 468 B
================================================================================

{"version":3,"file":"role.module.js","sourceRoot":"","sources":["../../src/role/role.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,6CAAgD;AAChD,+CAAqC;AACrC,iDAA6C;AAC7C,uDAAmD;AAQ5C,IAAM,UAAU,GAAhB,MAAM,UAAU;CAAG,CAAA;AAAb,gCAAU;qBAAV,UAAU;IANtB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,kBAAI,CAAC,CAAC,CAAC;QAC3C,WAAW,EAAE,CAAC,gCAAc,CAAC;QAC7B,SAAS,EAAE,CAAC,0BAAW,CAAC;QACxB,OAAO,EAAE,CAAC,0BAAW,CAAC;KACvB,CAAC;GACW,UAAU,CAAG"}

================================================================================
File: dist\role\role.service.d.ts
Size: 284 B
================================================================================

import { Repository } from 'typeorm';
import { Role } from './role.entity';
export declare class RoleService {
    private readonly roleRepository;
    constructor(roleRepository: Repository<Role>);
    saveRole(roleName: string): Promise<Role>;
    getAllRoles(): Promise<Role[]>;
}


================================================================================
File: dist\role\role.service.js
Size: 1.87 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.RoleService = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const typeorm_2 = require("typeorm");
const role_entity_1 = require("./role.entity");
let RoleService = class RoleService {
    roleRepository;
    constructor(roleRepository) {
        this.roleRepository = roleRepository;
    }
    async saveRole(roleName) {
        const role = this.roleRepository.create({ name: roleName });
        return await this.roleRepository.save(role);
    }
    async getAllRoles() {
        return await this.roleRepository.find();
    }
};
exports.RoleService = RoleService;
exports.RoleService = RoleService = __decorate([
    (0, common_1.Injectable)(),
    __param(0, (0, typeorm_1.InjectRepository)(role_entity_1.Role)),
    __metadata("design:paramtypes", [typeorm_2.Repository])
], RoleService);
//# sourceMappingURL=role.service.js.map

================================================================================
File: dist\role\role.service.js.map
Size: 679 B
================================================================================

{"version":3,"file":"role.service.js","sourceRoot":"","sources":["../../src/role/role.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAA4C;AAC5C,6CAAmD;AACnD,qCAAqC;AACrC,+CAAqC;AAG9B,IAAM,WAAW,GAAjB,MAAM,WAAW;IAGH;IAFnB,YAEmB,cAAgC;QAAhC,mBAAc,GAAd,cAAc,CAAkB;IAChD,CAAC;IAEJ,KAAK,CAAC,QAAQ,CAAC,QAAgB;QAC7B,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;QAC5D,OAAO,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,WAAW;QACf,OAAO,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;IAC1C,CAAC;CACF,CAAA;AAdY,kCAAW;sBAAX,WAAW;IADvB,IAAA,mBAAU,GAAE;IAGR,WAAA,IAAA,0BAAgB,EAAC,kBAAI,CAAC,CAAA;qCACU,oBAAU;GAHlC,WAAW,CAcvB"}

================================================================================
File: dist\sitter\dto\create-sitter.dto.d.ts
Size: 324 B
================================================================================

export declare class CreateSitterDto {
    bio?: string;
    experience?: string;
    photo_gallery?: string;
    available_dates?: string[];
    address?: string;
    phoneNumber?: string;
    houseType?: string;
    hasGarden?: boolean;
    hasOtherPets?: boolean;
    idDocumentUrl?: string;
    ratePerNight?: number;
}


================================================================================
File: dist\sitter\dto\create-sitter.dto.js
Size: 3.27 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CreateSitterDto = void 0;
const class_validator_1 = require("class-validator");
class CreateSitterDto {
    bio;
    experience;
    photo_gallery;
    available_dates;
    address;
    phoneNumber;
    houseType;
    hasGarden;
    hasOtherPets;
    idDocumentUrl;
    ratePerNight;
}
exports.CreateSitterDto = CreateSitterDto;
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateSitterDto.prototype, "bio", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateSitterDto.prototype, "experience", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateSitterDto.prototype, "photo_gallery", void 0);
__decorate([
    (0, class_validator_1.IsArray)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Array)
], CreateSitterDto.prototype, "available_dates", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateSitterDto.prototype, "address", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateSitterDto.prototype, "phoneNumber", void 0);
__decorate([
    (0, class_validator_1.IsString)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateSitterDto.prototype, "houseType", void 0);
__decorate([
    (0, class_validator_1.IsBoolean)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Boolean)
], CreateSitterDto.prototype, "hasGarden", void 0);
__decorate([
    (0, class_validator_1.IsBoolean)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Boolean)
], CreateSitterDto.prototype, "hasOtherPets", void 0);
__decorate([
    (0, class_validator_1.IsUrl)(),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateSitterDto.prototype, "idDocumentUrl", void 0);
__decorate([
    (0, class_validator_1.IsNumber)(),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.Min)(0),
    __metadata("design:type", Number)
], CreateSitterDto.prototype, "ratePerNight", void 0);
//# sourceMappingURL=create-sitter.dto.js.map

================================================================================
File: dist\sitter\dto\create-sitter.dto.js.map
Size: 1.01 kB
================================================================================

{"version":3,"file":"create-sitter.dto.js","sourceRoot":"","sources":["../../../src/sitter/dto/create-sitter.dto.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qDAQyB;AAEzB,MAAa,eAAe;IAG1B,GAAG,CAAU;IAIb,UAAU,CAAU;IAIpB,aAAa,CAAU;IAIvB,eAAe,CAAY;IAI3B,OAAO,CAAU;IAIjB,WAAW,CAAU;IAIrB,SAAS,CAAU;IAInB,SAAS,CAAW;IAIpB,YAAY,CAAW;IAIvB,aAAa,CAAU;IAKvB,YAAY,CAAU;CACvB;AA7CD,0CA6CC;AA1CC;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;4CACA;AAIb;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;mDACO;AAIpB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;sDACU;AAIvB;IAFC,IAAA,yBAAO,GAAE;IACT,IAAA,4BAAU,GAAE;;wDACc;AAI3B;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;gDACI;AAIjB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;oDACQ;AAIrB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;kDACM;AAInB;IAFC,IAAA,2BAAS,GAAE;IACX,IAAA,4BAAU,GAAE;;kDACO;AAIpB;IAFC,IAAA,2BAAS,GAAE;IACX,IAAA,4BAAU,GAAE;;qDACU;AAIvB;IAFC,IAAA,uBAAK,GAAE;IACP,IAAA,4BAAU,GAAE;;sDACU;AAKvB;IAHC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;IACZ,IAAA,qBAAG,EAAC,CAAC,CAAC;;qDACe"}

================================================================================
File: dist\sitter\dto\update-sitter.dto.d.ts
Size: 241 B
================================================================================

import { CreateSitterDto } from './create-sitter.dto';
declare const UpdateSitterDto_base: import("@nestjs/mapped-types").MappedType<Partial<CreateSitterDto>>;
export declare class UpdateSitterDto extends UpdateSitterDto_base {
}
export {};


================================================================================
File: dist\sitter\dto\update-sitter.dto.js
Size: 418 B
================================================================================

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UpdateSitterDto = void 0;
const mapped_types_1 = require("@nestjs/mapped-types");
const create_sitter_dto_1 = require("./create-sitter.dto");
class UpdateSitterDto extends (0, mapped_types_1.PartialType)(create_sitter_dto_1.CreateSitterDto) {
}
exports.UpdateSitterDto = UpdateSitterDto;
//# sourceMappingURL=update-sitter.dto.js.map

================================================================================
File: dist\sitter\dto\update-sitter.dto.js.map
Size: 237 B
================================================================================

{"version":3,"file":"update-sitter.dto.js","sourceRoot":"","sources":["../../../src/sitter/dto/update-sitter.dto.ts"],"names":[],"mappings":";;;AAAA,uDAAmD;AACnD,2DAAsD;AAEtD,MAAa,eAAgB,SAAQ,IAAA,0BAAW,EAAC,mCAAe,CAAC;CAAG;AAApE,0CAAoE"}

================================================================================
File: dist\sitter\sitter.controller.d.ts
Size: 861 B
================================================================================

import { SitterService } from './sitter.service';
import { CreateSitterDto } from './dto/create-sitter.dto';
import { UpdateSitterDto } from './dto/update-sitter.dto';
export declare class SitterController {
    private readonly sitterService;
    constructor(sitterService: SitterService);
    create(createSitterDto: CreateSitterDto, req: any): Promise<import("./sitter.entity").Sitter>;
    findAll(minRating?: number): Promise<import("./sitter.entity").Sitter[]>;
    searchByAvailability(date: string): Promise<import("./sitter.entity").Sitter[]>;
    getMyProfile(req: any): Promise<import("./sitter.entity").Sitter | null>;
    findOne(id: number): Promise<import("./sitter.entity").Sitter>;
    update(id: number, updateSitterDto: UpdateSitterDto, req: any): Promise<import("./sitter.entity").Sitter>;
    remove(id: number, req: any): Promise<void>;
}


================================================================================
File: dist\sitter\sitter.controller.js
Size: 5.1 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.SitterController = void 0;
const common_1 = require("@nestjs/common");
const sitter_service_1 = require("./sitter.service");
const create_sitter_dto_1 = require("./dto/create-sitter.dto");
const update_sitter_dto_1 = require("./dto/update-sitter.dto");
const jwt_auth_guard_1 = require("../auth/guards/jwt-auth.guard");
let SitterController = class SitterController {
    sitterService;
    constructor(sitterService) {
        this.sitterService = sitterService;
    }
    async create(createSitterDto, req) {
        return await this.sitterService.create(createSitterDto, req.user.id);
    }
    async findAll(minRating) {
        return await this.sitterService.findAll(minRating);
    }
    async searchByAvailability(date) {
        return await this.sitterService.searchByAvailability(date);
    }
    async getMyProfile(req) {
        return await this.sitterService.findByUserId(req.user.id);
    }
    async findOne(id) {
        return await this.sitterService.findOne(id);
    }
    async update(id, updateSitterDto, req) {
        return await this.sitterService.update(id, updateSitterDto, req.user.id);
    }
    async remove(id, req) {
        await this.sitterService.remove(id, req.user.id);
    }
};
exports.SitterController = SitterController;
__decorate([
    (0, common_1.Post)('setup'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard),
    (0, common_1.HttpCode)(common_1.HttpStatus.CREATED),
    __param(0, (0, common_1.Body)()),
    __param(1, (0, common_1.Request)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [create_sitter_dto_1.CreateSitterDto, Object]),
    __metadata("design:returntype", Promise)
], SitterController.prototype, "create", null);
__decorate([
    (0, common_1.Get)(),
    __param(0, (0, common_1.Query)('minRating', common_1.ParseFloatPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Number]),
    __metadata("design:returntype", Promise)
], SitterController.prototype, "findAll", null);
__decorate([
    (0, common_1.Get)('search'),
    __param(0, (0, common_1.Query)('date')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], SitterController.prototype, "searchByAvailability", null);
__decorate([
    (0, common_1.Get)('my-profile'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard),
    __param(0, (0, common_1.Request)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", Promise)
], SitterController.prototype, "getMyProfile", null);
__decorate([
    (0, common_1.Get)(':id'),
    __param(0, (0, common_1.Param)('id', common_1.ParseIntPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Number]),
    __metadata("design:returntype", Promise)
], SitterController.prototype, "findOne", null);
__decorate([
    (0, common_1.Patch)(':id'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard),
    __param(0, (0, common_1.Param)('id', common_1.ParseIntPipe)),
    __param(1, (0, common_1.Body)()),
    __param(2, (0, common_1.Request)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Number, update_sitter_dto_1.UpdateSitterDto, Object]),
    __metadata("design:returntype", Promise)
], SitterController.prototype, "update", null);
__decorate([
    (0, common_1.Delete)(':id'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard),
    (0, common_1.HttpCode)(common_1.HttpStatus.NO_CONTENT),
    __param(0, (0, common_1.Param)('id', common_1.ParseIntPipe)),
    __param(1, (0, common_1.Request)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Number, Object]),
    __metadata("design:returntype", Promise)
], SitterController.prototype, "remove", null);
exports.SitterController = SitterController = __decorate([
    (0, common_1.Controller)('sitters'),
    __metadata("design:paramtypes", [sitter_service_1.SitterService])
], SitterController);
//# sourceMappingURL=sitter.controller.js.map

================================================================================
File: dist\sitter\sitter.controller.js.map
Size: 2.31 kB
================================================================================

{"version":3,"file":"sitter.controller.js","sourceRoot":"","sources":["../../src/sitter/sitter.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAewB;AACxB,qDAAiD;AACjD,+DAA0D;AAC1D,+DAA0D;AAC1D,kEAA6D;AAGtD,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IACE;IAA7B,YAA6B,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;IAAG,CAAC;IAKvD,AAAN,KAAK,CAAC,MAAM,CAAS,eAAgC,EAAa,GAAG;QACnE,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,eAAe,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACvE,CAAC;IAGK,AAAN,KAAK,CAAC,OAAO,CAAqC,SAAkB;QAClE,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACrD,CAAC;IAGK,AAAN,KAAK,CAAC,oBAAoB,CAAgB,IAAY;QACpD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;IAC7D,CAAC;IAIK,AAAN,KAAK,CAAC,YAAY,CAAY,GAAG;QAC/B,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC5D,CAAC;IAGK,AAAN,KAAK,CAAC,OAAO,CAA4B,EAAU;QACjD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAC9C,CAAC;IAIK,AAAN,KAAK,CAAC,MAAM,CACiB,EAAU,EAC7B,eAAgC,EAC7B,GAAG;QAEd,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,EAAE,eAAe,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC3E,CAAC;IAKK,AAAN,KAAK,CAAC,MAAM,CAA4B,EAAU,EAAa,GAAG;QAChE,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACnD,CAAC;CACF,CAAA;AA/CY,4CAAgB;AAMrB;IAHL,IAAA,aAAI,EAAC,OAAO,CAAC;IACb,IAAA,kBAAS,EAAC,6BAAY,CAAC;IACvB,IAAA,iBAAQ,EAAC,mBAAU,CAAC,OAAO,CAAC;IACf,WAAA,IAAA,aAAI,GAAE,CAAA;IAAoC,WAAA,IAAA,gBAAO,GAAE,CAAA;;qCAA3B,mCAAe;;8CAEpD;AAGK;IADL,IAAA,YAAG,GAAE;IACS,WAAA,IAAA,cAAK,EAAC,WAAW,EAAE,uBAAc,CAAC,CAAA;;;;+CAEhD;AAGK;IADL,IAAA,YAAG,EAAC,QAAQ,CAAC;IACc,WAAA,IAAA,cAAK,EAAC,MAAM,CAAC,CAAA;;;;4DAExC;AAIK;IAFL,IAAA,YAAG,EAAC,YAAY,CAAC;IACjB,IAAA,kBAAS,EAAC,6BAAY,CAAC;IACJ,WAAA,IAAA,gBAAO,GAAE,CAAA;;;;oDAE5B;AAGK;IADL,IAAA,YAAG,EAAC,KAAK,CAAC;IACI,WAAA,IAAA,cAAK,EAAC,IAAI,EAAE,qBAAY,CAAC,CAAA;;;;+CAEvC;AAIK;IAFL,IAAA,cAAK,EAAC,KAAK,CAAC;IACZ,IAAA,kBAAS,EAAC,6BAAY,CAAC;IAErB,WAAA,IAAA,cAAK,EAAC,IAAI,EAAE,qBAAY,CAAC,CAAA;IACzB,WAAA,IAAA,aAAI,GAAE,CAAA;IACN,WAAA,IAAA,gBAAO,GAAE,CAAA;;6CADe,mCAAe;;8CAIzC;AAKK;IAHL,IAAA,eAAM,EAAC,KAAK,CAAC;IACb,IAAA,kBAAS,EAAC,6BAAY,CAAC;IACvB,IAAA,iBAAQ,EAAC,mBAAU,CAAC,UAAU,CAAC;IAClB,WAAA,IAAA,cAAK,EAAC,IAAI,EAAE,qBAAY,CAAC,CAAA;IAAc,WAAA,IAAA,gBAAO,GAAE,CAAA;;;;8CAE7D;2BA9CU,gBAAgB;IAD5B,IAAA,mBAAU,EAAC,SAAS,CAAC;qCAEwB,8BAAa;GAD9C,gBAAgB,CA+C5B"}

================================================================================
File: dist\sitter\sitter.entity.d.ts
Size: 780 B
================================================================================

import { User } from '../user/user.entity';
import { Booking } from '../booking/booking.entity';
import { Review } from '../review/review.entity';
export declare enum SitterStatus {
    PENDING = "pending",
    APPROVED = "approved",
    REJECTED = "rejected"
}
export declare class Sitter {
    id: number;
    bio: string;
    experience: string;
    photo_gallery: string;
    rating: number;
    reviews_count: number;
    available_dates: string[];
    address: string;
    houseType: string;
    hasGarden: boolean;
    hasOtherPets: boolean;
    idDocumentUrl: string;
    ratePerNight: number;
    status: SitterStatus;
    userId: number;
    user: User;
    bookings: Booking[];
    reviews: Review[];
    created_at: Date;
    updated_at: Date;
    deleted_at: Date;
}


================================================================================
File: dist\sitter\sitter.entity.js
Size: 5.32 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Sitter = exports.SitterStatus = void 0;
const typeorm_1 = require("typeorm");
const user_entity_1 = require("../user/user.entity");
const booking_entity_1 = require("../booking/booking.entity");
const review_entity_1 = require("../review/review.entity");
var SitterStatus;
(function (SitterStatus) {
    SitterStatus["PENDING"] = "pending";
    SitterStatus["APPROVED"] = "approved";
    SitterStatus["REJECTED"] = "rejected";
})(SitterStatus || (exports.SitterStatus = SitterStatus = {}));
let Sitter = class Sitter {
    id;
    bio;
    experience;
    photo_gallery;
    rating;
    reviews_count;
    available_dates;
    address;
    houseType;
    hasGarden;
    hasOtherPets;
    idDocumentUrl;
    ratePerNight;
    status;
    userId;
    user;
    bookings;
    reviews;
    created_at;
    updated_at;
    deleted_at;
};
exports.Sitter = Sitter;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], Sitter.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text', nullable: true }),
    __metadata("design:type", String)
], Sitter.prototype, "bio", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text', nullable: true }),
    __metadata("design:type", String)
], Sitter.prototype, "experience", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text', nullable: true }),
    __metadata("design:type", String)
], Sitter.prototype, "photo_gallery", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'double precision', default: 0 }),
    __metadata("design:type", Number)
], Sitter.prototype, "rating", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'int', default: 0 }),
    __metadata("design:type", Number)
], Sitter.prototype, "reviews_count", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'simple-array', nullable: true }),
    __metadata("design:type", Array)
], Sitter.prototype, "available_dates", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], Sitter.prototype, "address", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], Sitter.prototype, "houseType", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'boolean', default: false }),
    __metadata("design:type", Boolean)
], Sitter.prototype, "hasGarden", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'boolean', default: false }),
    __metadata("design:type", Boolean)
], Sitter.prototype, "hasOtherPets", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], Sitter.prototype, "idDocumentUrl", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'decimal', precision: 10, scale: 2, nullable: true }),
    __metadata("design:type", Number)
], Sitter.prototype, "ratePerNight", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: SitterStatus,
        default: SitterStatus.PENDING,
        nullable: true,
    }),
    __metadata("design:type", String)
], Sitter.prototype, "status", void 0);
__decorate([
    (0, typeorm_1.Column)({ unique: true, nullable: true }),
    __metadata("design:type", Number)
], Sitter.prototype, "userId", void 0);
__decorate([
    (0, typeorm_1.OneToOne)(() => user_entity_1.User, (user) => user.sitterProfile, { nullable: true }),
    (0, typeorm_1.JoinColumn)({ name: 'userId' }),
    __metadata("design:type", user_entity_1.User)
], Sitter.prototype, "user", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => booking_entity_1.Booking, (booking) => booking.sitter),
    __metadata("design:type", Array)
], Sitter.prototype, "bookings", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => review_entity_1.Review, (review) => review.sitter),
    __metadata("design:type", Array)
], Sitter.prototype, "reviews", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], Sitter.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], Sitter.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.DeleteDateColumn)({
        type: 'timestamp',
        nullable: true,
        name: 'deleted_at'
    }),
    __metadata("design:type", Date)
], Sitter.prototype, "deleted_at", void 0);
exports.Sitter = Sitter = __decorate([
    (0, typeorm_1.Entity)('sitters')
], Sitter);
//# sourceMappingURL=sitter.entity.js.map

================================================================================
File: dist\sitter\sitter.entity.js.map
Size: 2.63 kB
================================================================================

{"version":3,"file":"sitter.entity.js","sourceRoot":"","sources":["../../src/sitter/sitter.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qCAUiB;AACjB,qDAA2C;AAC3C,8DAAoD;AACpD,2DAAiD;AAIjD,IAAY,YAIX;AAJD,WAAY,YAAY;IACpB,mCAAmB,CAAA;IACnB,qCAAqB,CAAA;IACrB,qCAAqB,CAAA;AACzB,CAAC,EAJW,YAAY,4BAAZ,YAAY,QAIvB;AAGM,IAAM,MAAM,GAAZ,MAAM,MAAM;IAEf,EAAE,CAAS;IAGX,GAAG,CAAS;IAGZ,UAAU,CAAS;IAGnB,aAAa,CAAS;IAGtB,MAAM,CAAS;IAGf,aAAa,CAAS;IAGtB,eAAe,CAAW;IAI1B,OAAO,CAAS;IAGhB,SAAS,CAAS;IAGlB,SAAS,CAAU;IAGnB,YAAY,CAAU;IAGtB,aAAa,CAAS;IAGtB,YAAY,CAAS;IAQrB,MAAM,CAAe;IAGrB,MAAM,CAAS;IAIf,IAAI,CAAO;IAGX,QAAQ,CAAY;IAGpB,OAAO,CAAW;IAGlB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAOjB,UAAU,CAAO;CACpB,CAAA;AA1EY,wBAAM;AAEf;IADC,IAAA,gCAAsB,GAAE;;kCACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;mCAC7B;AAGZ;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CACtB;AAGnB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACnB;AAGtB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;sCAClC;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;6CACd;AAGtB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;+CACvB;AAI1B;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACX;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yCACT;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;yCACzB;AAGnB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;4CACtB;AAGtB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACL;AAGtB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CAChD;AAQrB;IANC,IAAA,gBAAM,EAAC;QACJ,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,YAAY;QAClB,OAAO,EAAE,YAAY,CAAC,OAAO;QAC7B,QAAQ,EAAE,IAAI;KACjB,CAAC;;sCACmB;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCAC1B;AAIf;IAFC,IAAA,kBAAQ,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACtE,IAAA,oBAAU,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;8BACzB,kBAAI;oCAAC;AAGX;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,wBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC;;wCAClC;AAGpB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,sBAAM,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;;uCACjC;AAGlB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;0CAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;0CAAC;AAOjB;IALC,IAAA,0BAAgB,EAAC;QACd,IAAI,EAAE,WAAW;QACjB,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,YAAY;KACrB,CAAC;8BACU,IAAI;0CAAC;iBAzER,MAAM;IADlB,IAAA,gBAAM,EAAC,SAAS,CAAC;GACL,MAAM,CA0ElB"}

================================================================================
File: dist\sitter\sitter.module.d.ts
Size: 38 B
================================================================================

export declare class SitterModule {
}


================================================================================
File: dist\sitter\sitter.module.js
Size: 1.69 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.SitterModule = void 0;
const common_1 = require("@nestjs/common");
const sitter_service_1 = require("./sitter.service");
const typeorm_1 = require("@nestjs/typeorm");
const sitter_entity_1 = require("./sitter.entity");
const sitter_controller_1 = require("./sitter.controller");
const user_module_1 = require("../user/user.module");
const auth_module_1 = require("../auth/auth.module");
const user_entity_1 = require("../user/user.entity");
let SitterModule = class SitterModule {
};
exports.SitterModule = SitterModule;
exports.SitterModule = SitterModule = __decorate([
    (0, common_1.Module)({
        imports: [
            typeorm_1.TypeOrmModule.forFeature([sitter_entity_1.Sitter, user_entity_1.User]),
            user_module_1.UserModule,
            auth_module_1.AuthModule,
        ],
        controllers: [sitter_controller_1.SitterController],
        providers: [sitter_service_1.SitterService],
        exports: [sitter_service_1.SitterService],
    })
], SitterModule);
//# sourceMappingURL=sitter.module.js.map

================================================================================
File: dist\sitter\sitter.module.js.map
Size: 547 B
================================================================================

{"version":3,"file":"sitter.module.js","sourceRoot":"","sources":["../../src/sitter/sitter.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,qDAAiD;AACjD,6CAAgD;AAChD,mDAAyC;AACzC,2DAAuD;AACvD,qDAAkD;AAClD,qDAAkD;AAClD,qDAA4C;AAYrC,IAAM,YAAY,GAAlB,MAAM,YAAY;CAAG,CAAA;AAAf,oCAAY;uBAAZ,YAAY;IAVxB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE;YACP,uBAAa,CAAC,UAAU,CAAC,CAAC,sBAAM,EAAE,kBAAI,CAAC,CAAC;YACxC,wBAAU;YACV,wBAAU;SACX;QACD,WAAW,EAAE,CAAC,oCAAgB,CAAC;QAC/B,SAAS,EAAE,CAAC,8BAAa,CAAC;QAC1B,OAAO,EAAE,CAAC,8BAAa,CAAC;KACzB,CAAC;GACW,YAAY,CAAG"}

================================================================================
File: dist\sitter\sitter.service.d.ts
Size: 1.03 kB
================================================================================

import { Repository } from 'typeorm';
import { Sitter } from './sitter.entity';
import { CreateSitterDto } from './dto/create-sitter.dto';
import { UpdateSitterDto } from './dto/update-sitter.dto';
import { User } from '../user/user.entity';
import { UserService } from '../user/user.service';
export declare class SitterService {
    private readonly sitterRepository;
    private readonly userService;
    private userRepository;
    constructor(sitterRepository: Repository<Sitter>, userService: UserService, userRepository: Repository<User>);
    create(createSitterDto: CreateSitterDto, userId: number): Promise<Sitter>;
    findAll(minRating?: number): Promise<Sitter[]>;
    findOne(id: number): Promise<Sitter>;
    findByUserId(userId: number): Promise<Sitter | null>;
    update(id: number, updateSitterDto: UpdateSitterDto, userId: number): Promise<Sitter>;
    remove(id: number, userId: number): Promise<void>;
    updateRating(id: number): Promise<Sitter>;
    searchByAvailability(date: string): Promise<Sitter[]>;
}


================================================================================
File: dist\sitter\sitter.service.js
Size: 5.93 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.SitterService = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const typeorm_2 = require("typeorm");
const sitter_entity_1 = require("./sitter.entity");
const user_entity_1 = require("../user/user.entity");
const user_service_1 = require("../user/user.service");
let SitterService = class SitterService {
    sitterRepository;
    userService;
    userRepository;
    constructor(sitterRepository, userService, userRepository) {
        this.sitterRepository = sitterRepository;
        this.userService = userService;
        this.userRepository = userRepository;
    }
    async create(createSitterDto, userId) {
        const user = await this.userRepository.findOne({ where: { id: userId } });
        if (!user) {
            throw new common_1.NotFoundException('User not found');
        }
        if (user.role === 'sitter') {
            throw new common_1.ConflictException('User already has a sitter profile');
        }
        Object.assign(user, createSitterDto);
        user.role = 'sitter';
        await this.userRepository.save(user);
        user.role = 'sitter';
        await this.userRepository.save(user);
        const savedSitter = await this.sitterRepository.findOne({
            where: { userId },
            relations: ['user']
        });
        if (!savedSitter) {
            throw new common_1.NotFoundException('Failed to retrieve Sitter profile after creation');
        }
        return savedSitter;
    }
    async findAll(minRating) {
        const query = this.sitterRepository
            .createQueryBuilder('sitter')
            .leftJoinAndSelect('sitter.user', 'user')
            .where('sitter.deleted_at IS NULL')
            .orderBy('sitter.rating', 'DESC');
        if (minRating) {
            query.where('sitter.rating >= :minRating', { minRating });
        }
        return await query.getMany();
    }
    async findOne(id) {
        const sitter = await this.sitterRepository.findOne({
            where: { id },
            withDeleted: false,
            relations: ['user', 'reviews', 'bookings'],
        });
        if (!sitter) {
            throw new common_1.NotFoundException(`Sitter with ID ${id} not found`);
        }
        return sitter;
    }
    async findByUserId(userId) {
        return await this.sitterRepository.findOne({
            where: { userId, deleted_at: (0, typeorm_2.IsNull)() },
            relations: ['user'],
        });
    }
    async update(id, updateSitterDto, userId) {
        const sitter = await this.findOne(id);
        if (sitter.userId !== userId) {
            throw new common_1.ForbiddenException('You can only update your own sitter profile');
        }
        Object.assign(sitter, updateSitterDto);
        await this.sitterRepository.save(sitter);
        const freshSitter = await this.sitterRepository.findOne({
            where: { id },
            relations: ['user', 'reviews', 'bookings'],
        });
        if (!freshSitter) {
            throw new common_1.NotFoundException(`Sitter profile with ID ${id} not found after update.`);
        }
        return freshSitter;
    }
    async remove(id, userId) {
        const sitter = await this.findOne(id);
        if (sitter.userId !== userId) {
            throw new common_1.ForbiddenException('You can only delete your own sitter profile');
        }
        await this.sitterRepository.remove(sitter);
    }
    async updateRating(id) {
        const sitter = await this.sitterRepository.findOne({
            where: { id },
            relations: ['reviews'],
        });
        if (!sitter) {
            throw new common_1.NotFoundException(`Sitter with ID ${id} not found`);
        }
        if (sitter.reviews && sitter.reviews.length > 0) {
            const totalRating = sitter.reviews.reduce((sum, review) => sum + review.rating, 0);
            sitter.rating = totalRating / sitter.reviews.length;
            sitter.reviews_count = sitter.reviews.length;
        }
        else {
            sitter.rating = 0;
            sitter.reviews_count = 0;
        }
        return await this.sitterRepository.save(sitter);
    }
    async searchByAvailability(date) {
        return await this.sitterRepository
            .createQueryBuilder('sitter')
            .leftJoinAndSelect('sitter.user', 'user')
            .where(':date = ANY(sitter.available_dates)', { date })
            .orderBy('sitter.rating', 'DESC')
            .getMany();
    }
};
exports.SitterService = SitterService;
exports.SitterService = SitterService = __decorate([
    (0, common_1.Injectable)(),
    __param(0, (0, typeorm_1.InjectRepository)(sitter_entity_1.Sitter)),
    __param(2, (0, typeorm_1.InjectRepository)(user_entity_1.User)),
    __metadata("design:paramtypes", [typeorm_2.Repository,
        user_service_1.UserService,
        typeorm_2.Repository])
], SitterService);
//# sourceMappingURL=sitter.service.js.map

================================================================================
File: dist\sitter\sitter.service.js.map
Size: 4.2 kB
================================================================================

{"version":3,"file":"sitter.service.js","sourceRoot":"","sources":["../../src/sitter/sitter.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAKwB;AACxB,6CAAmD;AACnD,qCAA6C;AAC7C,mDAAyC;AAGzC,qDAA2C;AAC3C,uDAAmD;AAG5C,IAAM,aAAa,GAAnB,MAAM,aAAa;IAGL;IACA;IAGT;IANV,YAEmB,gBAAoC,EACpC,WAAwB,EAGjC,cAAgC;QAJvB,qBAAgB,GAAhB,gBAAgB,CAAoB;QACpC,gBAAW,GAAX,WAAW,CAAa;QAGjC,mBAAc,GAAd,cAAc,CAAkB;IACvC,CAAC;IAEJ,KAAK,CAAC,MAAM,CAAC,eAAgC,EAAE,MAAc;QAE3D,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;QAE1E,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,gBAAgB,CAAC,CAAC;QAChD,CAAC;QAGD,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE,CAAC;YAC3B,MAAM,IAAI,0BAAiB,CAAC,mCAAmC,CAAC,CAAC;QACnE,CAAC;QAID,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;QACrC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;QAErB,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAGrC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;QACrB,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAGrC,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;YACpD,KAAK,EAAE,EAAE,MAAM,EAAE;YACjB,SAAS,EAAE,CAAC,MAAM,CAAC;SACtB,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,kDAAkD,CAAC,CAAC;QACpF,CAAC;QAED,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,SAAkB;QAC9B,MAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB;aAChC,kBAAkB,CAAC,QAAQ,CAAC;aAC5B,iBAAiB,CAAC,aAAa,EAAE,MAAM,CAAC;aACxC,KAAK,CAAC,2BAA2B,CAAC;aAClC,OAAO,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,SAAS,EAAE,CAAC;YACd,KAAK,CAAC,KAAK,CAAC,6BAA6B,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC;QAC5D,CAAC;QAED,OAAO,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,EAAU;QACtB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;YACjD,KAAK,EAAE,EAAE,EAAE,EAAE;YACb,WAAW,EAAE,KAAK;YAClB,SAAS,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC;SAC3C,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,MAAM,IAAI,0BAAiB,CAAC,kBAAkB,EAAE,YAAY,CAAC,CAAC;QAChE,CAAC;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,MAAc;QAC/B,OAAO,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;YACzC,KAAK,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,IAAA,gBAAM,GAAE,EAAE;YAEvC,SAAS,EAAE,CAAC,MAAM,CAAC;SACpB,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,MAAM,CACV,EAAU,EACV,eAAgC,EAChC,MAAc;QAGd,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAEtC,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC;YAC7B,MAAM,IAAI,2BAAkB,CAAC,6CAA6C,CAAC,CAAC;QAC9E,CAAC;QAGD,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;QAGvC,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAGzC,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;YACpD,KAAK,EAAE,EAAE,EAAE,EAAE;YACb,SAAS,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC;SAC7C,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,0BAA0B,EAAE,0BAA0B,CAAC,CAAC;QACxF,CAAC;QAED,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU,EAAE,MAAc;QACrC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAGtC,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC;YAC7B,MAAM,IAAI,2BAAkB,CAAC,6CAA6C,CAAC,CAAC;QAC9E,CAAC;QAGD,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAU;QAC3B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC;YACjD,KAAK,EAAE,EAAE,EAAE,EAAE;YACb,SAAS,EAAE,CAAC,SAAS,CAAC;SACvB,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,MAAM,IAAI,0BAAiB,CAAC,kBAAkB,EAAE,YAAY,CAAC,CAAC;QAChE,CAAC;QAED,IAAI,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAChD,MAAM,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CACvC,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,EACpC,CAAC,CACF,CAAC;YACF,MAAM,CAAC,MAAM,GAAG,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YACpD,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;QAC/C,CAAC;aAAM,CAAC;YACN,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;YAClB,MAAM,CAAC,aAAa,GAAG,CAAC,CAAC;QAC3B,CAAC;QAED,OAAO,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,IAAY;QACrC,OAAO,MAAM,IAAI,CAAC,gBAAgB;aAC/B,kBAAkB,CAAC,QAAQ,CAAC;aAC5B,iBAAiB,CAAC,aAAa,EAAE,MAAM,CAAC;aACxC,KAAK,CAAC,qCAAqC,EAAE,EAAE,IAAI,EAAE,CAAC;aACtD,OAAO,CAAC,eAAe,EAAE,MAAM,CAAC;aAChC,OAAO,EAAE,CAAC;IACf,CAAC;CACF,CAAA;AA/JY,sCAAa;wBAAb,aAAa;IADzB,IAAA,mBAAU,GAAE;IAGR,WAAA,IAAA,0BAAgB,EAAC,sBAAM,CAAC,CAAA;IAIxB,WAAA,IAAA,0BAAgB,EAAC,kBAAI,CAAC,CAAA;qCAHY,oBAAU;QACf,0BAAW;QAGjB,oBAAU;GAPzB,aAAa,CA+JzB"}

================================================================================
File: dist\user\user.entity.d.ts
Size: 833 B
================================================================================

import { Booking } from 'src/booking/booking.entity';
import { Notification } from 'src/notification/notification.entity';
import { Pet } from 'src/pet/pet.entity';
import { Review } from 'src/review/review.entity';
import { Sitter } from 'src/sitter/sitter.entity';
import { Post } from 'src/posts/posts.entity';
import { Comment } from 'src/comments/comments.entity';
import { Like } from 'src/likes/likes.entity';
export declare class User {
    id: number;
    name: string;
    email: string;
    phone_number: string;
    passwordHash: string;
    role: string;
    profile_picture: string;
    created_at: Date;
    updated_at: Date;
    pets: Pet[];
    sitterProfile: Sitter;
    bookings: Booking[];
    reviews: Review[];
    notifications: Notification[];
    posts: Post[];
    comments: Comment[];
    likes: Like[];
}


================================================================================
File: dist\user\user.entity.js
Size: 4.47 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.User = void 0;
const booking_entity_1 = require("../booking/booking.entity");
const notification_entity_1 = require("../notification/notification.entity");
const pet_entity_1 = require("../pet/pet.entity");
const review_entity_1 = require("../review/review.entity");
const sitter_entity_1 = require("../sitter/sitter.entity");
const posts_entity_1 = require("../posts/posts.entity");
const comments_entity_1 = require("../comments/comments.entity");
const likes_entity_1 = require("../likes/likes.entity");
const typeorm_1 = require("typeorm");
let User = class User {
    id;
    name;
    email;
    phone_number;
    passwordHash;
    role;
    profile_picture;
    created_at;
    updated_at;
    pets;
    sitterProfile;
    bookings;
    reviews;
    notifications;
    posts;
    comments;
    likes;
};
exports.User = User;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)(),
    __metadata("design:type", Number)
], User.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], User.prototype, "name", void 0);
__decorate([
    (0, typeorm_1.Column)({
        unique: true,
        nullable: true,
    }),
    __metadata("design:type", String)
], User.prototype, "email", void 0);
__decorate([
    (0, typeorm_1.Column)({
        unique: true,
        nullable: true,
    }),
    __metadata("design:type", String)
], User.prototype, "phone_number", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], User.prototype, "passwordHash", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: 'user' }),
    __metadata("design:type", String)
], User.prototype, "role", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], User.prototype, "profile_picture", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", Date)
], User.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", Date)
], User.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => pet_entity_1.Pet, (pet) => pet.owner),
    __metadata("design:type", Array)
], User.prototype, "pets", void 0);
__decorate([
    (0, typeorm_1.OneToOne)(() => sitter_entity_1.Sitter, (sitter) => sitter.user),
    __metadata("design:type", sitter_entity_1.Sitter)
], User.prototype, "sitterProfile", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => booking_entity_1.Booking, (booking) => booking.owner),
    __metadata("design:type", Array)
], User.prototype, "bookings", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => review_entity_1.Review, (review) => review.owner),
    __metadata("design:type", Array)
], User.prototype, "reviews", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => notification_entity_1.Notification, (notification) => notification.user),
    __metadata("design:type", Array)
], User.prototype, "notifications", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => posts_entity_1.Post, (post) => post.user),
    __metadata("design:type", Array)
], User.prototype, "posts", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => comments_entity_1.Comment, (comment) => comment.user),
    __metadata("design:type", Array)
], User.prototype, "comments", void 0);
__decorate([
    (0, typeorm_1.OneToMany)(() => likes_entity_1.Like, (like) => like.user),
    __metadata("design:type", Array)
], User.prototype, "likes", void 0);
exports.User = User = __decorate([
    (0, typeorm_1.Entity)('users')
], User);
//# sourceMappingURL=user.entity.js.map

================================================================================
File: dist\user\user.entity.js.map
Size: 1.97 kB
================================================================================

{"version":3,"file":"user.entity.js","sourceRoot":"","sources":["../../src/user/user.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,8DAAqD;AACrD,6EAAoE;AACpE,kDAAyC;AACzC,2DAAkD;AAClD,2DAAkD;AAClD,wDAA8C;AAC9C,iEAAuD;AACvD,wDAA8C;AAC9C,qCAEiB;AAGV,IAAM,IAAI,GAAV,MAAM,IAAI;IAEf,EAAE,CAAS;IAGX,IAAI,CAAS;IAMb,KAAK,CAAS;IAOd,YAAY,CAAS;IAGrB,YAAY,CAAS;IAGrB,IAAI,CAAS;IAGb,eAAe,CAAS;IAGxB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAIjB,IAAI,CAAQ;IAGZ,aAAa,CAAS;IAGtB,QAAQ,CAAY;IAGpB,OAAO,CAAW;IAGlB,aAAa,CAAiB;IAG9B,KAAK,CAAS;IAGd,QAAQ,CAAY;IAGpB,KAAK,CAAS;CACf,CAAA;AA3DY,oBAAI;AAEf;IADC,IAAA,gCAAsB,GAAE;;gCACd;AAGX;IADC,IAAA,gBAAM,GAAE;;kCACI;AAMb;IAJC,IAAA,gBAAM,EAAC;QACN,MAAM,EAAE,IAAI;QACZ,QAAQ,EAAE,IAAI;KACf,CAAC;;mCACY;AAOd;IALC,IAAA,gBAAM,EAAC;QAEN,MAAM,EAAE,IAAI;QACZ,QAAQ,EAAE,IAAI;KACf,CAAC;;0CACmB;AAGrB;IADC,IAAA,gBAAM,GAAE;;0CACY;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;kCACf;AAGb;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACH;AAGxB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;wCAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;wCAAC;AAIjB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,gBAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC;;kCAC7B;AAGZ;IADC,IAAA,kBAAQ,EAAC,GAAG,EAAE,CAAC,sBAAM,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC;8BACjC,sBAAM;2CAAC;AAGtB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,wBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;;sCACjC;AAGpB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,sBAAM,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;qCAChC;AAGlB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kCAAY,EAAE,CAAC,YAAY,EAAE,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC;;2CACrC;AAG9B;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,mBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;;mCAC7B;AAGd;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,yBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;;sCAChC;AAGpB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,mBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;;mCAC7B;eA1DH,IAAI;IADhB,IAAA,gBAAM,EAAC,OAAO,CAAC;GACH,IAAI,CA2DhB"}

================================================================================
File: dist\user\user.module.d.ts
Size: 36 B
================================================================================

export declare class UserModule {
}


================================================================================
File: dist\user\user.module.js
Size: 1.31 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.UserModule = void 0;
const common_1 = require("@nestjs/common");
const user_service_1 = require("./user.service");
const typeorm_1 = require("@nestjs/typeorm");
const user_entity_1 = require("./user.entity");
let UserModule = class UserModule {
};
exports.UserModule = UserModule;
exports.UserModule = UserModule = __decorate([
    (0, common_1.Module)({
        imports: [typeorm_1.TypeOrmModule.forFeature([user_entity_1.User])],
        providers: [user_service_1.UserService],
        exports: [typeorm_1.TypeOrmModule.forFeature([user_entity_1.User]), user_service_1.UserService],
    })
], UserModule);
//# sourceMappingURL=user.module.js.map

================================================================================
File: dist\user\user.module.js.map
Size: 470 B
================================================================================

{"version":3,"file":"user.module.js","sourceRoot":"","sources":["../../src/user/user.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA,2CAAwC;AACxC,iDAA6C;AAC7C,6CAAgD;AAChD,+CAAqC;AAO9B,IAAM,UAAU,GAAhB,MAAM,UAAU;CAAG,CAAA;AAAb,gCAAU;qBAAV,UAAU;IALtB,IAAA,eAAM,EAAC;QACN,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,kBAAI,CAAC,CAAC,CAAC;QAC3C,SAAS,EAAE,CAAC,0BAAW,CAAC;QACxB,OAAO,EAAE,CAAC,uBAAa,CAAC,UAAU,CAAC,CAAC,kBAAI,CAAC,CAAC,EAAE,0BAAW,CAAC;KACzD,CAAC;GACW,UAAU,CAAG"}

================================================================================
File: dist\user\user.service.d.ts
Size: 533 B
================================================================================

import { Repository } from 'typeorm';
import { User } from './user.entity';
export declare class UserService {
    private usersRepository;
    constructor(usersRepository: Repository<User>);
    findByEmail(email: string): Promise<User | null>;
    findByPhone(phone: string): Promise<User | null>;
    findOneByIdentifier(identifier: string): Promise<User | null>;
    create(userData: Partial<User>): Promise<User>;
    findById(id: number): Promise<User | null>;
    updateUserRole(id: number, newRole: string): Promise<User>;
}


================================================================================
File: dist\user\user.service.js
Size: 2.6 kB
================================================================================

"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.UserService = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const typeorm_2 = require("typeorm");
const user_entity_1 = require("./user.entity");
let UserService = class UserService {
    usersRepository;
    constructor(usersRepository) {
        this.usersRepository = usersRepository;
    }
    async findByEmail(email) {
        return this.usersRepository.findOne({ where: { email } });
    }
    async findByPhone(phone) {
        return this.usersRepository.findOne({ where: { phone_number: phone } });
    }
    async findOneByIdentifier(identifier) {
        return this.usersRepository.findOne({
            where: [
                { email: identifier },
                { phone_number: identifier }
            ],
        });
    }
    async create(userData) {
        const newUser = this.usersRepository.create(userData);
        return this.usersRepository.save(newUser);
    }
    async findById(id) {
        return this.usersRepository.findOne({ where: { id } });
    }
    async updateUserRole(id, newRole) {
        const user = await this.findById(id);
        if (!user) {
            throw new common_1.NotFoundException('User not found');
        }
        user.role = newRole;
        return this.usersRepository.save(user);
    }
};
exports.UserService = UserService;
exports.UserService = UserService = __decorate([
    (0, common_1.Injectable)(),
    __param(0, (0, typeorm_1.InjectRepository)(user_entity_1.User)),
    __metadata("design:paramtypes", [typeorm_2.Repository])
], UserService);
//# sourceMappingURL=user.service.js.map

================================================================================
File: dist\user\user.service.js.map
Size: 1.44 kB
================================================================================

{"version":3,"file":"user.service.js","sourceRoot":"","sources":["../../src/user/user.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2CAA+D;AAC/D,6CAAmD;AACnD,qCAAqC;AACrC,+CAAqC;AAK9B,IAAM,WAAW,GAAjB,MAAM,WAAW;IAGZ;IAFV,YAEU,eAAiC;QAAjC,oBAAe,GAAf,eAAe,CAAkB;IACxC,CAAC;IAEJ,KAAK,CAAC,WAAW,CAAC,KAAa;QAC7B,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IAC5D,CAAC;IAMD,KAAK,CAAC,WAAW,CAAC,KAAa;QAC7B,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,YAAY,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IAC1E,CAAC;IAOD,KAAK,CAAC,mBAAmB,CAAC,UAAkB;QAC1C,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC;YAClC,KAAK,EAAE;gBACL,EAAE,KAAK,EAAE,UAAU,EAAE;gBACrB,EAAE,YAAY,EAAE,UAAU,EAAE;aAC7B;SACF,CAAC,CAAC;IACL,CAAC;IAQD,KAAK,CAAC,MAAM,CAAC,QAAuB;QAClC,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACtD,OAAO,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5C,CAAC;IAKD,KAAK,CAAC,QAAQ,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACzD,CAAC;IAKD,KAAK,CAAC,cAAc,CAAC,EAAU,EAAE,OAAe;QAC9C,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACrC,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,gBAAgB,CAAC,CAAC;QAChD,CAAC;QACD,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;QACpB,OAAO,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;CACF,CAAA;AA7DY,kCAAW;sBAAX,WAAW;IADvB,IAAA,mBAAU,GAAE;IAGR,WAAA,IAAA,0BAAgB,EAAC,kBAAI,CAAC,CAAA;qCACE,oBAAU;GAH1B,WAAW,CA6DvB"}

================================================================================
File: eslint.config.mjs
Size: 934 B
================================================================================

// @ts-check
import eslint from '@eslint/js';
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended';
import globals from 'globals';
import tseslint from 'typescript-eslint';

export default tseslint.config(
  {
    ignores: ['eslint.config.mjs'],
  },
  eslint.configs.recommended,
  ...tseslint.configs.recommendedTypeChecked,
  eslintPluginPrettierRecommended,
  {
    languageOptions: {
      globals: {
        ...globals.node,
        ...globals.jest,
      },
      sourceType: 'commonjs',
      parserOptions: {
        projectService: true,
        tsconfigRootDir: import.meta.dirname,
      },
    },
  },
  {
    rules: {
      '@typescript-eslint/no-explicit-any': 'off',
      '@typescript-eslint/no-floating-promises': 'warn',
      '@typescript-eslint/no-unsafe-argument': 'warn',
      "prettier/prettier": ["error", { endOfLine: "auto" }],
    },
  },
);


================================================================================
File: nest-cli.json
Size: 179 B
================================================================================

{
  "$schema": "https://json.schemastore.org/nest-cli",
  "collection": "@nestjs/schematics",
  "sourceRoot": "src",
  "compilerOptions": {
    "deleteOutDir": true
  }
}


================================================================================
File: package.json
Size: 3.16 kB
================================================================================

{
  "name": "pawsure-backend",
  "version": "0.0.1",
  "description": "",
  "author": "",
  "private": true,
  "license": "UNLICENSED",
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "typeorm": "dotenv -- ts-node -r tsconfig-paths/register ./node_modules/typeorm/cli.js -d ./src/data-source.ts",

    "migration:run": "npm run typeorm -- migration:run",
    "migration:generate": "npm run typeorm -- migration:generate ./src/migrations/$npm_config_name",
    "migration:create": "npm run typeorm -- migration:create ./src/migrations/$npm_config_name",

    "test:env": "dotenv -- node -e \"console.log('DB_HOST is:', process.env.DB_HOST)\"",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json"
  },
  "dependencies": {
    "@google-cloud/vision": "^5.3.4",
    "@nestjs/common": "^11.1.8",
    "@nestjs/config": "^4.0.2",
    "@nestjs/core": "^11.1.8",
    "@nestjs/jwt": "^11.0.1",
    "@nestjs/mapped-types": "^2.1.0",
    "@nestjs/passport": "^11.0.5",
    "@nestjs/platform-express": "^11.1.8",
    "@nestjs/typeorm": "^11.0.0",
    "@types/multer": "^2.0.0",
    "@types/supertest": "^6.0.3",
    "bcrypt": "^6.0.0",
    "class-transformer": "^0.5.1",
    "class-validator": "^0.14.2",
    "dotenv": "^17.2.3",
    "dotenv-cli": "^11.0.0",
    "passport": "^0.7.0",
    "passport-jwt": "^4.0.1",
    "pg": "^8.11.3",
    "reflect-metadata": "^0.1.13",
    "rxjs": "^7.8.1",
    "typeorm": "^0.3.17"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3.2.0",
    "@eslint/js": "^9.18.0",
    "@nestjs/cli": "^11.0.0",
    "@nestjs/schematics": "^11.0.0",
    "@nestjs/testing": "^11.0.1",
    "@types/bcrypt": "^6.0.0",
    "@types/express": "^5.0.0",
    "@types/jest": "^30.0.0",
    "@types/node": "^22.19.0",
    "@types/passport-jwt": "^4.0.1",
    "eslint": "^9.18.0",
    "eslint-config-prettier": "^10.0.1",
    "eslint-plugin-prettier": "^5.2.2",
    "globals": "^16.0.0",
    "jest": "^30.0.0",
    "prettier": "^3.4.2",
    "source-map-support": "^0.5.21",
    "supertest": "^7.1.3",
    "ts-jest": "^29.1.1",
    "ts-loader": "^9.5.1",
    "ts-node": "^10.9.2",
    "tsconfig-paths": "^4.2.0",
    "typescript": "^5.3.2",
    "@typescript-eslint/eslint-plugin": "^6.13.2",
    "@typescript-eslint/parser": "^6.13.2"
  },
  "jest": {
    "moduleFileExtensions": [
      "js",
      "json",
      "ts"
    ],
    "rootDir": "src",
    "testRegex": ".*\\.spec\\.ts$",
    "transform": {
      "^.+\\.(t|j)s$": "ts-jest"
    },
    "collectCoverageFrom": [
      "**/*.(t|j)s"
    ],
    "coverageDirectory": "../coverage",
    "testEnvironment": "node"
  }
}


================================================================================
File: README.md
Size: 5.13 kB
================================================================================

<p align="center">
  <a href="http://nestjs.com/" target="blank"><img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" /></a>
</p>

[circleci-image]: https://img.shields.io/circleci/build/github/nestjs/nest/master?token=abc123def456
[circleci-url]: https://circleci.com/gh/nestjs/nest

  <p align="center">A progressive <a href="http://nodejs.org" target="_blank">Node.js</a> framework for building efficient and scalable server-side applications.</p>
    <p align="center">
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/v/@nestjs/core.svg" alt="NPM Version" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/l/@nestjs/core.svg" alt="Package License" /></a>
<a href="https://www.npmjs.com/~nestjscore" target="_blank"><img src="https://img.shields.io/npm/dm/@nestjs/common.svg" alt="NPM Downloads" /></a>
<a href="https://circleci.com/gh/nestjs/nest" target="_blank"><img src="https://img.shields.io/circleci/build/github/nestjs/nest/master" alt="CircleCI" /></a>
<a href="https://discord.gg/G7Qnnhy" target="_blank"><img src="https://img.shields.io/badge/discord-online-brightgreen.svg" alt="Discord"/></a>
<a href="https://opencollective.com/nest#backer" target="_blank"><img src="https://opencollective.com/nest/backers/badge.svg" alt="Backers on Open Collective" /></a>
<a href="https://opencollective.com/nest#sponsor" target="_blank"><img src="https://opencollective.com/nest/sponsors/badge.svg" alt="Sponsors on Open Collective" /></a>
  <a href="https://paypal.me/kamilmysliwiec" target="_blank"><img src="https://img.shields.io/badge/Donate-PayPal-ff3f59.svg" alt="Donate us"/></a>
    <a href="https://opencollective.com/nest#sponsor"  target="_blank"><img src="https://img.shields.io/badge/Support%20us-Open%20Collective-41B883.svg" alt="Support us"></a>
  <a href="https://twitter.com/nestframework" target="_blank"><img src="https://img.shields.io/twitter/follow/nestframework.svg?style=social&label=Follow" alt="Follow us on Twitter"></a>
</p>
  <!--[![Backers on Open Collective](https://opencollective.com/nest/backers/badge.svg)](https://opencollective.com/nest#backer)
  [![Sponsors on Open Collective](https://opencollective.com/nest/sponsors/badge.svg)](https://opencollective.com/nest#sponsor)-->

## Description

[Nest](https://github.com/nestjs/nest) framework TypeScript starter repository.

## Project setup

```bash
$ npm install
```

## Compile and run the project

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Run tests

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```

## Deployment

When you're ready to deploy your NestJS application to production, there are some key steps you can take to ensure it runs as efficiently as possible. Check out the [deployment documentation](https://docs.nestjs.com/deployment) for more information.

If you are looking for a cloud-based platform to deploy your NestJS application, check out [Mau](https://mau.nestjs.com), our official platform for deploying NestJS applications on AWS. Mau makes deployment straightforward and fast, requiring just a few simple steps:

```bash
$ npm install -g @nestjs/mau
$ mau deploy
```

With Mau, you can deploy your application in just a few clicks, allowing you to focus on building features rather than managing infrastructure.

## Resources

Check out a few resources that may come in handy when working with NestJS:

- Visit the [NestJS Documentation](https://docs.nestjs.com) to learn more about the framework.
- For questions and support, please visit our [Discord channel](https://discord.gg/G7Qnnhy).
- To dive deeper and get more hands-on experience, check out our official video [courses](https://courses.nestjs.com/).
- Deploy your application to AWS with the help of [NestJS Mau](https://mau.nestjs.com) in just a few clicks.
- Visualize your application graph and interact with the NestJS application in real-time using [NestJS Devtools](https://devtools.nestjs.com).
- Need help with your project (part-time to full-time)? Check out our official [enterprise support](https://enterprise.nestjs.com).
- To stay in the loop and get updates, follow us on [X](https://x.com/nestframework) and [LinkedIn](https://linkedin.com/company/nestjs).
- Looking for a job, or have a job to offer? Check out our official [Jobs board](https://jobs.nestjs.com).

## Support

Nest is an MIT-licensed open source project. It can grow thanks to the sponsors and support by the amazing backers. If you'd like to join them, please [read more here](https://docs.nestjs.com/support).

## Stay in touch

- Author - [Kamil Myliwiec](https://twitter.com/kammysliwiec)
- Website - [https://nestjs.com](https://nestjs.com/)
- Twitter - [@nestframework](https://twitter.com/nestframework)

## License

Nest is [MIT licensed](https://github.com/nestjs/nest/blob/master/LICENSE).


================================================================================
File: src\activity-log\activity-log.entity.ts
Size: 909 B
================================================================================

// src/activity-log/activity-log.entity.ts
import { Pet } from 'src/pet/pet.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, ManyToOne
} from 'typeorm';

@Entity('activity_logs')
export class ActivityLog {
  @PrimaryGeneratedColumn() // 'INT log_id PK'
  id: number;

  @Column() // 'STRING activity_type'
  activity_type: string;

  @Column({ type: 'float', nullable: true }) // 'FLOAT duration'
  duration: number;

  @Column({ type: 'float', nullable: true }) // 'FLOAT distance'
  distance: number;

  @Column({ type: 'timestamp' }) // 'TIMESTAMP timestamp'
  timestamp: Date;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @ManyToOne(() => Pet, (pet) => pet.activityLogs) // 'INT pet_id FK'
  pet: Pet;
}

================================================================================
File: src\activity-log\activity-log.module.ts
Size: 384 B
================================================================================

import { Module } from '@nestjs/common';
import { ActivityLogService } from './activity-log.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { ActivityLog } from './activity-log.entity';

@Module({
  imports: [TypeOrmModule.forFeature([ActivityLog])],
  providers: [ActivityLogService],
  exports: [ActivityLogService]
})
export class ActivityLogModule {}


================================================================================
File: src\activity-log\activity-log.service.spec.ts
Size: 514 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { ActivityLogService } from './activity-log.service';

describe('ActivityLogService', () => {
  let service: ActivityLogService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [ActivityLogService],
    }).compile();

    service = module.get<ActivityLogService>(ActivityLogService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\activity-log\activity-log.service.ts
Size: 99 B
================================================================================

import { Injectable } from '@nestjs/common';

@Injectable()
export class ActivityLogService {}


================================================================================
File: src\ai\ai.controller.spec.ts
Size: 482 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { AiController } from './ai.controller';

describe('AiController', () => {
  let controller: AiController;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      controllers: [AiController],
    }).compile();

    controller = module.get<AiController>(AiController);
  });

  it('should be defined', () => {
    expect(controller).toBeDefined();
  });
});


================================================================================
File: src\ai\ai.controller.ts
Size: 698 B
================================================================================

import {
  Controller,
  Post,
  UploadedFile,
  UseInterceptors,
} from '@nestjs/common';
import { FileInterceptor } from '@nestjs/platform-express';
import { AiService } from './ai.service';
import type { Express } from 'express'; // <-- FIX IS HERE

@Controller('ai')
export class AiController {
  constructor(private readonly aiService: AiService) {}

  @Post('analyze-photo')
  @UseInterceptors(FileInterceptor('image'))
  async analyzePhoto(@UploadedFile() file: Express.Multer.File) {
    if (!file) {
      // Handle error: no file uploaded
    }
    console.log('File received, sending to AI service...');
    return this.aiService.analyzeImage(file.buffer);
  }
}


================================================================================
File: src\ai\ai.module.ts
Size: 366 B
================================================================================

import { Module } from '@nestjs/common';
import { AiService } from './ai.service';
import { AiController } from './ai.controller';
// import { ConfigModule } from '@nestjs/config'; // <-- No longer needed

@Module({
  // imports: [ConfigModule], // <-- No longer needed
  controllers: [AiController],
  providers: [AiService],
})
export class AiModule {}


================================================================================
File: src\ai\ai.service.spec.ts
Size: 450 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { AiService } from './ai.service';

describe('AiService', () => {
  let service: AiService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [AiService],
    }).compile();

    service = module.get<AiService>(AiService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\ai\ai.service.ts
Size: 1.08 kB
================================================================================

import { Injectable } from '@nestjs/common';
import { ImageAnnotatorClient } from '@google-cloud/vision';
import { join } from 'path'; // <-- 1. IMPORT THIS

@Injectable()
export class AiService {
  private readonly client: ImageAnnotatorClient;

  // 2. INJECT 'ConfigService' HERE
  constructor() {
    // 3. Point directly to your new JSON key file
    this.client = new ImageAnnotatorClient({
      keyFilename: join(process.cwd(), 'google-credentials.json'),
    });
  }

  // ... rest of your service ...
  async analyzeImage(imageBuffer: Buffer) {
    const [result] = await this.client.labelDetection(imageBuffer);
    const labels = result.labelAnnotations;

    console.log('Google Vision API results:');
    console.log(labels);

    const processedResults = (labels || []).map((label) => ({
      description: label.description,
      score: label.score,
    }));

    return {
      analysis_id: `ai_${new Date().getTime()}`,
      results: processedResults,
      suggestion: 'Analysis complete. Further logic needed.',
    };
  }
}


================================================================================
File: src\app.controller.spec.ts
Size: 639 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { AppController } from './app.controller';
import { AppService } from './app.service';

describe('AppController', () => {
  let appController: AppController;

  beforeEach(async () => {
    const app: TestingModule = await Test.createTestingModule({
      controllers: [AppController],
      providers: [AppService],
    }).compile();

    appController = app.get<AppController>(AppController);
  });

  describe('root', () => {
    it('should return "Hello World!"', () => {
      expect(appController.getHello()).toBe('Hello World!');
    });
  });
});


================================================================================
File: src\app.controller.ts
Size: 314 B
================================================================================

// src/app.controller.ts

import { Controller, Get } from '@nestjs/common';
import { AppService } from './app.service';

@Controller()
export class AppController {
  constructor(private readonly appService: AppService) {}

  @Get()
  getHello(): string {
    return this.appService.getHello();
  }
}


================================================================================
File: src\app.module.ts
Size: 2.6 kB
================================================================================

import { Module } from '@nestjs/common';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { ConfigModule, ConfigService } from '@nestjs/config'; // Import ConfigModule and ConfigService
import { TypeOrmModule } from '@nestjs/typeorm'; // Import TypeOrmModule
import { AiModule } from './ai/ai.module'; // Import your existing AI module
import { UserModule } from './user/user.module';
import { PetModule } from './pet/pet.module';
import { SitterModule } from './sitter/sitter.module';
import { BookingModule } from './booking/booking.module';
import { PaymentModule } from './payment/payment.module';
import { ActivityLogModule } from './activity-log/activity-log.module';
import { HealthRecordModule } from './health-record/health-record.module';
import { ReviewModule } from './review/review.module';
import { NotificationModule } from './notification/notification.module';
import { PostsModule } from './posts/posts.module';
import { CommentsModule } from './comments/comments.module';
import { LikesModule } from './likes/likes.module';
import { RoleModule } from './role/role.module';
import { AuthModule } from './auth/auth.module';

@Module({
  imports: [
    ConfigModule.forRoot({ // Configure ConfigModule first
      isGlobal: true,      // Make config available globally
      envFilePath: '.env', // Specify the .env file
    }),
    
    TypeOrmModule.forRootAsync({ // Configure TypeOrm asynchronously
      imports: [ConfigModule],   // Import ConfigModule here
      inject: [ConfigService],   // Inject ConfigService to read env vars
      useFactory: (configService: ConfigService) => ({
        type: 'postgres', // Database type
        url: configService.get<string>('DATABASE_URL'), // Get URL from .env
        autoLoadEntities: true, // Automatically load your table models (Entities)
        synchronize: false, // DEV ONLY: Auto-create/update tables (Disable in production!)
        ssl: { // Required for Supabase/cloud connections
          rejectUnauthorized: false
        }
      }),
    }),
  AiModule, // Include your AI module
  // Add other feature modules here later (e.g., PetsModule, UsersModule)
    UserModule,
    PetModule,
    SitterModule,
    BookingModule,
    PaymentModule,
    ActivityLogModule,
    HealthRecordModule,
    ReviewModule,
    NotificationModule,
    PostsModule,
    CommentsModule,
    LikesModule,
  RoleModule,
  AuthModule,
  ],
  controllers: [AppController],
  providers: [AppService],
})
export class AppModule {}

================================================================================
File: src\app.service.ts
Size: 175 B
================================================================================

// src/app.service.ts

import { Injectable } from '@nestjs/common';

@Injectable()
export class AppService {
  getHello(): string {
    return 'Hello World!';
  }
}


================================================================================
File: src\auth\auth.controller.ts
Size: 922 B
================================================================================

// src/auth/auth.controller.ts

import { Controller, Post, Body, ValidationPipe } from '@nestjs/common';
import { AuthService } from './auth.service';
import { RegisterUserDto } from './dto/register-user.dto';
import { LoginUserDto } from './dto/login-user.dto';

@Controller('auth') // All routes in this file will start with /auth
export class AuthController {
  constructor(private readonly authService: AuthService) {}

  @Post('register') // Creates the POST /auth/register endpoint
  register(@Body(ValidationPipe) registerUserDto: RegisterUserDto) {
    // It takes the request body, validates it using the DTO,
    // and passes it to the authService.register function
    return this.authService.register(registerUserDto);
  }

  @Post('login') // <-- Make sure this is here
  login(@Body(ValidationPipe) loginUserDto: LoginUserDto) {
    return this.authService.login(loginUserDto);
  }
}


================================================================================
File: src\auth\auth.module.ts
Size: 1.26 kB
================================================================================

import { Module } from '@nestjs/common';
import { JwtModule } from '@nestjs/jwt';
import { PassportModule } from '@nestjs/passport';
import { ConfigModule, ConfigService } from '@nestjs/config';
import { AuthService } from './auth.service';
import { AuthController } from './auth.controller';
import { JwtStrategy } from './jwt.strategy';
import { UserModule } from '../user/user.module';
import { JwtSignOptions } from '@nestjs/jwt'; // Import the specific type if needed, but casting often works

@Module({
  imports: [
    UserModule,
    PassportModule,
    // Asynchronous registration of JwtModule to read config values
    JwtModule.registerAsync({
      imports: [ConfigModule],
      inject: [ConfigService],
      useFactory: (configService: ConfigService) => ({
        secret: configService.get<string>('JWT_SECRET') || 'fallback-secret-key-12345',
        signOptions: {
          // RESOLUTION: Cast the string to the correct type (string | number)
          expiresIn: (configService.get<string>('JWT_EXPIRATION') || '1d') as JwtSignOptions['expiresIn'], 
        },
      }),
    }),
  ],
  controllers: [AuthController],
  providers: [AuthService, JwtStrategy],
  exports: [AuthService],
})
export class AuthModule {}

================================================================================
File: src\auth\auth.service.ts
Size: 3.11 kB
================================================================================

import {
  Injectable,
  ConflictException,
  UnauthorizedException,
} from '@nestjs/common';
import { UserService } from 'src/user/user.service';
import { RegisterUserDto } from './dto/register-user.dto';
import { LoginUserDto } from './dto/login-user.dto';
import { JwtService } from '@nestjs/jwt';
import * as bcrypt from 'bcrypt';

@Injectable()
export class AuthService {
  constructor(
    private readonly userService: UserService,
    private readonly jwtService: JwtService,
  ) {}

  // --- REGISTER FUNCTION ---
  async register(registerUserDto: RegisterUserDto) {
    const { email, phone_number, password, name, role } = registerUserDto;

    // --- CHANGED: Conflict Checking ---
    // 1. Check if email is already in use (if provided)
    if (email) {
      const existingUser = await this.userService.findByEmail(email);
      if (existingUser) {
        throw new ConflictException('Email already in use');
      }
    }

    // 2. Check if phone number is in use (if provided)
    // NOTE: This assumes 'findByPhone' exists in UserService
    if (phone_number) {
      const existingUser = await this.userService.findByPhone(phone_number);
      if (existingUser) {
        throw new ConflictException('Phone number already in use');
      }
    }

    const saltRounds = 10;
    const hashedPassword = await bcrypt.hash(password, saltRounds);

    // --- CHANGED: User Creation ---
    // Pass the new phone_number field to your create service
    // NOTE: This assumes 'create' in UserService accepts this
    const newUser = await this.userService.create({
      name: name,
      email: email,
      phone_number: phone_number, // <-- ADDED
      passwordHash: hashedPassword,
      role: role || 'owner', // Default to 'owner' if not provided
    });

    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    const { passwordHash, ...result } = newUser;
    return result;
  }

  // --- LOGIN FUNCTION ---
  async login(loginUserDto: LoginUserDto) {
    // --- CHANGED: Use 'identifier' from DTO ---
    // NOTE: This assumes 'findOneByIdentifier' exists in UserService
    const user = await this.userService.findOneByIdentifier(
      loginUserDto.identifier, // <-- CHANGED from loginUserDto.email
    );

    if (!user) {
      // --- CHANGED: Generic error message ---
      throw new UnauthorizedException('Invalid credentials');
    }

    const isPasswordMatching = await bcrypt.compare(
      loginUserDto.password,
      user.passwordHash,
    );

    if (!isPasswordMatching) {
      // --- CHANGED: Generic error message ---
      throw new UnauthorizedException('Invalid credentials');
    }

    // --- CHANGED: More complete JWT payload ---
    const payload = {
      sub: user.id, // 'sub' (subject) is the standard for user ID
      email: user.email, // Can be null, which is fine
      phone_number: user.phone_number, // Can be null, which is fine
      role: user.role,
    };

    return {
      access_token: this.jwtService.sign(payload),
    };
  }
}


================================================================================
File: src\auth\decorators\get-user.decorator.ts
Size: 347 B
================================================================================

// src/auth/decorators/get-user.decorator.ts

import { createParamDecorator, ExecutionContext } from '@nestjs/common';
import { User } from 'src/user/user.entity';

export const GetUser = createParamDecorator(
  (_data: unknown, ctx: any): User => {
    const request = ctx.switchToHttp().getRequest();
    return request.user;
  },
);


================================================================================
File: src\auth\dto\login-user.dto.ts
Size: 316 B
================================================================================

// src/auth/dto/login-user.dto.ts
import { IsNotEmpty, IsString } from 'class-validator';

export class LoginUserDto {
  @IsString() // <-- It's just a string (could be email or phone)
  @IsNotEmpty()
  identifier: string; // <-- Renamed from 'email'

  @IsString()
  @IsNotEmpty()
  password: string;
}


================================================================================
File: src\auth\dto\register-user.dto.ts
Size: 1.3 kB
================================================================================

// src/auth/dto/register-user.dto.ts

import {
  IsEmail,
  IsNotEmpty,
  IsString,
  MinLength,
  IsOptional, // <-- You were missing this
  ValidateIf, // <-- You were missing this
} from 'class-validator';

export class RegisterUserDto {
  @IsNotEmpty()
  @IsString()
  name: string;

  // --- THIS IS THE CORRECTED EMAIL FIELD ---
  @IsEmail()
  @IsOptional() // 1. It's optional in general
  @ValidateIf((o) => !o.phone_number) // 2. But...
  @IsNotEmpty({ message: 'Email or phone number must be provided.' }) // 3. ...it's NOT empty if phone_number is missing
  email?: string; // Use '?' to mark as optional in TypeScript

  // --- THIS IS THE CORRECTED PHONE FIELD ---
  @IsString()
  @IsOptional() // 1. It's optional in general
  @ValidateIf((o) => !o.email) // 2. But...
  @IsNotEmpty({ message: 'Email or phone number must be provided.' }) // 3. ...it's NOT empty if email is missing
  phone_number?: string; // Use '?' to mark as optional in TypeScript

  // --- YOUR PASSWORD FIELD WAS PERFECT ---
  @IsNotEmpty()
  @IsString()
  @MinLength(8, { message: 'Password must be at least 8 characters long' })
  password: string;

  // --- ROLE FIELD ---
  @IsString()
  @IsOptional()
  role?: string; // Optional, defaults to 'user' in entity
}


================================================================================
File: src\auth\guards\jwt-auth.guard.ts
Size: 805 B
================================================================================

// src/auth/guards/jwt-auth.guard.ts
import { 
  Injectable, 
  ExecutionContext, 
  UnauthorizedException 
} from '@nestjs/common';
import { AuthGuard } from '@nestjs/passport';

@Injectable()
export class JwtAuthGuard extends AuthGuard('jwt') {
  canActivate(context: ExecutionContext) {
    return super.canActivate(context);
  }

  handleRequest(err, user, info, context) {
    // This will show you exactly what's wrong with the JWT
    if (err || !user) {
      console.error('JWT Authentication Failed');
      console.error('Error:', err);
      console.error('Info:', info);
      console.error('User:', user);
      
      throw err || new UnauthorizedException(
        info?.message || 'Invalid or missing authentication token'
      );
    }
    return user;
  }
}

================================================================================
File: src\auth\jwt.strategy.ts
Size: 1.14 kB
================================================================================

import { Injectable, UnauthorizedException } from '@nestjs/common';
import { PassportStrategy } from '@nestjs/passport';
import { ExtractJwt, Strategy } from 'passport-jwt';
import { ConfigService } from '@nestjs/config';
import { UserService } from 'src/user/user.service';

@Injectable()
export class JwtStrategy extends PassportStrategy(Strategy) {
  constructor(
    private readonly configService: ConfigService,
    private readonly userService: UserService,
  ) {
    super({
      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),
      ignoreExpiration: false,
      secretOrKey: configService.get<string>('JWT_SECRET') || 'fallback-secret-key-12345',
    });
    console.log('JWT Secret in strategy:', configService.get<string>('JWT_SECRET')); // Debug log
  }

  async validate(payload: { sub: number; email: string }) {
    console.log('JWT Payload:', payload); // Debug log
    const user = await this.userService.findById(payload.sub);
    console.log('User found:', user ? 'Yes' : 'No'); // Debug log
    if (!user) {
      throw new UnauthorizedException();
    }
    return user;
  }
}

================================================================================
File: src\booking\booking.entity.ts
Size: 1.42 kB
================================================================================

// src/booking/booking.entity.ts
import { Payment } from 'src/payment/payment.entity';
import { Pet } from 'src/pet/pet.entity';
import { Review } from 'src/review/review.entity';
import { Sitter } from 'src/sitter/sitter.entity';
import { User } from 'src/user/user.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, ManyToOne, OneToOne, OneToMany
} from 'typeorm';

@Entity('bookings')
export class Booking {
  @PrimaryGeneratedColumn() // 'INT booking_id PK'
  id: number;

  @Column({ type: 'date' }) // 'DATE start_date'
  start_date: string;

  @Column({ type: 'date' }) // 'DATE end_date'
  end_date: string;

  @Column() // 'STRING status'
  status: string;

  @Column({ type: 'float' }) // 'FLOAT total_amount'
  total_amount: number;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @ManyToOne(() => User, (user) => user.bookings) // 'INT owner_id FK'
  owner: User;

  @ManyToOne(() => Sitter, (sitter) => sitter.bookings) // 'INT sitter_id FK'
  sitter: Sitter;

  @ManyToOne(() => Pet, (pet) => pet.bookings) // 'INT pet_id FK'
  pet: Pet;

  @OneToOne(() => Payment, (payment) => payment.booking)
  payment: Payment;

  @OneToMany(() => Review, (review) => review.booking)
  reviews: Review[];
}


================================================================================
File: src\booking\booking.module.ts
Size: 348 B
================================================================================

import { Module } from '@nestjs/common';
import { BookingService } from './booking.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Booking } from './booking.entity';

@Module({
  imports: [TypeOrmModule.forFeature([Booking])],
  providers: [BookingService],
  exports: [BookingService]
})
export class BookingModule {}

================================================================================
File: src\booking\booking.service.spec.ts
Size: 485 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { BookingService } from './booking.service';

describe('BookingService', () => {
  let service: BookingService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [BookingService],
    }).compile();

    service = module.get<BookingService>(BookingService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\booking\booking.service.ts
Size: 95 B
================================================================================

import { Injectable } from '@nestjs/common';

@Injectable()
export class BookingService {}


================================================================================
File: src\comments\comments.entity.ts
Size: 782 B
================================================================================

// src/comments/comments.entity.ts
import { User } from 'src/user/user.entity';
import { Post } from 'src/posts/posts.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, ManyToOne
} from 'typeorm';

@Entity('comments')
export class Comment {
  @PrimaryGeneratedColumn() // 'INT comment_id PK'
  id: number;

  @Column({ type: 'text' }) // 'TEXT content'
  content: string;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @ManyToOne(() => Post, (post) => post.comments) // 'INT post_id FK'
  post: Post;

  @ManyToOne(() => User, (user) => user.comments) // 'INT user_id FK'
  user: User;
}


================================================================================
File: src\comments\comments.module.ts
Size: 356 B
================================================================================

import { Module } from '@nestjs/common';
import { CommentsService } from './comments.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Comment } from './comments.entity';

@Module({
  imports: [TypeOrmModule.forFeature([Comment])],
  providers: [CommentsService],
  exports: [CommentsService]
})
export class CommentsModule {}


================================================================================
File: src\comments\comments.service.spec.ts
Size: 492 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { CommentsService } from './comments.service';

describe('CommentsService', () => {
  let service: CommentsService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [CommentsService],
    }).compile();

    service = module.get<CommentsService>(CommentsService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\comments\comments.service.ts
Size: 96 B
================================================================================

import { Injectable } from '@nestjs/common';

@Injectable()
export class CommentsService {}


================================================================================
File: src\data-source.ts
Size: 1.55 kB
================================================================================

// src/data-source.ts

import 'dotenv/config'; // Loads .env file
import { DataSource } from 'typeorm';

// Import all your entities
import { User } from './user/user.entity';
import { Pet } from './pet/pet.entity';
import { Booking } from './booking/booking.entity';
import { Notification } from './notification/notification.entity';
import { Review } from './review/review.entity';
import { Sitter } from './sitter/sitter.entity';
import { Post } from './posts/posts.entity';
import { Comment } from './comments/comments.entity';
import { Like } from './likes/likes.entity';
import { ActivityLog } from './activity-log/activity-log.entity';
import { HealthRecord } from './health-record/health-record.entity';
import { Payment } from './payment/payment.entity';

// This is the configuration for the CLI
const AppDataSource = new DataSource({
  type: 'postgres',

  // --- THIS IS THE MAGIC ---
  // It reads the single DATABASE_URL from your .env file
  url: process.env.DATABASE_URL,
  
  // --- THIS IS REQUIRED FOR SUPABASE ---
  // It tells Postgres to connect securely
  ssl: {
    rejectUnauthorized: false,
  },
  // ---------------------------------
  
  synchronize: false, // Must be false for migrations
  logging: true,
  
  entities: [
    User,
    Pet,
    Booking,
    Notification,
    Review,
    Sitter,
    Post,
    Comment,
    Like,
    ActivityLog,
    HealthRecord,
    Payment,
  ],
  
  migrations: [__dirname + '/migrations/*.ts'],
});

export default AppDataSource;


================================================================================
File: src\health-record\dto\create-health-record.dto.ts
Size: 625 B
================================================================================

import { IsNotEmpty, IsString, IsDateString, IsEnum, IsOptional } from 'class-validator';

export enum HealthRecordType {
  VACCINATION = 'Vaccination',
  VET_VISIT = 'Vet Visit',
  MEDICATION = 'Medication',
  ALLERGY = 'Allergy',
  NOTE = 'Note',
}

export class CreateHealthRecordDto {
  @IsNotEmpty()
  @IsEnum(HealthRecordType)
  record_type: HealthRecordType;

  @IsNotEmpty()
  @IsDateString()
  record_date: string;

  @IsString()
  @IsOptional()
  description?: string;

  @IsString()
  @IsOptional()
  clinic?: string;

  @IsDateString()
  @IsOptional()
  nextDueDate?: string;
}




================================================================================
File: src\health-record\health-record.controller.ts
Size: 859 B
================================================================================

import { Controller, Post, Body, Param, ParseIntPipe, UsePipes, ValidationPipe, Get } from '@nestjs/common';
import { HealthRecordService } from './health-record.service';
import { CreateHealthRecordDto } from './dto/create-health-record.dto';

@Controller()
export class HealthRecordController {
  constructor(private readonly healthRecordService: HealthRecordService) {}

  @Post('/pets/:petId/health-records')
  @UsePipes(new ValidationPipe({ transform: true }))
  create(
    @Param('petId', ParseIntPipe) petId: number,
    @Body() createHealthRecordDto: CreateHealthRecordDto,
  ) {
    return this.healthRecordService.create(petId, createHealthRecordDto);
  }

  @Get('/pets/:petId/health-records')
  findAllForPet(@Param('petId', ParseIntPipe) petId: number) {
    return this.healthRecordService.findAllForPet(petId);
  }
}




================================================================================
File: src\health-record\health-record.entity.ts
Size: 927 B
================================================================================

// src/health-record/health-record.entity.ts
import { Pet } from 'src/pet/pet.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, ManyToOne
} from 'typeorm';

@Entity('health_records')
export class HealthRecord {
  @PrimaryGeneratedColumn() // 'INT record_id PK'
  id: number;

  @Column() // STRING record_type
  record_type: string;

  @Column({ type: 'date' }) // DATE record_date
  record_date: string;

  @Column({ type: 'text' }) // TEXT description
  description: string;

  @Column({ nullable: true })
  clinic: string;

  @Column({ type: 'date', nullable: true })
  nextDueDate: string;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @ManyToOne(() => Pet, (pet) => pet.healthRecords) // 'INT pet_id FK'
  pet: Pet;
}


================================================================================
File: src\health-record\health-record.module.ts
Size: 550 B
================================================================================

import { Module } from '@nestjs/common';
import { HealthRecordService } from './health-record.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { HealthRecord } from './health-record.entity';
import { HealthRecordController } from './health-record.controller';
import { Pet } from 'src/pet/pet.entity';

@Module({
  imports: [TypeOrmModule.forFeature([HealthRecord, Pet])],
  controllers: [HealthRecordController],
  providers: [HealthRecordService],
  exports: [HealthRecordService]
})
export class HealthRecordModule {}

================================================================================
File: src\health-record\health-record.service.spec.ts
Size: 521 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { HealthRecordService } from './health-record.service';

describe('HealthRecordService', () => {
  let service: HealthRecordService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [HealthRecordService],
    }).compile();

    service = module.get<HealthRecordService>(HealthRecordService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\health-record\health-record.service.ts
Size: 2.03 kB
================================================================================

import { Injectable, NotFoundException } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { HealthRecord } from './health-record.entity';
import { CreateHealthRecordDto } from './dto/create-health-record.dto';
import { Pet } from 'src/pet/pet.entity';

@Injectable()
export class HealthRecordService {
  constructor(
    @InjectRepository(HealthRecord)
    private readonly healthRecordRepository: Repository<HealthRecord>,
    @InjectRepository(Pet)
    private readonly petRepository: Repository<Pet>,
  ) {}

  async create(petId: number, dto: CreateHealthRecordDto): Promise<HealthRecord> {
    const pet = await this.petRepository.findOne({ where: { id: petId } });
    if (!pet) {
      throw new NotFoundException(`Pet with ID ${petId} not found`);
    }

    const record = this.healthRecordRepository.create({
      record_type: dto.record_type,
      record_date: new Date(dto.record_date).toISOString().slice(0, 10),
      description: dto.description ?? '',
      pet,
      clinic: dto.clinic,
      nextDueDate: dto.nextDueDate,
    });

    const savedRecord = await this.healthRecordRepository.save(record);
    // Reload without relations to avoid circular reference in response
    const reloadedRecord = await this.healthRecordRepository.findOne({
      where: { id: savedRecord.id },
    });
    if (!reloadedRecord) {
      throw new NotFoundException('Failed to reload saved health record');
    }
    return reloadedRecord;
  }

  async findAllForPet(petId: number): Promise<HealthRecord[]> {
    const pet = await this.petRepository.findOne({ where: { id: petId } });
    if (!pet) {
      throw new NotFoundException(`Pet with ID ${petId} not found`);
    }
    return this.healthRecordRepository.find({
      where: { pet: { id: petId } },
      order: { record_date: 'DESC' },
      // Removed relations: ['pet'] to avoid circular reference serialization issues
    });
  }
}


================================================================================
File: src\likes\likes.entity.ts
Size: 594 B
================================================================================

// src/likes/likes.entity.ts
import { User } from 'src/user/user.entity';
import { Post } from 'src/posts/posts.entity';
import {
  Entity, PrimaryGeneratedColumn, CreateDateColumn, ManyToOne
} from 'typeorm';

@Entity('likes')
export class Like {
  @PrimaryGeneratedColumn() // 'INT like_id PK'
  id: number;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  // --- Relationships ---
  @ManyToOne(() => Post, (post) => post.likes) // 'INT post_id FK'
  post: Post;

  @ManyToOne(() => User, (user) => user.likes) // 'INT user_id FK'
  user: User;
}


================================================================================
File: src\likes\likes.module.ts
Size: 352 B
================================================================================

import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Like } from './likes.entity';
import { LikesService } from './likes.service';

@Module({
  imports: [TypeOrmModule.forFeature([Like])],
  providers: [LikesService],
  exports: [LikesService]
})
export class LikesModule {}












================================================================================
File: src\likes\likes.service.spec.ts
Size: 471 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { LikesService } from './likes.service';

describe('LikesService', () => {
  let service: LikesService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [LikesService],
    }).compile();

    service = module.get<LikesService>(LikesService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\likes\likes.service.ts
Size: 93 B
================================================================================

import { Injectable } from '@nestjs/common';

@Injectable()
export class LikesService {}


================================================================================
File: src\main.ts
Size: 494 B
================================================================================

import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  app.enableCors({ origin: true, credentials: true });
  await app.listen(process.env.PORT ?? 3000);
  // --- ADD THIS LINE ---
  // This allows your frontend (e.g., http://localhost:5173)
  // to make requests to your backend (http://localhost:3000)
  app.enableCors();
  // ---------------------
}
bootstrap();


================================================================================
File: src\migrations\1762340187239-AddPhoneNumberToUser.ts
Size: 939 B
================================================================================

import { MigrationInterface, QueryRunner } from "typeorm";

export class AddPhoneNumberToUser1762340187239 implements MigrationInterface {
    name = 'AddPhoneNumberToUser1762340187239'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "users" ADD "phone_number" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "UQ_17d1817f241f10a3dbafb169fd2" UNIQUE ("phone_number")`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "email" DROP NOT NULL`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "UQ_17d1817f241f10a3dbafb169fd2"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "phone_number"`);
    }

}


================================================================================
File: src\migrations\1762340661137-RemovePhoneFromSitters.ts
Size: 527 B
================================================================================

import { MigrationInterface, QueryRunner } from "typeorm";

export class RemovePhoneFromSitters1762340661137 implements MigrationInterface {
    name = 'RemovePhoneFromSitters1762340661137'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "phoneNumber"`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "sitters" ADD "phoneNumber" character varying`);
    }

}


================================================================================
File: src\migrations\1763437588399-$npm_config_name.ts
Size: 4.01 kB
================================================================================

import { MigrationInterface, QueryRunner } from "typeorm";

export class  $npmConfigName1763437588399 implements MigrationInterface {
    name = ' $npmConfigName1763437588399'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "phoneNumber"`);
        await queryRunner.query(`ALTER TABLE "sitters" ADD "deleted_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "users" ADD "phone_number" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "UQ_17d1817f241f10a3dbafb169fd2" UNIQUE ("phone_number")`);
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "available_dates"`);
        await queryRunner.query(`ALTER TABLE "sitters" ADD "available_dates" text`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasGarden" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasGarden" SET DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasOtherPets" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasOtherPets" SET DEFAULT false`);
        await queryRunner.query(`ALTER TYPE "public"."sitters_status_enum" RENAME TO "sitters_status_enum_old"`);
        await queryRunner.query(`CREATE TYPE "public"."sitters_status_enum" AS ENUM('pending', 'approved', 'rejected')`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" TYPE "public"."sitters_status_enum" USING "status"::"text"::"public"."sitters_status_enum"`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" SET DEFAULT 'pending'`);
        await queryRunner.query(`DROP TYPE "public"."sitters_status_enum_old"`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "email" DROP NOT NULL`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" SET NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."sitters_status_enum_old" AS ENUM('pending', 'verified', 'rejected')`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" TYPE "public"."sitters_status_enum_old" USING "status"::"text"::"public"."sitters_status_enum_old"`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "status" SET DEFAULT 'pending'`);
        await queryRunner.query(`DROP TYPE "public"."sitters_status_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."sitters_status_enum_old" RENAME TO "sitters_status_enum"`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasOtherPets" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasOtherPets" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasGarden" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "sitters" ALTER COLUMN "hasGarden" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "available_dates"`);
        await queryRunner.query(`ALTER TABLE "sitters" ADD "available_dates" date array`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "UQ_17d1817f241f10a3dbafb169fd2"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "phone_number"`);
        await queryRunner.query(`ALTER TABLE "sitters" DROP COLUMN "deleted_at"`);
        await queryRunner.query(`ALTER TABLE "sitters" ADD "phoneNumber" character varying`);
    }

}


================================================================================
File: src\notification\notification.entity.ts
Size: 797 B
================================================================================

// src/notification/notification.entity.ts
import { User } from 'src/user/user.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, ManyToOne
} from 'typeorm';

@Entity('notifications')
export class Notification {
  @PrimaryGeneratedColumn() // 'INT notification_id PK'
  id: number;

  @Column({ type: 'text' }) // 'TEXT message'
  message: string;

  @Column() // 'STRING type'
  type: string;

  @Column({ default: 'unread' }) // 'STRING status'
  status: string;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @ManyToOne(() => User, (user) => user.notifications) // 'INT user_id FK'
  user: User;
}


================================================================================
File: src\notification\notification.module.ts
Size: 388 B
================================================================================

import { Module } from '@nestjs/common';
import { NotificationService } from './notification.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Notification } from './notification.entity';

@Module({
  imports: [TypeOrmModule.forFeature([Notification])],
  providers: [NotificationService],
  exports: [NotificationService]
})
export class NotificationModule {}

================================================================================
File: src\notification\notification.service.spec.ts
Size: 520 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { NotificationService } from './notification.service';

describe('NotificationService', () => {
  let service: NotificationService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [NotificationService],
    }).compile();

    service = module.get<NotificationService>(NotificationService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\notification\notification.service.ts
Size: 100 B
================================================================================

import { Injectable } from '@nestjs/common';

@Injectable()
export class NotificationService {}


================================================================================
File: src\payment\payment.entity.ts
Size: 946 B
================================================================================

// src/payment/payment.entity.ts
import { Booking } from 'src/booking/booking.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, OneToOne, JoinColumn
} from 'typeorm';

@Entity('payments')
export class Payment {
  @PrimaryGeneratedColumn() // 'INT payment_id PK'
  id: number;

  @Column({ type: 'float' }) // 'FLOAT amount'
  amount: number;

  @Column({ type: 'date' }) // 'DATE payment_date'
  payment_date: string;

  @Column() // 'STRING status'
  status: string;

  @Column() // 'STRING payment_method'
  payment_method: string;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @OneToOne(() => Booking, (booking) => booking.payment) // 'INT booking_id FK'
  @JoinColumn() // This side holds the 'booking_id' foreign key
  booking: Booking;
}


================================================================================
File: src\payment\payment.module.ts
Size: 348 B
================================================================================

import { Module } from '@nestjs/common';
import { PaymentService } from './payment.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Payment } from './payment.entity';

@Module({
  imports: [TypeOrmModule.forFeature([Payment])],
  providers: [PaymentService],
  exports: [PaymentService]
})
export class PaymentModule {}

================================================================================
File: src\payment\payment.service.spec.ts
Size: 485 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { PaymentService } from './payment.service';

describe('PaymentService', () => {
  let service: PaymentService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [PaymentService],
    }).compile();

    service = module.get<PaymentService>(PaymentService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\payment\payment.service.ts
Size: 95 B
================================================================================

import { Injectable } from '@nestjs/common';

@Injectable()
export class PaymentService {}


================================================================================
File: src\pet\dto\create-pet.dto.ts
Size: 827 B
================================================================================

import {
  IsString,
  IsNotEmpty,
  IsOptional,
  IsNumber,
  IsDateString,
  IsArray,
  Min,
  Max,
} from 'class-validator';

export class CreatePetDto {
  @IsString()
  @IsNotEmpty()
  name: string;

  @IsString()
  @IsOptional()
  species?: string;

  @IsString()
  @IsNotEmpty()
  breed: string;

  @IsDateString()
  @IsOptional()
  dob?: string;

  @IsNumber()
  @IsOptional()
  @Min(0)
  weight?: number;

  @IsString()
  @IsOptional()
  allergies?: string;

  @IsArray()
  @IsOptional()
  vaccination_dates?: string[];

  @IsDateString()
  @IsOptional()
  last_vet_visit?: string;

  @IsNumber()
  @IsOptional()
  @Min(0)
  @Max(10)
  mood_rating?: number;

  @IsString()
  @IsOptional()
  photoUrl?: string;

  @IsNumber()
  @IsNotEmpty()
  ownerId: number;
}

================================================================================
File: src\pet\dto\update-pet.dto.ts
Size: 167 B
================================================================================

import { PartialType } from '@nestjs/mapped-types';
import { CreatePetDto } from './create-pet.dto';

export class UpdatePetDto extends PartialType(CreatePetDto) {}

================================================================================
File: src\pet\pet.controller.ts
Size: 2.22 kB
================================================================================

// src/pet/pet.controller.ts

import { 
    Controller, 
    Post, 
    Body, 
    UseInterceptors, 
    UploadedFile, 
    Request,
    UseGuards, // Assuming you have an authentication guard
    Get,
    Param,
    Query,
} from '@nestjs/common';
import { FileInterceptor } from '@nestjs/platform-express';
import { PetService } from './pet.service';
import { CreatePetDto } from './dto/create-pet.dto';
// import { AuthGuard } from '../auth/auth.guard';

@Controller('pets')
export class PetController {
  constructor(private readonly petService: PetService) {}

  @Post()
  // @UseGuards(AuthGuard) // Protect the route with an authentication guard
  @UseInterceptors(FileInterceptor('photo')) // 'photo' is the field name from the form-data
  async createPet(
    @Body() createPetDto: CreatePetDto,
    @UploadedFile() file: any,
    @Request() req, // Used to get user info after authentication
  ) {
    // 1. **Authentication and Owner ID**: Get the owner's ID from the authenticated request object.
    // For demonstration, let's assume the user object is attached to 'req.user' after authentication.
    const ownerId = req.user?.id || 1; // Replace '1' with actual logic (e.g., req.user.id)
    createPetDto.ownerId = ownerId;

    // 2. **Handle Photo Upload**: Get the URL/path where the photo was saved.
    // In a real application, you'd upload 'file' to Supabase Storage here and get the public URL.
    if (file) {
      // **Placeholder for actual file upload logic to Supabase Storage**
      // For now, let's assume a function that returns a URL.
      // E.g., const photoUrl = await this.petService.uploadPhoto(file);
      createPetDto.photoUrl = `https://your-supabase-url/storage/photos/${file.filename}`; // Placeholder
    }

    // 3. **Create Pet Profile**
    return this.petService.create(createPetDto);
  }

  @Get('owner/:ownerId')
  async getPetsByOwnerParam(@Param('ownerId') ownerId: string) {
    return this.petService.findByOwner(Number(ownerId));
  }

  @Get()
  async getPetsByOwnerQuery(@Query('ownerId') ownerId?: string) {
    if (!ownerId) return [];
    return this.petService.findByOwner(Number(ownerId));
  }
}


================================================================================
File: src\pet\pet.entity.ts
Size: 1.71 kB
================================================================================

import {
  Entity,
  PrimaryGeneratedColumn,
  Column,
  ManyToOne,
  OneToMany,
  CreateDateColumn,
  UpdateDateColumn,
  JoinColumn,
} from 'typeorm';
import { User } from '../user/user.entity';
import { ActivityLog } from '../activity-log/activity-log.entity';
import { HealthRecord } from '../health-record/health-record.entity';
import { Booking } from '../booking/booking.entity';

@Entity('pets')
export class Pet {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  name: string;

  @Column({ nullable: true }) // 'STRING species'
  species: string;

  @Column()
  breed: string;

  @Column({ type: 'date', nullable: true })
  dob: Date;

  @Column({ type: 'double precision', nullable: true })
  weight: number;

  @Column({ type: 'text', nullable: true })
  allergies: string;

  @Column({ type: 'simple-array', nullable: true })
  vaccination_dates: string[];

  @Column({ type: 'date', nullable: true })
  last_vet_visit: Date;

  @Column({ type: 'double precision', nullable: true })
  mood_rating: number;

  @Column({ type: 'int', default: 0 })
  streak: number;

  @Column({ nullable: true })
  photoUrl: string;

  @Column()
  ownerId: number;

  @ManyToOne(() => User, (user) => user.pets)
  @JoinColumn({ name: 'ownerId' })
  owner: User;

  @OneToMany(() => ActivityLog, (activityLog) => activityLog.pet)
  activityLogs: ActivityLog[];

  @OneToMany(() => HealthRecord, (healthRecord) => healthRecord.pet)
  healthRecords: HealthRecord[];

  @OneToMany(() => Booking, (booking) => booking.pet)
  bookings: Booking[];

  @CreateDateColumn()
  created_at: Date;

  @UpdateDateColumn()
  updated_at: Date;
}


================================================================================
File: src\pet\pet.module.ts
Size: 401 B
================================================================================

import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { PetService } from './pet.service';
import { PetController } from './pet.controller';
import { Pet } from './pet.entity';

@Module({
  imports: [TypeOrmModule.forFeature([Pet])],
  controllers: [PetController],
  providers: [PetService],
  exports: [PetService],
})
export class PetModule {}

================================================================================
File: src\pet\pet.service.spec.ts
Size: 457 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { PetService } from './pet.service';

describe('PetService', () => {
  let service: PetService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [PetService],
    }).compile();

    service = module.get<PetService>(PetService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\pet\pet.service.ts
Size: 2.64 kB
================================================================================

import {
  Injectable,
  NotFoundException,
  ForbiddenException,
} from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { Pet } from './pet.entity';
import { CreatePetDto } from './dto/create-pet.dto';
import { UpdatePetDto } from './dto/update-pet.dto';

@Injectable()
export class PetService {
  constructor(
    @InjectRepository(Pet)
    private petRepository: Repository<Pet>,
  ) {}

  async create(createPetDto: CreatePetDto): Promise<Pet> {
    const pet = this.petRepository.create(createPetDto);
    return await this.petRepository.save(pet);
  }

  async findAll(ownerId?: number): Promise<Pet[]> {
    if (ownerId) {
      return await this.petRepository.find({
        where: { ownerId },
        relations: ['owner'],
        order: { created_at: 'DESC' },
      });
    }
    return await this.petRepository.find({
      relations: ['owner'],
      order: { created_at: 'DESC' },
    });
  }

  async findOne(id: number): Promise<Pet> {
    const pet = await this.petRepository.findOne({
      where: { id },
      relations: ['owner', 'activityLogs', 'healthRecords'],
    });

    if (!pet) {
      throw new NotFoundException(`Pet with ID ${id} not found`);
    }

    return pet;
  }

  async findByOwner(ownerId: number): Promise<Pet[]> {
    return await this.petRepository.find({
      where: { ownerId },
      relations: ['owner'],
      order: { created_at: 'DESC' },
    });
  }

  async update(
    id: number,
    updatePetDto: UpdatePetDto,
    userId: number,
  ): Promise<Pet> {
    const pet = await this.findOne(id);

    // Check if the user is the owner
    if (pet.ownerId !== userId) {
      throw new ForbiddenException('You can only update your own pets');
    }

    Object.assign(pet, updatePetDto);
    return await this.petRepository.save(pet);
  }

  async remove(id: number, userId: number): Promise<void> {
    const pet = await this.findOne(id);

    // Check if the user is the owner
    if (pet.ownerId !== userId) {
      throw new ForbiddenException('You can only delete your own pets');
    }

    await this.petRepository.remove(pet);
  }

  async updateStreak(id: number, streak: number): Promise<Pet> {
    const pet = await this.findOne(id);
    pet.streak = streak;
    return await this.petRepository.save(pet);
  }

  async updateMoodRating(id: number, moodRating: number): Promise<Pet> {
    const pet = await this.findOne(id);
    pet.mood_rating = moodRating;
    return await this.petRepository.save(pet);
  }
}


================================================================================
File: src\posts\posts.entity.ts
Size: 1.04 kB
================================================================================

// src/posts/posts.entity.ts
import { User } from 'src/user/user.entity';
import { Comment } from 'src/comments/comments.entity';
import { Like } from 'src/likes/likes.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, ManyToOne, OneToMany
} from 'typeorm';

@Entity('posts')
export class Post {
  @PrimaryGeneratedColumn() // 'INT post_id PK'
  id: number;

  @Column({ type: 'text' }) // 'TEXT content'
  content: string;

  @Column({ nullable: true }) // 'STRING image_url'
  image_url: string;

  @Column({ default: 0 }) // 'INT likes_count'
  likes_count: number;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @ManyToOne(() => User, (user) => user.posts) // 'INT user_id FK'
  user: User;

  @OneToMany(() => Comment, (comment) => comment.post)
  comments: Comment[];

  @OneToMany(() => Like, (like) => like.post)
  likes: Like[];
}


================================================================================
File: src\posts\posts.module.ts
Size: 500 B
================================================================================

import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Post } from './posts.entity';
import { PostsService } from './posts.service';
import { PetService } from '../pet/pet.service';
import { PetController } from '../pet/pet.controller';
import { Pet } from '../pet/pet.entity';

@Module({
  imports: [TypeOrmModule.forFeature([Post])],
  providers: [PostsService],
  exports: [PostsService]
})
export class PostsModule {}












================================================================================
File: src\posts\posts.service.spec.ts
Size: 471 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { PostsService } from './posts.service';

describe('PostsService', () => {
  let service: PostsService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [PostsService],
    }).compile();

    service = module.get<PostsService>(PostsService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\posts\posts.service.ts
Size: 93 B
================================================================================

import { Injectable } from '@nestjs/common';

@Injectable()
export class PostsService {}


================================================================================
File: src\review\review.entity.ts
Size: 1.04 kB
================================================================================

// src/review/review.entity.ts
import { Booking } from 'src/booking/booking.entity';
import { Sitter } from 'src/sitter/sitter.entity';
import { User } from 'src/user/user.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, ManyToOne
} from 'typeorm';

@Entity('reviews')
export class Review {
  @PrimaryGeneratedColumn() // 'INT review_id PK'
  id: number;

  @Column({ type: 'float' }) // 'FLOAT rating'
  rating: number;

  @Column({ type: 'text', nullable: true }) // 'TEXT comment'
  comment: string;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @ManyToOne(() => Booking, (booking) => booking.reviews) // 'INT booking_id FK'
  booking: Booking;

  @ManyToOne(() => Sitter, (sitter) => sitter.reviews) // 'INT sitter_id FK'
  sitter: Sitter;

  @ManyToOne(() => User, (user) => user.reviews) // 'INT owner_id FK'
  owner: User;
}


================================================================================
File: src\review\review.module.ts
Size: 340 B
================================================================================

import { Module } from '@nestjs/common';
import { ReviewService } from './review.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Review } from './review.entity';

@Module({
  imports: [TypeOrmModule.forFeature([Review])],
  providers: [ReviewService],
  exports: [ReviewService]
})
export class ReviewModule {}

================================================================================
File: src\review\review.service.spec.ts
Size: 478 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { ReviewService } from './review.service';

describe('ReviewService', () => {
  let service: ReviewService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [ReviewService],
    }).compile();

    service = module.get<ReviewService>(ReviewService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\review\review.service.ts
Size: 94 B
================================================================================

import { Injectable } from '@nestjs/common';

@Injectable()
export class ReviewService {}


================================================================================
File: src\role\role.controller.ts
Size: 802 B
================================================================================

import { Controller, Post, Body, Get, BadRequestException } from '@nestjs/common';
import { RoleService } from './role.service';
import { Role } from './role.entity';

@Controller('role')
export class RoleController {
  constructor(private readonly roleService: RoleService) {}

  @Post()
  async createRole(@Body('role') role: string): Promise<{ message: string; data: Role }> {
    if (!role) {
      throw new BadRequestException('Role is required');
    }

    const saved = await this.roleService.saveRole(role);
    return { message: `Role '${role}' saved successfully`, data: saved };
  }

  @Get()
  async getAll(): Promise<{ total: number; data: Role[] }> {
    const roles = await this.roleService.getAllRoles();
    return { total: roles.length, data: roles };
  }
}


================================================================================
File: src\role\role.entity.ts
Size: 180 B
================================================================================

import { Entity, PrimaryGeneratedColumn, Column } from 'typeorm';

@Entity()
export class Role {
  @PrimaryGeneratedColumn()
  id: number;

  @Column()
  name: string;
}


================================================================================
File: src\role\role.module.ts
Size: 414 B
================================================================================

import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Role } from './role.entity';
import { RoleService } from './role.service';
import { RoleController } from './role.controller';

@Module({
  imports: [TypeOrmModule.forFeature([Role])],
  controllers: [RoleController],
  providers: [RoleService],
  exports: [RoleService],
})
export class RoleModule {}


================================================================================
File: src\role\role.service.ts
Size: 605 B
================================================================================

import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { Role } from './role.entity';

@Injectable()
export class RoleService {
  constructor(
    @InjectRepository(Role)
    private readonly roleRepository: Repository<Role>,
  ) {}

  async saveRole(roleName: string): Promise<Role> {
    const role = this.roleRepository.create({ name: roleName });
    return await this.roleRepository.save(role);
  }

  async getAllRoles(): Promise<Role[]> {
    return await this.roleRepository.find();
  }
}


================================================================================
File: src\sitter\dto\create-sitter.dto.ts
Size: 812 B
================================================================================

import {
  IsString,
  IsOptional,
  IsArray,
  IsNumber,
  IsBoolean,
  IsUrl,
  Min,
} from 'class-validator';

export class CreateSitterDto {
  @IsString()
  @IsOptional()
  bio?: string;

  @IsString()
  @IsOptional()
  experience?: string;

  @IsString()
  @IsOptional()
  photo_gallery?: string;

  @IsArray()
  @IsOptional()
  available_dates?: string[];

  @IsString()
  @IsOptional()
  address?: string;

  @IsString()
  @IsOptional()
  phoneNumber?: string;

  @IsString()
  @IsOptional()
  houseType?: string;

  @IsBoolean()
  @IsOptional()
  hasGarden?: boolean;

  @IsBoolean()
  @IsOptional()
  hasOtherPets?: boolean;

  @IsUrl()
  @IsOptional()
  idDocumentUrl?: string;

  @IsNumber()
  @IsOptional()
  @Min(0)
  ratePerNight?: number;
}


================================================================================
File: src\sitter\dto\update-sitter.dto.ts
Size: 181 B
================================================================================

import { PartialType } from '@nestjs/mapped-types';
import { CreateSitterDto } from './create-sitter.dto';

export class UpdateSitterDto extends PartialType(CreateSitterDto) {}


================================================================================
File: src\sitter\sitter.controller.ts
Size: 1.88 kB
================================================================================

import {
  Controller,
  Get,
  Post,
  Body,
  Patch,
  Param,
  Delete,
  UseGuards,
  Request,
  Query,
  ParseIntPipe,
  HttpCode,
  HttpStatus,
  ParseFloatPipe,
} from '@nestjs/common';
import { SitterService } from './sitter.service';
import { CreateSitterDto } from './dto/create-sitter.dto';
import { UpdateSitterDto } from './dto/update-sitter.dto';
import { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';

@Controller('sitters')
export class SitterController {
  constructor(private readonly sitterService: SitterService) {}

  @Post('setup')
  @UseGuards(JwtAuthGuard)
  @HttpCode(HttpStatus.CREATED)
  async create(@Body() createSitterDto: CreateSitterDto, @Request() req) {
    return await this.sitterService.create(createSitterDto, req.user.id);
  }

  @Get()
  async findAll(@Query('minRating', ParseFloatPipe) minRating?: number) {
    return await this.sitterService.findAll(minRating);
  }

  @Get('search')
  async searchByAvailability(@Query('date') date: string) {
    return await this.sitterService.searchByAvailability(date);
  }

  @Get('my-profile')
  @UseGuards(JwtAuthGuard)
  async getMyProfile(@Request() req) {
    return await this.sitterService.findByUserId(req.user.id);
  }

  @Get(':id')
  async findOne(@Param('id', ParseIntPipe) id: number) {
    return await this.sitterService.findOne(id);
  }

  @Patch(':id')
  @UseGuards(JwtAuthGuard)
  async update(
    @Param('id', ParseIntPipe) id: number,
    @Body() updateSitterDto: UpdateSitterDto,
    @Request() req,
  ) {
    return await this.sitterService.update(id, updateSitterDto, req.user.id);
  }

  @Delete(':id')
  @UseGuards(JwtAuthGuard)
  @HttpCode(HttpStatus.NO_CONTENT)
  async remove(@Param('id', ParseIntPipe) id: number, @Request() req) {
    await this.sitterService.remove(id, req.user.id);
  }
}


================================================================================
File: src\sitter\sitter.entity.ts
Size: 2.44 kB
================================================================================

import {
    Entity,
    PrimaryGeneratedColumn,
    Column,
    OneToOne,
    OneToMany,
    CreateDateColumn,
    UpdateDateColumn,
    JoinColumn,
    DeleteDateColumn,
} from 'typeorm';
import { User } from '../user/user.entity';
import { Booking } from '../booking/booking.entity';
import { Review } from '../review/review.entity';

// NOTE: Define SitterStatus or import it from your enum file
// Temporary definition if you don't have a dedicated enum file:
export enum SitterStatus {
    PENDING = 'pending',
    APPROVED = 'approved',
    REJECTED = 'rejected',
}

@Entity('sitters')
export class Sitter {
    @PrimaryGeneratedColumn()
    id: number;

    @Column({ type: 'text', nullable: true })
    bio: string;

    @Column({ type: 'text', nullable: true })
    experience: string;

    @Column({ type: 'text', nullable: true })
    photo_gallery: string;

    @Column({ type: 'double precision', default: 0 })
    rating: number;

    @Column({ type: 'int', default: 0 })
    reviews_count: number;

    @Column({ type: 'simple-array', nullable: true })
    available_dates: string[];

    // --- Sitter Profile Setup Fields ---
    @Column({ nullable: true })
    address: string;

    @Column({ nullable: true })
    houseType: string;

    @Column({ type: 'boolean', default: false })
    hasGarden: boolean;

    @Column({ type: 'boolean', default: false })
    hasOtherPets: boolean;

    @Column({ nullable: true }) // URL of the uploaded ID
    idDocumentUrl: string;

    @Column({ type: 'decimal', precision: 10, scale: 2, nullable: true })
    ratePerNight: number;

    @Column({
        type: 'enum',
        enum: SitterStatus,
        default: SitterStatus.PENDING,
        nullable: true,
    })
    status: SitterStatus;

    @Column({ unique: true, nullable: true })
    userId: number;

    @OneToOne(() => User, (user) => user.sitterProfile, { nullable: true })
    @JoinColumn({ name: 'userId' })
    user: User;

    @OneToMany(() => Booking, (booking) => booking.sitter)
    bookings: Booking[];

    @OneToMany(() => Review, (review) => review.sitter)
    reviews: Review[];

    @CreateDateColumn()
    created_at: Date;

    @UpdateDateColumn()
    updated_at: Date;

    @DeleteDateColumn({ 
        type: 'timestamp', 
        nullable: true, 
        name: 'deleted_at' 
    })
    deleted_at: Date;
}


================================================================================
File: src\sitter\sitter.module.ts
Size: 637 B
================================================================================

import { Module } from '@nestjs/common';
import { SitterService } from './sitter.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { Sitter } from './sitter.entity';
import { SitterController } from './sitter.controller';
import { UserModule } from 'src/user/user.module';
import { AuthModule } from 'src/auth/auth.module';
import { User } from 'src/user/user.entity';

@Module({
  imports: [
    TypeOrmModule.forFeature([Sitter, User]),
    UserModule,
    AuthModule,
  ],
  controllers: [SitterController],
  providers: [SitterService],
  exports: [SitterService],
})
export class SitterModule {}


================================================================================
File: src\sitter\sitter.service.spec.ts
Size: 478 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { SitterService } from './sitter.service';

describe('SitterService', () => {
  let service: SitterService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [SitterService],
    }).compile();

    service = module.get<SitterService>(SitterService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\sitter\sitter.service.ts
Size: 5.63 kB
================================================================================

import {
  Injectable,
  NotFoundException,
  ForbiddenException,
  ConflictException,
} from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository, IsNull } from 'typeorm';
import { Sitter } from './sitter.entity';
import { CreateSitterDto } from './dto/create-sitter.dto';
import { UpdateSitterDto } from './dto/update-sitter.dto';
import { User } from '../user/user.entity';
import { UserService } from '../user/user.service';

@Injectable()
export class SitterService {
  constructor(
    @InjectRepository(Sitter)
    private readonly sitterRepository: Repository<Sitter>,
    private readonly userService: UserService,

    @InjectRepository(User)
    private userRepository: Repository<User>,
  ) {}

  async create(createSitterDto: CreateSitterDto, userId: number): Promise<Sitter> {
    // 1. Fetch the existing User entity.
    const user = await this.userRepository.findOne({ where: { id: userId } });
    
    if (!user) {
      throw new NotFoundException('User not found');
    }

    // Check if user already has a sitter profile
    if (user.role === 'sitter') {
      throw new ConflictException('User already has a sitter profile');
    }

    // 2. CORRECT LOGIC for Single Table Inheritance: Apply ALL DTO fields 
    // (user fields like phoneNumber + sitter fields like bio, rates) directly to the User object.
    Object.assign(user, createSitterDto);
    user.role = 'sitter';
    // Save the updated User record (which holds all Sitter data).
    await this.userRepository.save(user);

    // 3. Update the role and save the complete, single entity (record in the 'users' table).
    user.role = 'sitter';
    await this.userRepository.save(user);

    // 4. Fetch the record using the SitterRepository to return the correct Sitter type.
    const savedSitter = await this.sitterRepository.findOne({ 
        where: { userId },
        relations: ['user'] 
    });

    if (!savedSitter) {
        throw new NotFoundException('Failed to retrieve Sitter profile after creation');
    }

    return savedSitter;
  }

  async findAll(minRating?: number): Promise<Sitter[]> {
    const query = this.sitterRepository
      .createQueryBuilder('sitter')
      .leftJoinAndSelect('sitter.user', 'user')
      .where('sitter.deleted_at IS NULL')
      .orderBy('sitter.rating', 'DESC');

    if (minRating) {
      query.where('sitter.rating >= :minRating', { minRating });
    }

    return await query.getMany();
  }

  async findOne(id: number): Promise<Sitter> {
    const sitter = await this.sitterRepository.findOne({
      where: { id },
      withDeleted: false,
      relations: ['user', 'reviews', 'bookings'],
    });

    if (!sitter) {
      throw new NotFoundException(`Sitter with ID ${id} not found`);
    }

    return sitter;
  }

  async findByUserId(userId: number): Promise<Sitter | null> {
    return await this.sitterRepository.findOne({
      where: { userId, deleted_at: IsNull() },
      
      relations: ['user'],
    });
  }

  async update(
    id: number,
    updateSitterDto: UpdateSitterDto,
    userId: number,
  ): Promise<Sitter> {
    // We fetch the Sitter entity (which contains both user and sitter data)
    const sitter = await this.findOne(id);

    if (sitter.userId !== userId) {
      throw new ForbiddenException('You can only update your own sitter profile');
    }

    // 5. CORRECT LOGIC for Single Table Inheritance: Apply ALL DTO properties directly to the Sitter entity.
    Object.assign(sitter, updateSitterDto);
    
    // We save the Sitter entity, updating the single shared record in the 'users' table.
    await this.sitterRepository.save(sitter);

    // Get a FRESH Sitter object to ensure all related data is up-to-date
    const freshSitter = await this.sitterRepository.findOne({
        where: { id },
        relations: ['user', 'reviews', 'bookings'],
    });

    if (!freshSitter) {
        throw new NotFoundException(`Sitter profile with ID ${id} not found after update.`);
    }

    return freshSitter;
  }

  async remove(id: number, userId: number): Promise<void> {
    const sitter = await this.findOne(id);

    // Check if the user owns this sitter profile
    if (sitter.userId !== userId) {
      throw new ForbiddenException('You can only delete your own sitter profile');
    }

    // We rely on TypeORM's configuration (soft-delete behavior) when removing the entity.
    await this.sitterRepository.remove(sitter);
  }

  async updateRating(id: number): Promise<Sitter> {
    const sitter = await this.sitterRepository.findOne({
      where: { id },
      relations: ['reviews'],
    });

    if (!sitter) {
      throw new NotFoundException(`Sitter with ID ${id} not found`);
    }

    if (sitter.reviews && sitter.reviews.length > 0) {
      const totalRating = sitter.reviews.reduce(
        (sum, review) => sum + review.rating,
        0,
      );
      sitter.rating = totalRating / sitter.reviews.length;
      sitter.reviews_count = sitter.reviews.length;
    } else {
      sitter.rating = 0;
      sitter.reviews_count = 0;
    }

    return await this.sitterRepository.save(sitter);
  }

  async searchByAvailability(date: string): Promise<Sitter[]> {
    return await this.sitterRepository
      .createQueryBuilder('sitter')
      .leftJoinAndSelect('sitter.user', 'user')
      .where(':date = ANY(sitter.available_dates)', { date })
      .orderBy('sitter.rating', 'DESC')
      .getMany();
  }
}


================================================================================
File: src\user\user.entity.ts
Size: 2.01 kB
================================================================================

// src/user/user.entity.ts
import { Booking } from 'src/booking/booking.entity';
import { Notification } from 'src/notification/notification.entity';
import { Pet } from 'src/pet/pet.entity';
import { Review } from 'src/review/review.entity';
import { Sitter } from 'src/sitter/sitter.entity';
import { Post } from 'src/posts/posts.entity';
import { Comment } from 'src/comments/comments.entity';
import { Like } from 'src/likes/likes.entity';
import {
  Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, OneToMany, OneToOne
} from 'typeorm';

@Entity('users')
export class User {
  @PrimaryGeneratedColumn() // 'INT user_id PK'
  id: number;

  @Column() // 'STRING name'
  name: string;

  @Column({
    unique: true,
    nullable: true,
  }) // 'STRING email'
  email: string;

  @Column({
    // <-- ADD THIS WHOLE BLOCK
    unique: true,
    nullable: true,
  })
  phone_number: string;

  @Column() // 'STRING password'
  passwordHash: string; // Renamed from 'password' for security

  @Column({ default: 'user' }) // 'STRING role'
  role: string;

  @Column({ nullable: true }) // 'STRING profile_picture'
  profile_picture: string;

  @CreateDateColumn() // 'TIMESTAMP created_at'
  created_at: Date;

  @UpdateDateColumn() // 'TIMESTAMP updated_at'
  updated_at: Date;

  // --- Relationships ---
  @OneToMany(() => Pet, (pet) => pet.owner)
  pets: Pet[];

  @OneToOne(() => Sitter, (sitter) => sitter.user)
  sitterProfile: Sitter;

  @OneToMany(() => Booking, (booking) => booking.owner)
  bookings: Booking[];

  @OneToMany(() => Review, (review) => review.owner)
  reviews: Review[];

  @OneToMany(() => Notification, (notification) => notification.user)
  notifications: Notification[];

  @OneToMany(() => Post, (post) => post.user)
  posts: Post[];

  @OneToMany(() => Comment, (comment) => comment.user)
  comments: Comment[];

  @OneToMany(() => Like, (like) => like.user)
  likes: Like[];
}


================================================================================
File: src\user\user.module.ts
Size: 361 B
================================================================================

import { Module } from '@nestjs/common';
import { UserService } from './user.service';
import { TypeOrmModule } from '@nestjs/typeorm';
import { User } from './user.entity';

@Module({
  imports: [TypeOrmModule.forFeature([User])],
  providers: [UserService],
  exports: [TypeOrmModule.forFeature([User]), UserService],
})
export class UserModule {}


================================================================================
File: src\user\user.service.spec.ts
Size: 464 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { UserService } from './user.service';

describe('UserService', () => {
  let service: UserService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [UserService],
    }).compile();

    service = module.get<UserService>(UserService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });
});


================================================================================
File: src\user\user.service.ts
Size: 2.04 kB
================================================================================

import { Injectable, NotFoundException } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { User } from './user.entity';
// Import your DTO, e.g., CreateUserDto, if you use it in the create method
// import { CreateUserDto } from './dto/create-user.dto'; 

@Injectable()
export class UserService {
  constructor(
    @InjectRepository(User)
    private usersRepository: Repository<User>,
  ) {}

  async findByEmail(email: string): Promise<User | null> {
    return this.usersRepository.findOne({ where: { email } });
  }

  // --- 1. ADD THIS FUNCTION ---
  /**
   * Finds a user by their phone number.
   */
  async findByPhone(phone: string): Promise<User | null> {
    return this.usersRepository.findOne({ where: { phone_number: phone } });
  }

  // --- 2. ADD THIS FUNCTION ---
  /**
   * Finds a user by EITHER email OR phone number.
   * Used for the login process.
   */
  async findOneByIdentifier(identifier: string): Promise<User | null> {
    return this.usersRepository.findOne({
      where: [
        { email: identifier }, 
        { phone_number: identifier }
      ],
    });
  }

  /**
   * Creates and saves a new user.
   * Assumes password hash is already created.
   * The 'Partial<User>' type will correctly accept your
   * { name, email, phone_number, passwordHash } object.
   */
  async create(userData: Partial<User>): Promise<User> {
    const newUser = this.usersRepository.create(userData);
    return this.usersRepository.save(newUser);
  }

  /**
   * Finds a user by their ID.
   */
  async findById(id: number) {
    return this.usersRepository.findOne({ where: { id } });
  }

  /**
   * Updates a user's role.
   */
  async updateUserRole(id: number, newRole: string) {
    const user = await this.findById(id);
    if (!user) {
      throw new NotFoundException('User not found');
    }
    user.role = newRole;
    return this.usersRepository.save(user);
  }
}


================================================================================
File: test\app.e2e-spec.ts
Size: 694 B
================================================================================

import { Test, TestingModule } from '@nestjs/testing';
import { INestApplication } from '@nestjs/common';
import request from 'supertest';
import { App } from 'supertest/types';
import { AppModule } from './../src/app.module';

describe('AppController (e2e)', () => {
  let app: INestApplication<App>;

  beforeEach(async () => {
    const moduleFixture: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    }).compile();

    app = moduleFixture.createNestApplication();
    await app.init();
  });

  it('/ (GET)', () => {
    return request(app.getHttpServer())
      .get('/')
      .expect(200)
      .expect('Hello World!');
  });
});


================================================================================
File: test\jest-e2e.json
Size: 192 B
================================================================================

{
  "moduleFileExtensions": ["js", "json", "ts"],
  "rootDir": ".",
  "testEnvironment": "node",
  "testRegex": ".e2e-spec.ts$",
  "transform": {
    "^.+\\.(t|j)s$": "ts-jest"
  }
}


================================================================================
File: test-api.http
Size: 269 B
================================================================================

POST http://localhost:3000/pets/1/health-records HTTP/1.1
Content-Type: application/json

{
  "recordType": "Vaccination",
  "date": "2025-10-29T10:00:00.000Z",
  "notes": "Annual booster shot"
}

###

GET http://localhost:3000/pets/1/health-records HTTP/1.1

================================================================================
File: tsconfig.build.json
Size: 101 B
================================================================================

{
  "extends": "./tsconfig.json",
  "exclude": ["node_modules", "test", "dist", "**/*spec.ts"]
}


================================================================================
File: tsconfig.json
Size: 783 B
================================================================================

{
  "compilerOptions": {
    "module": "commonjs",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "esModuleInterop": true,
    "isolatedModules": true,
    "declaration": true,
    "removeComments": true,
    "emitDecoratorMetadata": true,
    "experimentalDecorators": true,
    "allowSyntheticDefaultImports": true,
    "target": "ES2023",
    "sourceMap": true,
    "outDir": "./dist",
    "baseUrl": "./",
    "incremental": true,
    "skipLibCheck": true,
    "strictNullChecks": true,
    "forceConsistentCasingInFileNames": true,
    "noImplicitAny": false,
    "strictBindCallApply": false,
    "noFallthroughCasesInSwitch": false
  }
  ,
  "exclude": [
    "node_modules",
    "dist",
    "test",
    "**/*.spec.ts"
  ]
}

